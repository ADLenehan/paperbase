{"at":"2025-11-10T20:39:04.349022","root":".","tree":[".","\u251c\u2500\u2500 app/ (74 files)","\u2502   \u251c\u2500\u2500 api/ (23 files)","\u2502   \u251c\u2500\u2500 core/ (6 files)","\u2502   \u251c\u2500\u2500 data/ (1 files)","\u2502   \u251c\u2500\u2500 mcp/ (2 files)","\u2502   \u251c\u2500\u2500 migrations/ (2 files)","\u2502   \u251c\u2500\u2500 models/ (15 files)","\u2502   \u251c\u2500\u2500 services/ (16 files)","\u2502   \u2514\u2500\u2500 utils/ (7 files)","\u251c\u2500\u2500 htmlcov/ (74 files)","\u251c\u2500\u2500 mcp_server/ (23 files)","\u2502   \u251c\u2500\u2500 prompts/ (2 files)","\u2502   \u251c\u2500\u2500 resources/ (4 files)","\u2502   \u251c\u2500\u2500 services/ (4 files)","\u2502   \u251c\u2500\u2500 tools/ (7 files)","\u2502   \u2514\u2500\u2500 setup.py","\u251c\u2500\u2500 migrations/ (8 files)","\u251c\u2500\u2500 scripts/ (1 files)","\u251c\u2500\u2500 tests/ (11 files)"],"stats":{"total_files":136,"total_directories":17,"fully_parsed":{"python":131,"javascript":1},"listed_only":{"json":1,"shell":2,"sql":1},"markdown_files":0},"f":{"app/models/background_job.py":["p",{"BackgroundJob":["9",["progress_percentage:46:(self)>float::Calculate progress as percentage (0.0 - 1.0)","to_dict:52:(self)>dict::Convert to dictionary for API responses"]]}],"app/services/field_extraction_service.py":["p",{"FieldExtractionService":["18",["__init__:26:(self)::","extract_field_from_all_docs:35:async (self, template_id:int, field_config:Dict[str, Any], db:Session)>BackgroundJob:_extract_field_background:","_extract_field_background:89:async (self, job_id:int, documents:List[Document], field_config:Dict[str, Any])::","get_job_status:202:async (self, job_id:int, db:Session)>Dict[str, Any]::","cancel_job:219:async (self, job_id:int, db:Session)>bool::"]]}],"mcp_server/tools/aggregations.py":["p",["aggregate_field:23:async (field:str, aggregation_type:str = \"stats\", filters:Optional[Dict[str, Any]] = None, config:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_format_agg_summary,aggregate_field:","multi_aggregate:144:async (aggregations:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_format_multi_agg_summary,multi_aggregate:","get_dashboard_stats:230:async ()>Dict[str, Any]:_format_dashboard_summary,get_dashboard_stats:","get_field_insights:295:async (field:str)>Dict[str, Any]:_format_insights_summary,get_field_insights:","_format_agg_summary:366:(agg_type:str, results:Dict[str, Any])>str::Format aggregation results into human-readable summary.","_format_multi_agg_summary:390:(aggregations:List[Dict], results:Dict)>str:_format_agg_summary:Format multi-aggregation results.","_format_dashboard_summary:402:(results:Dict)>str::Format dashboard results.","_format_insights_summary:411:(field:str, insights:Dict)>str::Format field insights summary."]],"migrations/add_background_jobs_table.py":["p",["run_migration:25:()::Create background_jobs table","rollback_migration:36:()::Drop background_jobs table"]],"app/api/aggregations.py":["p",["get_single_aggregation:52:async (request:AggregationRequest)::","get_multi_aggregations:87:async (request:MultiAggregationRequest):get_multi_aggregations:","get_nested_aggregations:126:async (request:NestedAggregationRequest):get_nested_aggregations:","get_dashboard_aggregations:166:async ():get_multi_aggregations:","get_field_insights:233:async (field:str)::","execute_custom_aggregation:299:async (custom_query:Dict[str, Any])::","get_preset_aggregation:358:async (preset_name:str, filters:Optional[Dict[str, Any]] = None):get_multi_aggregations:"],{"AggregationRequest":["20",[]],"MultiAggregationRequest":["29",[]],"NestedAggregationRequest":["38",[]]}],"app/api/analytics.py":["p",["get_dashboard_metrics:16:async (db:Session = Depends(get_db))::Get dashboard metrics","get_schema_stats:98:async (db:Session = Depends(get_db))::Get statistics for each schema","get_trends:133:async (days:int = 7, db:Session = Depends(get_db))::Get processing trends over time"]],"app/api/audit.py":["p",["get_audit_queue:69:async (template_id:Optional[int] = Query(None, description=\"Filter by template ID\"), priority:Optional[str] = Query(None, description=\"Filter by priority:critical, high, medium, low\"), min_confidence:float = Query(0.0, ge=0.0, le=1.0), max_confidence:Optional[float] = Query(None, ge=0.0, le=1.0, description=\"Max confidence threshold (uses settings default if not provided)\"), include_validation_errors:bool = Query(True, description=\"Include fields with validation errors\"), page:int = Query(1, ge=1), size:int = Query(20, ge=1, le=100), count_only:bool = Query(False, description=\"Return only count\"), db:Session = Depends(get_db))::","get_document_audit_fields:199:async (document_id:int, max_confidence:Optional[float] = Query(None, ge=0.0, le=1.0, description=\"Max confidence threshold (uses settings default if not provided)\"), db:Session = Depends(get_db))::","verify_field:264:async (request:VerifyFieldRequest, db:Session = Depends(get_db))::","verify_field_and_regenerate_answer:371:async (request:VerifyAndRegenerateRequest, db:Session = Depends(get_db))::","get_audit_stats:530:async (template_id:Optional[int] = None, db:Session = Depends(get_db))::Get audit statistics","bulk_verify_fields:613:async (request:BulkVerifyRequest, db:Session = Depends(get_db))::","bulk_verify_and_regenerate:747:async (request:BulkVerifyAndRegenerateRequest, db:Session = Depends(get_db))::"],{"AuditFieldResponse":["21",[]],"VerifyFieldRequest":["35",[]],"BulkVerifyRequest":["43",[]],"VerifyAndRegenerateRequest":["48",[]],"BulkVerifyAndRegenerateRequest":["736",[]]}],"app/api/auth.py":["p",["login:90:(credentials:LoginRequest, db:Session = Depends(get_db))::","logout:143:(current_user:User = Depends(get_current_user))::","get_current_user_info:155:(current_user:User = Depends(get_current_user))::Get current authenticated user information","change_password:173:(request:ChangePasswordRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::Change current user's password","create_user_api_key:212:(request:CreateAPIKeyRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","list_user_api_keys:256:(current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::List all API keys for the current user","revoke_api_key:280:(key_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","create_api_key_for_user:317:(user_id:int, request:CreateAPIKeyRequest, current_user:User = Depends(get_current_active_admin), db:Session = Depends(get_db))::","list_user_api_keys_admin:370:(user_id:int, current_user:User = Depends(get_current_active_admin), db:Session = Depends(get_db))::Admin: List API keys for any user"],{"LoginRequest":["38",[]],"LoginResponse":["44",[]],"ChangePasswordRequest":["51",[]],"CreateAPIKeyRequest":["57",[]],"APIKeyResponse":["63",[]],"APIKeyListItem":["72",[]]}],"app/api/bulk_upload.py":["p",["_validate_and_normalize_fields:49:(fields:List[Dict[str, Any]])>List[Dict[str, Any]]::","upload_and_analyze:138:async (files:List[UploadFile] = File(...), background_tasks:BackgroundTasks = None, auto_process:bool = False, auto_process_threshold:float = 0.85, db:Session = Depends(get_db))::","confirm_template:508:async (request:ConfirmTemplateRequest, db:Session = Depends(get_db))::","quick_analyze:611:async (request:QuickAnalyzeRequest, db:Session = Depends(get_db))::","generate_schema:676:async (request:GenerateSchemaRequest, db:Session = Depends(get_db))::","create_new_template:788:async (request:CreateTemplateRequest, db:Session = Depends(get_db)):_validate_and_normalize_fields:","bulk_verify:1080:async (verifications:List[Dict[str, Any]], db:Session = Depends(get_db))::","validate_schema:1152:async (request:ValidateSchemaRequest)::"],{"ConfirmTemplateRequest":["28",[]],"CreateTemplateRequest":["33",[]],"GenerateSchemaRequest":["39",[]],"QuickAnalyzeRequest":["45",[]],"ValidateSchemaRequest":["1145",[]]}],"app/api/documents.py":["p",["upload_documents:25:async (schema_id:int, files:List[UploadFile] = File(...), db:Session = Depends(get_db))::Upload documents for processing","process_documents:77:async (request:dict, background_tasks:BackgroundTasks, db:Session = Depends(get_db))::Process uploaded documents with Reducto extraction","process_single_document:101:async (document_id:int)::Background task to process a single document","list_documents:443:async (schema_id:Optional[int] = None, status:Optional[str] = None, query_id:Optional[str] = None, page:int = 1, size:int = 100, db:Session = Depends(get_db))::","get_document:552:async (document_id:int, db:Session = Depends(get_db))::Get document details with extractions","assign_template:618:async (document_id:int, request:dict, db:Session = Depends(get_db))::Assign a template/schema to a document with optional custom fields","delete_document:676:async (document_id:int, db:Session = Depends(get_db)):delete_document:Delete a document and its associated data","mark_document_verified:775:async (document_id:int, request:dict, db:Session = Depends(get_db))::"]],"app/api/export.py":["p",["list_exportable_templates:42:async (db:Session = Depends(get_db))::","get_export_summary:83:async (template_id:Optional[int] = Query(None), date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), db:Session = Depends(get_db)):get_export_summary:","analyze_template_compatibility:116:async (request:AnalyzeTemplatesRequest, db:Session = Depends(get_db)):analyze_template_compatibility:","export_template_csv:151:async (template_id:int, date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), confidence_min:float = Query(0.0, ge=0.0, le=1.0), verified_only:bool = Query(False), include_metadata:bool = Query(True), db:Session = Depends(get_db))::","export_template_excel:206:async (template_id:int, date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), confidence_min:float = Query(0.0, ge=0.0, le=1.0), verified_only:bool = Query(False), include_metadata:bool = Query(True), expand_complex_fields:bool = Query(True, description=\"Create separate sheets for tables/arrays\"), db:Session = Depends(get_db))::","export_template_json:266:async (template_id:int, date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), confidence_min:float = Query(0.0, ge=0.0, le=1.0), verified_only:bool = Query(False), format_type:str = Query(\"pretty\", description=\"pretty, compact, or records (JSON Lines)\"), db:Session = Depends(get_db))::","export_custom:317:async (request:ExportRequest, format:str = Query(\"excel\", description=\"csv, excel, or json\"), db:Session = Depends(get_db)):analyze_template_compatibility:","export_documents:449:async (document_ids:str = Query(..., description=\"Comma-separated document IDs\"), format:str = Query(\"excel\", description=\"csv, excel, or json\"), include_metadata:bool = Query(True), expand_complex_fields:bool = Query(True, description=\"Create separate sheets for tables/arrays\"), db:Session = Depends(get_db))::"],{"ExportRequest":["21",[]],"AnalyzeTemplatesRequest":["36",[]]}],"app/api/extractions.py":["p",["upload_and_extract:44:async (files:List[UploadFile] = File(...), template_ids:List[int] = None, background_tasks:BackgroundTasks = None, db:Session = Depends(get_db))::","batch_extract:120:async (request:BatchExtractRequest, background_tasks:BackgroundTasks, db:Session = Depends(get_db)):batch_extract:","list_extractions:156:async (physical_file_id:int, db:Session = Depends(get_db)):list_extractions:","get_extraction_detail:204:async (extraction_id:int, db:Session = Depends(get_db))::","reprocess_extraction:252:async (extraction_id:int, request:ReprocessRequest = None, background_tasks:BackgroundTasks = None, db:Session = Depends(get_db))::","get_extraction_stats:308:async (db:Session = Depends(get_db)):get_extraction_stats:","delete_extraction:328:async (extraction_id:int, db:Session = Depends(get_db))::"],{"UploadAndExtractRequest":["24",[]],"BatchExtractRequest":["28",[]],"ReprocessRequest":["34",[]]}],"app/api/files.py":["p",["get_document_preview:18:async (document_id:int = Path(..., description=\"Document ID\"), db:Session = Depends(get_db))::","download_document:93:async (document_id:int = Path(..., description=\"Document ID\"), db:Session = Depends(get_db))::"]],"app/api/folders.py":["p",["browse_folders:33:async (path:str = \"\", db:Session = Depends(get_db))::","reorganize_files:61:async (request:ReorganizeRequest, db:Session = Depends(get_db))::","get_folder_stats:95:async (path:str = \"\", db:Session = Depends(get_db)):get_folder_stats:","search_in_folder:121:async (path:str = \"\", q:str = \"\", db:Session = Depends(get_db)):search_in_folder:","get_breadcrumbs:154:async (path:str = \"\"):get_breadcrumbs:","get_folder_tree:183:async (max_depth:int = 3, db:Session = Depends(get_db)):get_folder_tree:","get_template_folders:213:async (db:Session = Depends(get_db))::"],{"ReorganizeRequest":["20",[]],"SearchRequest":["25",[]]}],"app/api/mcp_search.py":["p",["search_documents_mcp:52:async (request:MCPSearchRequest)::","get_document_mcp:229:async (document_id:int)::","aggregate_mcp:259:async (request:MCPAggregationRequest)::","list_available_fields:297:async ()::","list_templates:359:async ()::","get_search_stats:401:async ()::","explain_query:431:async (query:str = Query(..., description=\"Natural language query to explain\"))::","get_document_content_mcp:501:async (document_id:int)::","get_document_chunks_mcp:569:async (document_id:int, chunk_size:int = Query(default=2000, ge=100, le=10000, description=\"Characters per chunk\"), page:int = Query(default=1, ge=1, description=\"Page number (1-indexed)\"), overlap:int = Query(default=200, ge=0, le=1000, description=\"Character overlap between chunks\"))::"],{"MCPSearchRequest":["23",[]],"MCPAggregationRequest":["32",[]],"MCPSearchResponse":["40",[]]}],"app/api/nl_query.py":["p",["natural_language_query:42:async (request:NLQueryRequest, db:Session = Depends(get_db)):_format_result,_generate_suggested_actions,_handle_aggregation_query,_hash_query:","_handle_aggregation_query:228:async (parsed_query:Dict[str, Any], elastic_service:ElasticsearchService, results:List[Dict[str, Any]])>Dict[str, Any]::Handle aggregation queries like totals, averages, grouping.","_format_result:285:(result:Dict[str, Any])>Dict[str, Any]::Format a single result for frontend display.","_generate_suggested_actions:300:(query_type:str, total_count:int, results:List[Dict[str, Any]])>List[str]::Generate contextual suggested actions based on results.","_hash_query:342:(query:str)>str::Generate a hash for query caching.","get_cache_stats:350:async (db:Session = Depends(get_db))::","clear_cache:389:async (db:Session = Depends(get_db))::","get_query_suggestions:404:async (db:Session = Depends(get_db))::"],{"NLQueryRequest":["22",[]],"NLQueryResponse":["27",[]]}],"app/api/onboarding.py":["p",["analyze_samples:29:async (files:List[UploadFile] = File(...), db:Session = Depends(get_db))::","list_schemas:157:async (db:Session = Depends(get_db))::List all available schemas","create_schema:178:async (schema_data:dict, db:Session = Depends(get_db))::Create a new schema (e.g., when saving as new template)","get_schema:246:async (schema_id:int, db:Session = Depends(get_db))::Get schema details","get_schema_document_count:262:async (schema_id:int, db:Session = Depends(get_db))::Get count of documents using this schema","update_schema:284:async (schema_id:int, schema_data:dict, db:Session = Depends(get_db))::Update schema fields (after manual editing)","re_extract_documents:315:async (schema_id:int, db:Session = Depends(get_db))::","add_field_from_description:374:async (schema_id:int, description:dict, db:Session = Depends(get_db)):suggest_field_from_description:Add a field using natural language description","modify_schema_with_prompt:434:async (request:ModifySchemaRequest, db:Session = Depends(get_db)):modify_schema_with_prompt:","suggest_field_from_description:464:async (schema_id:int, request:dict, db:Session = Depends(get_db))::","add_field_and_extract:551:async (schema_id:int, request:dict, db:Session = Depends(get_db))::","get_job_status:645:async (job_id:int, db:Session = Depends(get_db)):get_job_status:","cancel_job:675:async (job_id:int, db:Session = Depends(get_db)):cancel_job:"],{"ModifySchemaRequest":["20",[]]}],"app/api/query_suggestions.py":["p",["get_query_suggestions:18:async (template_id:Optional[int] = None, folder_path:Optional[str] = None, db:Session = Depends(get_db)):_get_context_suggestions,get_query_suggestions:","_get_context_suggestions:166:(context:str)>List[str]::Generate context-aware suggestions based on folder name"]],"app/api/rematch.py":["p",["rematch_all_documents:23:async (db:Session = Depends(get_db))>Dict[str, Any]::","rematch_single_document:144:async (document_id:int, db:Session = Depends(get_db))>Dict[str, Any]::"]],"app/api/roles.py":["p",["list_permissions:100:async (resource_type:Optional[str] = Query(None, description=\"Filter by resource type\"), current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","list_roles:143:async (org_id:Optional[int] = Query(None, description=\"Filter by organization\"), role_type:Optional[str] = Query(None, description=\"Filter by role type\"), include_inactive:bool = Query(False, description=\"Include inactive roles\"), current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_role:226:async (role_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","create_role:278:async (role_data:RoleCreate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","update_role:374:async (role_id:int, role_data:RoleUpdate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","delete_role:449:async (role_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","add_permissions_to_role:503:async (role_id:int, request:AddPermissionsRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","remove_permission_from_role:563:async (role_id:int, permission_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","initialize_default_roles_and_permissions:618:async (current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::"],{"PermissionResponse":["36",[]],"RoleCreate":["48",[]],"RoleUpdate":["57",[]],"RoleResponse":["64",[]],"RoleListResponse":["82",[]],"AddPermissionsRequest":["88",[]]}],"app/api/search.py":["p",["search_documents:29:async (request:SearchRequest, db:Session = Depends(get_db)):_add_folder_filter,_add_template_filter,_get_template_context:","_add_folder_filter:513:(es_query:Dict[str, Any], folder_path:str)>Dict[str, Any]::Add folder_path filter to ES query using prefix match","_get_template_context:543:(template_id:str, db:Session)>Optional[Dict[str, Any]]::","_add_template_filter:589:(es_query:Dict[str, Any], template_id:str, db:Session)>Dict[str, Any]::","get_available_filters:666:async ()::Get available filter options and value distributions","get_index_statistics:701:async ():_get_index_recommendations:","_get_index_recommendations:742:(stats:Dict[str, Any])>List[str]::Generate recommendations based on index statistics"],{"SearchRequest":["18",[]]}],"app/api/settings.py":["p",["get_default_context:51:(db:Session)::","get_all_settings:67:async (include_metadata:bool = Query(True, description=\"Include metadata like source, description, etc.\"), db:Session = Depends(get_db))>SettingsListResponse:get_all_settings,get_default_context:","get_setting:110:async (key:str, db:Session = Depends(get_db))>SettingResponse:get_default_context,get_setting:","update_setting:171:async (key:str, request:SettingUpdateRequest, level:str = Query(\"organization\", pattern=\"^(system|organization|user)$\", description=\"Setting level\"), db:Session = Depends(get_db)):get_default_context:","delete_setting:249:async (key:str, level:str = Query(\"organization\", pattern=\"^(system|organization|user)$\", description=\"Setting level\"), db:Session = Depends(get_db)):delete_setting,get_default_context:","initialize_defaults:290:async (db:Session = Depends(get_db)):initialize_defaults:","get_categories:312:async ()::","get_settings_by_category:332:async (category:str, db:Session = Depends(get_db)):get_all_settings,get_default_context:"],{"SettingUpdateRequest":["22",[]],"SettingResponse":["30",[]],"SettingsListResponse":["42",[]]}],"app/api/sharing.py":["p",["build_share_url:115:(token:str)>str::Build public share link URL","share_document:130:async (document_id:int, request:ShareDocumentRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_document_permissions:243:async (document_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):build_share_url:","revoke_document_access:379:async (document_id:int, user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):revoke_document_access:","create_share_link:414:async (document_id:int, request:ShareLinkRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):build_share_url,create_share_link:","revoke_share_link:487:async (link_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):revoke_share_link:","share_folder:518:async (folder_path:str, request:FolderShareRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_folder_permissions:657:async (folder_path:str, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::"],{"ShareDocumentRequest":["39",[]],"ShareLinkRequest":["51",[]],"FolderShareRequest":["59",[]],"DocumentPermissionResponse":["71",[]],"ShareLinkResponse":["86",[]],"DocumentAccessResponse":["102",[]]}],"app/api/templates.py":["p",["list_templates:14:async (db:Session = Depends(get_db)):seed_builtin_templates:","get_template:73:async (template_id:int, db:Session = Depends(get_db))::Get full template details including all fields","get_templates_by_category:93:async (category:str, db:Session = Depends(get_db))::Get all templates in a specific category","track_template_usage:115:async (template_id:int, db:Session = Depends(get_db))::Increment usage count when template is selected","seed_templates:129:async (db:Session = Depends(get_db)):seed_builtin_templates:","seed_builtin_templates:143:(db:Session)>list[SchemaTemplate]::Helper function to seed built-in templates"]],"app/api/users.py":["p",["require_permission:91:async (action:PermissionAction, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):require_permission:Dependency to require a specific permission","create_user:104:async (user_data:UserCreate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):require_permission:","list_users:172:async (org_id:Optional[int] = Query(None, description=\"Filter by organization\"), is_active:Optional[bool] = Query(None, description=\"Filter by active status\"), search:Optional[str] = Query(None, description=\"Search by name or email\"), page:int = Query(1, ge=1), page_size:int = Query(20, ge=1, le=100), current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:","get_user:242:async (user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:","update_user:286:async (user_id:int, user_data:UserUpdate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:","deactivate_user:358:async (user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):require_permission:","assign_role_to_user:403:async (user_id:int, assignment:RoleAssignment, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","revoke_role_from_user:463:async (user_id:int, role_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_user_permissions:498:async (user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:"],{"UserCreate":["34",[]],"UserUpdate":["43",[]],"RoleAssignment":["50",[]],"UserResponse":["59",[]],"UserListResponse":["77",[]]}],"app/api/verification.py":["p",["get_verification_queue:24:async (schema_id:Optional[int] = None, page:int = 1, size:int = 20, db:Session = Depends(get_db))::Get items that need verification (low confidence)","verify_field:69:async (field_id:int, verification_data:dict, db:Session = Depends(get_db))::","get_verification_stats:159:async (schema_id:Optional[int] = None, db:Session = Depends(get_db))::Get verification statistics","create_verification_session:211:async (schema_id:int, db:Session = Depends(get_db))::Create a new verification session","complete_verification_session:242:async (session_id:str, db:Session = Depends(get_db))::Mark verification session as complete"]],"app/core/auth.py":["p",["hash_password:37:(password:str)>str::Hash a password using bcrypt","verify_password:42:(plain_password:str, hashed_password:str)>bool::Verify a password against its hash","create_access_token:51:(user_id:int, expires_delta:Optional[timedelta] = None)>str::","decode_access_token:82:(token:str)>Optional[int]::","create_api_key:117:(user_id:int, name:str = \"Default\")>Tuple[str, str]:hash_password:","verify_api_key:139:(db:Session, key:str)>Optional[User]:verify_password:","get_current_user:188:async (credentials:HTTPAuthorizationCredentials = Depends(security), db:Session = Depends(get_db))>User:decode_access_token,verify_api_key:","get_current_active_admin:234:async (current_user:User = Depends(get_current_user))>User::","get_current_user_optional:262:async (credentials:Optional[HTTPAuthorizationCredentials] = Depends(HTTPBearer(auto_error=False)), db:Session = Depends(get_db))>Optional[User]:get_current_user:"]],"app/core/config.py":["p",{"Settings":["6",[]]}],"app/core/database.py":["p",["get_db:20:()::"]],"app/core/error_handlers.py":["p",["paperbase_exception_handler:24:async (request:Request, exc:PaperbaseException)>JSONResponse::","validation_exception_handler:55:async (request:Request, exc:RequestValidationError)>JSONResponse::","http_exception_handler:90:async (request:Request, exc:StarletteHTTPException)>JSONResponse::","general_exception_handler:115:async (request:Request, exc:Exception)>JSONResponse::","register_error_handlers:146:(app)::"]],"app/core/exceptions.py":["p",{"PaperbaseException":["6",["__init__:8:(self, message:str, status_code:int = 500):__init__:"]],"ValidationError":["14",["__init__:16:(self, message:str):__init__:"]],"NotFoundError":["20",["__init__:22:(self, resource:str, identifier:str):__init__:"]],"ExternalServiceError":["27",["__init__:29:(self, service:str, message:str, original_error:Exception = None):__init__:"]],"ReductoError":["38",["__init__:40:(self, message:str, original_error:Exception = None):__init__:"]],"ClaudeError":["44",["__init__:46:(self, message:str, original_error:Exception = None):__init__:"]],"ElasticsearchError":["50",["__init__:52:(self, message:str, original_error:Exception = None):__init__:"]],"ProcessingError":["56",["__init__:58:(self, document_id:str, message:str):__init__:"]],"SchemaError":["64",["__init__:66:(self, message:str):__init__:"]],"FileUploadError":["70",["__init__:72:(self, message:str):__init__:"]],"ConfigurationError":["76",["__init__:78:(self, message:str):__init__:"]],"PermissionDeniedError":["82",["__init__:84:(self, message:str = \"Permission denied\"):__init__:"]],"ResourceNotFoundError":["88",["__init__:90:(self, resource_type:str, resource_id:any):__init__:"]]}],"app/main.py":["p",["startup_event:69:async ()::","health_check:151:async ()::","mcp_status:162:async ()::","toggle_mcp:190:async (request:dict)::","root:207:async ()::"]],"app/mcp/server.py":["p",["list_tools:27:async ()>List[Tool]::","call_tool:190:async (name:str, arguments:Dict[str, Any])>List[TextContent]:_get_audit_queue,_get_document,_get_statistics,_get_templates,_search_documents,_verify_extraction:","_search_documents:234:async (args:Dict[str, Any])>List[TextContent]::","_get_document:295:async (args:Dict[str, Any])>List[TextContent]::","_get_audit_queue:341:async (args:Dict[str, Any])>List[TextContent]::","_verify_extraction:397:async (args:Dict[str, Any])>List[TextContent]::","_get_templates:456:async (args:Dict[str, Any])>List[TextContent]::","_get_statistics:502:async (args:Dict[str, Any])>List[TextContent]::","list_resources:553:async ()>List[EmbeddedResource]::","read_resource:575:async (uri:str)>str:_get_statistics:Read a resource by URI"]],"app/migrations/migrate_settings.py":["p",["migrate_settings:28:(db:Session, dry_run:bool = False)::","rollback_settings:103:(db:Session)::"]],"app/migrations/migrate_to_extractions.py":["p",["infer_template_from_schema:28:(schema_id:int, db:Session)>int::","generate_organized_path:58:(doc:Document, template_id:int, db:Session)>str::","migrate_documents_to_extractions:77:(db:Session, dry_run:bool = False):generate_organized_path,infer_template_from_schema:","rollback_migration:178:(db:Session)::"]],"app/models/batch.py":["p",{"Batch":["16",[]]}],"app/models/document.py":["p",{"Document":["7",["actual_file_path:58:(self)>str::Get actual file path, preferring PhysicalFile over legacy field.","actual_parse_result:65:(self)::Get actual parse result, preferring PhysicalFile over legacy field.","actual_job_id:72:(self)>str::Get actual job ID, preferring PhysicalFile over legacy field."]],"ExtractedField":["79",["audit_priority:122:(self)>int::","priority_label:150:(self)>str::Get human-readable priority label"]]}],"app/models/extraction.py":["p",{"Extraction":["7",[]]}],"app/models/extraction_schemas.py":["p",["get_validation_schema:295:(template_name:str)>Optional[type[BaseModel]]::","validate_field_value:312:(field_name:str, field_value:Any, template_name:str)>tuple[bool, Optional[str]]:get_validation_schema:"],{"ExtractedFieldBase":["23",[]],"InvoiceExtraction":["43",["validate_invoice_number:63:(cls, v:str)>str::Validate invoice number format","validate_amount:79:(cls, v:Decimal)>Decimal::Validate total amount is positive and reasonable","validate_invoice_date:92:(cls, v:date)>date::Validate invoice date is reasonable","validate_vendor_name:108:(cls, v:str)>str::Validate vendor name presence","validate_due_date:116:(self)>'InvoiceExtraction'::Validate due date is after invoice date"]],"ContractExtraction":["124",["validate_contract_id:143:(cls, v:str)>str::Validate contract ID format","validate_parties:152:(cls, v:List[str])>List[str]::Validate parties list","validate_dates:166:(self)>'ContractExtraction'::Validate expiration date is after effective date"]],"ReceiptExtraction":["178",["validate_merchant_name:195:(cls, v:str)>str::Validate merchant name","validate_amount:204:(cls, v:Decimal)>Decimal::Validate total amount","validate_receipt_date:216:(cls, v:date)>date::Validate receipt date is reasonable"]],"PurchaseOrderExtraction":["231",["validate_po_number:250:(cls, v:str)>str::Validate PO number","validate_vendor_name:259:(cls, v:str)>str::Validate vendor name","validate_amount:268:(cls, v:Decimal)>Decimal::Validate total amount","validate_delivery_date:276:(self)>'PurchaseOrderExtraction'::Validate delivery date is after PO date"]]}],"app/models/permissions.py":["p",{"Role":["102",[]],"Permission":["143",[]],"UserRole":["173",[]],"DocumentPermission":["214",[]],"FolderPermission":["254",[]],"ShareLink":["297",["is_expired:337:(self)>bool::Check if share link has expired"]],"ShareLinkAccessLog":["346",[]],"PermissionAuditLog":["366",[]],"APIKey":["406",[]]}],"app/models/physical_file.py":["p",{"PhysicalFile":["7",[]]}],"app/models/query_history.py":["p",{"QueryHistory":["15",["is_expired:46:(self)>bool::Check if this query has expired","create_from_search:60:(cls, query:str, answer:str, document_ids:list, source:str = \"ask_ai\", ttl_days:int = 30)::"]]}],"app/models/query_pattern.py":["p",{"QueryPattern":["6",[]],"QueryCache":["44",[]]}],"app/models/query_validation.py":["p",{"QueryValidation":["14",[]],"QueryImprovement":["86",[]],"FieldAliasLearning":["132",["update_confidence:178:(self)::Recalculate confidence score based on success/failure counts."]]}],"app/models/schema.py":["p",{"Schema":["7",[]],"ComplexityOverride":["33",[]],"FieldDefinition":["63",[]]}],"app/models/settings.py":["p",{"Organization":["23",[]],"User":["46",[]],"Settings":["79",[]]}],"app/models/template.py":["p",{"SchemaTemplate":["6",[]]}],"app/models/verification.py":["p",{"Verification":["7",[]],"VerificationSession":["32",[]]}],"app/services/answer_cache.py":["p",["get_answer_cache:209:()>AnswerCache::"],{"AnswerCache":["16",["__init__:19:(self, ttl_seconds:int = 3600, max_size:int = 1000)::","_generate_cache_key:34:(self, query:str, result_ids:List[int], filters:Optional[Dict] = None)>str::","get:62:(self, query:str, result_ids:List[int], filters:Optional[Dict] = None)>Optional[Dict[str, Any]]:_generate_cache_key,get:","set:105:(self, query:str, result_ids:List[int], answer:Dict[str, Any], filters:Optional[Dict] = None)>None:_evict_oldest,_generate_cache_key:","_evict_oldest:133:(self, count:int = 100)>None::","clear:155:(self)>None:clear:Clear all cached entries.","get_stats:161:(self)>Dict[str, Any]::","remove_expired:181:(self)>int::"]]}],"app/services/claude_service.py":["p",{"ClaudeService":["161",["__init__:173:(self)::","analyze_sample_documents:183:async (self, parsed_documents:List[Dict[str, Any]], user_context:Optional[str] = None)>Dict[str, Any]:_build_schema_generation_prompt:","quick_analyze_document:310:async (self, parsed_document:Dict[str, Any])>Dict[str, Any]::"]]}],"app/services/elastic_service.py":["p",{"ElasticsearchService":["10",["__init__:11:(self)::","create_index:16:async (self, schema:Dict[str, Any])>None:_build_complex_field_mapping,_get_es_field_type:Create Elasticsearch index with dynamic mapping based on schema","_get_es_field_type:162:(self, field_type:str)>str::Map schema field type to Elasticsearch type","_build_complex_field_mapping:173:(self, field:Dict[str, Any])>Dict[str, Any]:_get_es_field_type:","index_document:279:async (self, document_id:int, filename:str, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], full_text:str = \"\", schema:Optional[Dict[str, Any]] = None, field_metadata:Optional[Dict[str, Any]] = None)>str:_build_canonical_fields:","_build_canonical_fields:388:(self, extracted_fields:Dict[str, Any], field_metadata:Dict[str, Any])>Dict[str, Any]::","search:461:async (self, query:Optional[str] = None, filters:Optional[Dict[str, Any]] = None, min_confidence:Optional[float] = None, custom_query:Optional[Dict[str, Any]] = None, page:int = 1, size:int = 10)>Dict[str, Any]:search:Search documents with optional filters","get_document:540:async (self, document_id:int)>Optional[Dict[str, Any]]::Get document by ID","update_document:556:async (self, document_id:int, updated_fields:Dict[str, Any])>None::Update document fields (e.g., after verification)","delete_document:565:async (self, elasticsearch_id:str)>None::Delete a document from Elasticsearch by its ID","get_aggregations:584:async (self, field:str = None, agg_type:str = \"terms\", agg_config:Optional[Dict[str, Any]] = None, filters:Optional[Dict[str, Any]] = None, custom_aggs:Optional[Dict[str, Any]] = None)>Dict[str, Any]:search:","get_multi_aggregations:716:async (self, aggregations:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:search:","get_nested_aggregations:828:async (self, parent_agg:Dict[str, Any], sub_aggs:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:search:","health_check:924:async (self)>bool::Check Elasticsearch connection","close:933:async (self):close:Close Elasticsearch connection","optimize_for_bulk_indexing:937:async (self, enable:bool = True)::","refresh_index:961:async (self)::","get_index_stats:970:async (self)>Dict[str, Any]::","create_template_signatures_index:992:async (self)>None::Create index for template signatures (for similarity matching)","index_template_signature:1042:async (self, template_id:int, template_name:str, field_names:List[str], sample_text:str = \"\", category:str = \"general\")>str::","cluster_uploaded_documents:1081:async (self, documents:List[Any], # List[Document] similarity_threshold:float = 0.75)>List[Dict[str, Any]]:_calculate_text_similarity:","_calculate_text_similarity:1190:(self, text1:str, text2:str)>float::","find_similar_templates:1227:async (self, document_text:str, document_fields:List[str], min_score:float = 0.4)>List[Dict[str, Any]]:search:"]]}],"app/services/export_service.py":["p",{"ExportService":["19",["build_export_query:33:(db:Session, template_id:Optional[int] = None, schema_id:Optional[int] = None, date_from:Optional[date] = None, date_to:Optional[date] = None, confidence_min:float = 0.0, verified_only:bool = False, status:Optional[str] = None, document_ids:Optional[List[int]] = None)::Build a query for extracting documents based on filters","documents_to_records:87:(documents:List[Document])>List[Dict[str, Any]]::","documents_to_long_format:128:(documents:List[Document])>List[Dict[str, Any]]::","_detect_complex_fields:169:(documents:List[Document])>Dict[str, List[str]]::","_serialize_complex_field:203:(field:ExtractedField, format_type:str, include_verified:bool = True)>Any::","_create_table_sheet:251:(documents:List[Document], field_name:str)>pd.DataFrame::","_create_array_of_objects_sheet:306:(documents:List[Document], field_name:str)>pd.DataFrame::","export_to_csv:356:(records:List[Dict[str, Any]], include_metadata:bool = True)>bytes::Export records to CSV format","export_to_excel:382:(records:List[Dict[str, Any]], include_metadata:bool = True, sheet_name:str = \"Extracted Data\", documents:Optional[List[Document]] = None, expand_complex_fields:bool = True)>bytes:_create_array_of_objects_sheet,_create_table_sheet,_detect_complex_fields:","export_to_json:479:(records:List[Dict[str, Any]], format_type:str = \"array\")>str::","get_export_summary:504:(db:Session, template_id:Optional[int] = None, date_from:Optional[date] = None, date_to:Optional[date] = None)>Dict[str, Any]::Get summary statistics for export","export_by_template:563:(db:Session, template_id:int, format:str = \"excel\", date_from:Optional[date] = None, date_to:Optional[date] = None, expand_complex_fields:bool = True, **kwargs)>bytes:build_export_query,documents_to_records,export_to_csv,export_to_excel,export_to_json:","analyze_template_compatibility:619:(db:Session, template_ids:List[int])>Dict[str, Any]::","export_multi_template_merged:749:(db:Session, template_ids:List[int], format:str = \"excel\", date_from:Optional[date] = None, date_to:Optional[date] = None, expand_complex_fields:bool = True, **kwargs)>bytes:build_export_query,export_to_csv,export_to_excel,export_to_json:","export_multi_template_separated:842:(db:Session, template_ids:List[int], format:str = \"excel\", date_from:Optional[date] = None, date_to:Optional[date] = None, expand_complex_fields:bool = True, **kwargs)>bytes:_create_array_of_objects_sheet,_create_table_sheet,_detect_complex_fields,build_export_query,documents_to_records,export_multi_template_merged:"]]}],"app/services/extraction_service.py":["p",{"ExtractionService":["23",["__init__:29:(self)::","create_extraction:39:async (self, physical_file:PhysicalFile, template_id:int, db:Session, confidence:float = None)>Extraction::","process_extraction:96:async (self, extraction_id:int, db:Session)>Extraction::","batch_extract:250:async (self, physical_file_ids:List[int], template_id:int, batch_name:str, db:Session)>Dict[str, Any]:create_extraction,process_extraction:","list_extractions:335:(self, physical_file_id:Optional[int] = None, template_id:Optional[int] = None, status:Optional[str] = None, db:Session = None)>List[Extraction]::","get_extraction_stats:359:(self, db:Session)>Dict[str, Any]::Get extraction statistics."]]}],"app/services/field_normalizer.py":["p",{"FieldNormalizer":["22",["__init__:30:(self, schema_registry)::","initialize:99:async (self):_infer_canonical_category:","_infer_canonical_category:151:(self, field_name:str)>Optional[str]::","get_canonical_name:171:(self, field_name:str)>str:_infer_canonical_category:","get_field_names:188:(self, canonical_name:str)>List[str]::","normalize_query_fields:207:(self, query:Dict[str, Any], mode:str = \"expand\")>Dict[str, Any]:_canonicalize_fields,_expand_canonical_fields:","_expand_canonical_fields:223:(self, query:Dict[str, Any])>Dict[str, Any]:_expand_canonical_fields,get_field_names:","_canonicalize_fields:307:(self, query:Dict[str, Any])>Dict[str, Any]::","build_canonical_document:321:(self, extracted_fields:Dict[str, Any], template_name:Optional[str] = None)>Dict[str, Any]:get_canonical_name:","get_search_fields_for_category:351:(self, canonical_name:str, boost_pattern:Optional[str] = None)>List[str]:get_field_names:","get_aggregation_field:381:(self, canonical_name:str, prefer_keyword:bool = True)>str:get_field_names:"]]}],"app/services/file_service.py":["p",{"FileService":["19",["__init__:24:(self, upload_dir:str = None)::","upload_file:31:async (self, file:UploadFile, db:Session)>tuple[PhysicalFile, bool]::","upload_multiple:110:async (self, files:list[UploadFile], db:Session)>list[tuple[PhysicalFile, bool]]:upload_file:","get_file:127:(self, file_id:int, db:Session)>Optional[PhysicalFile]::Get physical file by ID.","get_file_by_hash:131:(self, file_hash:str, db:Session)>Optional[PhysicalFile]::Get physical file by hash.","delete_file:135:(self, file_id:int, db:Session)>bool::","get_storage_stats:173:(self, db:Session)>dict::Get storage statistics."]]}],"app/services/folder_service.py":["p",{"FolderService":["17",["browse_folder:23:(self, path:str, db:Session)>Dict[str, Any]::","reorganize_extractions:92:(self, extraction_ids:List[int], target_path:str, db:Session)>int::","get_folder_stats:130:(self, path:str, db:Session)>Dict[str, Any]::","create_folder_path:182:(self, template_name:str, date_str:Optional[str] = None)>str::","search_in_folder:205:(self, path:str, query:str, db:Session)>List[Dict[str, Any]]::","get_breadcrumbs:247:(self, path:str)>List[Dict[str, str]]::","get_folder_tree:274:(self, db:Session, max_depth:int = 3)>Dict[str, Any]:_tree_to_list:","_tree_to_list:306:(self, tree:Dict[str, Any], parent_path:str = \"\")>List[Dict[str, Any]]:_tree_to_list:Convert tree dict to list format for frontend."]]}],"app/services/permission_service.py":["p",{"PermissionService":["40",["__init__:43:(self, db:Session)::","check_permission:54:(self, user_id:int, action:PermissionAction, resource_type:Optional[str] = None, resource_id:Optional[int] = None)>bool:_has_permission_via_role:","_has_permission_via_role:87:(self, user_id:int, action:PermissionAction)>bool::Check if user has permission through their assigned roles","check_document_access:121:(self, user_id:int, document_id:int, required_permission:str = \"read\")>bool:check_permission:","check_folder_access:210:(self, user_id:int, folder_path:str, required_permission:str = \"read\")>bool:check_permission:","require_permission:289:(self, user_id:int, action:PermissionAction, error_message:Optional[str] = None):check_permission:","require_document_access:305:(self, user_id:int, document_id:int, required_permission:str = \"read\"):check_document_access:Require document access or raise PermissionDeniedError","get_user_permissions:322:(self, user_id:int, scope:Optional[PermissionScope] = None)>List[PermissionAction]::","get_user_roles:370:(self, user_id:int)>List[Dict[str, Any]]::","grant_document_access:423:(self, document_id:int, target_user_id:int, granted_by_user_id:int, can_read:bool = True, can_write:bool = False, can_delete:bool = False, can_share:bool = False, expires_at:Optional[datetime] = None, notes:Optional[str] = None)>DocumentPermission:_audit_log,check_document_access:","revoke_document_access:537:(self, document_id:int, target_user_id:int, revoked_by_user_id:int)>bool:_audit_log,check_document_access:","assign_role:586:(self, user_id:int, role_id:int, assigned_by_user_id:int, scope:PermissionScope = PermissionScope.GLOBAL, scope_org_id:Optional[int] = None, scope_folder_path:Optional[str] = None, expires_at:Optional[datetime] = None)>UserRole:_audit_log,require_permission:","revoke_role:665:(self, user_id:int, role_id:int, revoked_by_user_id:int)>bool:_audit_log,require_permission:","create_share_link:712:(self, document_id:int, created_by_user_id:int, access_level:ShareLinkAccessLevel = ShareLinkAccessLevel.READ, expires_in_days:Optional[int] = 7, max_accesses:Optional[int] = None, password:Optional[str] = None)>ShareLink:_audit_log,require_document_access:","revoke_share_link:778:(self, share_link_id:int, revoked_by_user_id:int)>bool:_audit_log,require_document_access:Revoke a share link","_audit_log:812:(self, user_id:int, action:str, resource_type:str, resource_id:Optional[int] = None, target_user_id:Optional[int] = None, details:Optional[Dict[str, Any]] = None, success:bool = True, error_message:Optional[str] = None)::Internal method to log permission changes","initialize_default_permissions:833:(db:Session)::Initialize default permissions and roles (run on first startup)"]]}],"app/services/query_optimizer.py":["p",{"QueryOptimizer":["23",["__init__:31:(self, schema_registry=None)::","initialize_from_registry:58:async (self)::","understand_query_intent:86:(self, query:str, available_fields:List[str])>Dict[str, Any]:_extract_date_filters,_extract_numeric_filters,_extract_text_filters:","_extract_numeric_filters:177:(self, query:str, query_lower:str, available_fields:List[str], analysis:Dict[str, Any]):_find_target_field:Extract numeric range filters from query.","_extract_date_filters:226:(self, query_lower:str, analysis:Dict[str, Any])::Extract date range filters from query.","_extract_text_filters:259:(self, query:str, query_lower:str, available_fields:List[str], analysis:Dict[str, Any])::Extract text-based filters from query.","_find_target_field:287:(self, query_lower:str, available_fields:List[str], canonical_name:str)>Optional[str]:_resolve_field:","_resolve_field:310:(self, canonical_name:str, available_fields:List[str])>str::","build_optimized_query:342:(self, query:str, analysis:Dict[str, Any], available_fields:List[str])>Dict[str, Any]:_get_date_range:","_get_date_range:440:(self, range_name:str)>Dict[str, str]::Get Elasticsearch date range for common ranges.","should_use_claude:458:(self, analysis:Dict[str, Any])>bool::"]]}],"app/services/reducto_service.py":["p",{"ReductoService":["12",["__init__:21:(self)::","parse_document:28:async (self, file_path:str)>Dict[str, Any]:_extract_confidence_scores,upload_file:","upload_file:168:()::","extract_structured:117:async (self, schema:Dict[str, Any], file_path:str = None, job_id:str = None)>Dict[str, Any]:_convert_to_reducto_schema,_parse_citations,_parse_extraction_with_complex_types,parse_document,upload_file:","get_job_status:260:async (self, job_id:str)>Dict[str, Any]::Get status of async processing job","_extract_confidence_scores:272:(self, result:Dict[str, Any])>Dict[str, float]::Extract confidence scores from Reducto response blocks","get_confidence_label:284:(self, score:float)>str::","extract_field_from_chunks:302:(self, chunks:List[Dict[str, Any]], hints:List[str])>Optional[Dict[str, Any]]:_extract_value_after_hint:","_extract_value_after_hint:334:(self, text:str, hint:str)>str::Extract value that appears after the hint in text","_parse_extraction_with_bbox:353:(self, raw_extractions:Any)>Dict[str, Any]:_parse_extraction_with_bbox:","_convert_to_reducto_schema:448:(self, schema:Dict[str, Any])>Dict[str, Any]:map_type_to_json_schema:","map_type_to_json_schema:460:(field_type:str)>str::Map our internal types to JSON Schema types.","_parse_citations:556:(self, citations:Any)>Dict[str, Dict[str, Any]]::","_parse_extraction_with_complex_types:630:(self, raw_extractions:Any, schema:Dict[str, Any], citations_data:Optional[Dict[str, Dict[str, Any]]] = None)>Dict[str, Any]:_parse_extraction_with_complex_types:"]]}],"app/services/schema_registry.py":["p",{"SchemaRegistry":["10",["__init__:19:(self, db:Session)::","get_field_context:26:async (self, template_name:Optional[str] = None, schema_id:Optional[int] = None)>Dict[str, Any]:_generate_aliases,_generate_typical_queries,_get_default_context,_get_standard_field_description,_get_standard_field_type:","get_all_templates_context:109:async (self)>List[Dict[str, Any]]:get_field_context:","get_canonical_field_mapping:123:async (self)>Dict[str, List[str]]:_get_canonical_name:","_generate_aliases:153:(self, field_name:str, field_type:str)>List[str]::Generate semantic aliases for a field name.","_generate_typical_queries:189:(self, field_name:str, field_type:str)>List[str]::Generate typical query patterns for a field.","_get_canonical_name:220:(self, field_name:str, field_type:str)>str::Determine canonical category for a field.","_get_standard_field_type:252:(self, field_name:str)>str::Get type for standard metadata fields.","_get_standard_field_description:262:(self, field_name:str)>str::Get description for standard metadata fields.","_get_default_context:272:(self)>Dict[str, Any]::Return default context when no schema is found."]]}],"app/services/settings_service.py":["p",{"SettingsService":["20",["__init__:23:(self, db:Session)::","get_setting:32:(self, key:str, user_id:Optional[int] = None, org_id:Optional[int] = None, default:Any = None)>Any:_deserialize_value:","get_all_settings:90:(self, user_id:Optional[int] = None, org_id:Optional[int] = None, include_metadata:bool = False)>Dict[str, Any]:_deserialize_value:","set_setting:191:(self, key:str, value:Any, value_type:str, user_id:Optional[int] = None, org_id:Optional[int] = None, description:Optional[str] = None)>Settings:_serialize_value:","delete_setting:253:(self, key:str, user_id:Optional[int] = None, org_id:Optional[int] = None)>bool::","initialize_defaults:280:(self)>None:set_setting:","get_or_create_default_org:303:(self)>Organization::Get or create the default organization for MVP.","get_or_create_default_user:320:(self, org_id:int)>User::Get or create the default user for MVP.","_serialize_value:339:(self, value:Any, value_type:str)>str::Serialize value to string for storage.","_deserialize_value:348:(self, value:str, value_type:str)>Any::Deserialize value from string."]]}],"app/services/validation_service.py":["p",["should_flag_for_review:738:(confidence:float, validation_status:str)>bool::"],{"ValidationResult":["53",[]],"ExtractionValidator":["60",["__init__:83:(self)::","validate_extraction:93:async (self, extractions:Dict[str, Any], template:Optional[Any] = None, template_name:Optional[str] = None, schema_config:Dict[str, Any] = None)>Dict[str, ValidationResult]:_validate_cross_field_rules,_validate_field,_validate_with_dynamic_model:","_validate_with_dynamic_model:158:async (self, template:Any, extractions:Dict[str, Any])>Dict[str, ValidationResult]:_determine_status,_get_validation_model,_get_validation_type:","_get_validation_model:232:(self, template:Any)>Type[BaseModel]:_create_validation_model:Get or create a Pydantic validation model for the template.","_create_validation_model:245:(self, template:Any)>Type[BaseModel]:_get_field_kwargs,_get_pydantic_type:Dynamically create a Pydantic model from template schema.","_get_pydantic_type:265:(self, field_def:Dict[str, Any])>Any::Map template field types to Pydantic types.","_get_field_kwargs:290:(self, field_def:Dict[str, Any])>Dict[str, Any]::Get Pydantic Field kwargs from field definition.","_get_validation_type:321:(self, pydantic_error_type:str)>str::Map Pydantic error types to our validation types.","_validate_field:347:async (self, field_name:str, field_data:Dict[str, Any], template_name:str, schema_config:Dict[str, Any] = None)>ValidationResult:_determine_status,_get_field_config,_infer_field_type,_validate_business_rules,_validate_field_type,_validate_with_pydantic:","_validate_with_pydantic:421:(self, field_name:str, value:Any, validation_schema:type)>List[str]::","_validate_business_rules:459:async (self, field_name:str, value:Any, template_name:str)>List[str]:_validate_contract_field,_validate_invoice_field,_validate_po_field,_validate_receipt_field:","_validate_invoice_field:493:(self, field_name:str, value:Any)>List[str]::Invoice-specific field validation","_validate_contract_field:530:(self, field_name:str, value:Any)>List[str]::Contract-specific field validation","_validate_receipt_field:549:(self, field_name:str, value:Any)>List[str]::Receipt-specific field validation","_validate_po_field:578:(self, field_name:str, value:Any)>List[str]::Purchase Order-specific field validation","_validate_cross_field_rules:596:(self, extractions:Dict[str, Any], template_name:str)>Dict[str, List[str]]::","_validate_field_type:651:(self, field_name:str, value:Any, expected_type:str)>List[str]::","_infer_field_type:680:(self, field_name:str)>str::Infer expected type from field name","_determine_status:694:(self, errors:List[str], warnings:List[str], confidence:float)>str::","_get_field_config:726:(self, field_name:str, schema_config:Dict[str, Any])>Dict[str, Any]::Get field configuration from schema"]]}],"app/utils/audit_helpers.py":["p",["get_low_confidence_fields_for_documents:24:async (document_ids:List[int], db:Session, confidence_threshold:Optional[float] = None, include_verified:bool = False, field_names:Optional[List[str]] = None)>Dict[int, List[Dict[str, Any]]]:get_low_confidence_fields_for_documents:","get_confidence_summary:152:async (document_ids:List[int], db:Session, high_threshold:float = 0.8, medium_threshold:float = 0.6)>Dict[str, Any]::","build_audit_url:228:(field_id:int, document_id:int, source:str = \"ai_answer\", highlight:bool = True, query_id:Optional[str] = None)>str:build_audit_url:","prepare_citation_metadata:272:async (document_id:int, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], db:Session, confidence_threshold:Optional[float] = None, query_id:Optional[str] = None)>Dict[str, Any]:build_audit_url,prepare_citation_metadata:"]],"app/utils/bbox_utils.py":["p",["normalize_bbox:11:(bbox:Any)>Optional[List[float]]:normalize_bbox:","format_bbox_for_frontend:76:(bbox:Any, page:Optional[int] = None)>Optional[dict]:normalize_bbox:"]],"app/utils/file_organization.py":["p",["get_template_folder:22:(template_name:Optional[str] = None)>str::","organize_document_file:51:(current_path:str, filename:str, template_name:Optional[str] = None)>str:get_template_folder:","organize_document_file_copy:87:(current_path:str, filename:str, template_name:Optional[str] = None)>str:get_template_folder:","get_template_document_count:122:(template_name:str)>int:get_template_folder:","list_template_folders:139:()>list[dict]::"]],"app/utils/hashing.py":["p",["calculate_file_hash:5:(file_path:str)>str::","calculate_content_hash:25:(content:bytes)>str::"]],"app/utils/query_field_extractor.py":["p",["extract_fields_from_es_query:351:(es_query:Dict[str, Any])>Dict[str, Any]:extract_fields,extract_fields_from_es_query:","filter_audit_items_by_fields:374:(audit_items:List[Dict[str, Any]], queried_fields:List[str])>List[Dict[str, Any]]:filter_audit_items_by_fields:"],{"QueryFieldExtractor":["23",["__init__:62:(self, max_depth:int = 10):_reset:","_reset:72:(self)::Reset internal state for a new extraction.","extract_fields:79:(self, es_query:Dict[str, Any])>Dict[str, Any]:_extract_fields_recursive,_reset:","_extract_fields_recursive:149:(self, query_node:Any, depth:int, context:str, parent_clause:Optional[str] = None):_extract_fields_recursive,_handle_aggregations,_handle_bool_query,_handle_field_query,_handle_multi_field_query,_handle_nested_query:","_handle_bool_query:207:(self, bool_query:Dict[str, Any], depth:int, context:str):_extract_fields_recursive:Handle boolean query clauses (must/should/filter/must_not).","_handle_field_query:225:(self, query_type:str, query_value:Any, context:str, parent_clause:Optional[str]):_add_field:","_handle_multi_field_query:264:(self, query_type:str, query_value:Dict[str, Any], context:str, parent_clause:Optional[str]):_add_field:","_handle_nested_query:296:(self, nested_query:Dict[str, Any], depth:int, context:str):_extract_fields_recursive:Handle nested query with path.","_handle_aggregations:308:(self, aggs:Dict[str, Any], depth:int, context:str):_extract_fields_recursive:Handle aggregations (future support for field usage in aggs).","_add_field:321:(self, field_name:str, query_type:str, context:str, parent_clause:Optional[str], query_details:Any)::Add a field reference with context."]]}],"app/utils/reducto_validation.py":["p",["validate_field_description:42:(field:Dict[str, Any])>Tuple[bool, str]::","validate_field_name:75:(field:Dict[str, Any])>List[ReductoValidationWarning]::","detect_embedded_calculations:130:(field:Dict[str, Any])>List[ReductoValidationWarning]::","suggest_enum_fields:174:(field:Dict[str, Any])>List[ReductoValidationWarning]::","validate_extraction_hints:224:(field:Dict[str, Any])>List[ReductoValidationWarning]::","validate_schema_for_reducto:277:(schema_data:Dict[str, Any], strict:bool = False)>Dict[str, Any]:detect_embedded_calculations,suggest_enum_fields,to_dict,validate_extraction_hints,validate_field_description,validate_field_name:","format_validation_report:401:(validation_result:Dict[str, Any])>str::"],{"ReductoValidationError":["22",[]],"ReductoValidationWarning":["27",["__init__:29:(self, field_name:str, message:str, severity:str = \"warning\")::","to_dict:34:(self)>Dict[str, str]::"]]}],"app/utils/template_matching.py":["p",["hybrid_match_document:22:async (document:Document, elastic_service:ElasticsearchService, claude_service:ClaudeService, available_templates:List[Dict[str, Any]], db:Optional[Session] = None)>Dict[str, Any]:_no_match_result,extract_field_names_from_parse:","auto_match_documents:152:async (db:Session, documents:List[Document], elastic_service:ElasticsearchService, claude_service:ClaudeService, available_templates:List[Dict[str, Any]], threshold:float = 0.70)>List[Dict[str, Any]]:hybrid_match_document:","extract_field_names_from_parse:207:(parse_result:Dict[str, Any])>List[str]::","_no_match_result:237:(reasoning:str, error:str = None)>Dict[str, Any]::Helper to return no-match result"]],"diagnose_frontend.js":["j",["diagnoseFrontend:3:async ()::"]],"fix_document_75.py":["p",["fix_document_75:24:async ()::Re-extract document 75 using cached parse result."]],"mcp_server/__main__.py":["p",["show_help:33:()::Show help message","run_setup:56:()::Run setup wizard","run_health_check:62:()::Run health check","run_server:68:()::Run MCP server","main:86:():run_health_check,run_server,run_setup,show_help:Main entry point for MCP server"]],"mcp_server/config.py":["p",{"MCPConfig":["13",[]]}],"mcp_server/health_check.py":["p",["check_item:22:(name:str, check_func)>bool::Run a check and print result","check_dependencies:36:()>tuple::Check Python dependencies","check_database:63:()>tuple:test_connection:Check database connection","check_elasticsearch:88:()>tuple:test_es:Check Elasticsearch connection","check_server_load:106:()>tuple::Check if server module loads","check_templates:126:()>tuple:count_templates:Check if templates exist","check_claude_config:154:()>tuple::Check if Claude Desktop is configured","main:178:():check_item:"]],"mcp_server/prompts/analysis.py":["p",["analyze_low_confidence_prompt:15:async ()>Dict[str, Any]::","compare_templates_prompt:77:async (template_ids:str = \"\")>Dict[str, Any]::","document_summary_prompt:144:async (document_id:int = None)>Dict[str, Any]::"]],"mcp_server/resources/documents.py":["p",["get_document_fields_resource:15:async (document_id:int)>Dict[str, Any]::"]],"mcp_server/resources/stats.py":["p",["get_daily_stats_resource:17:async (days:int = 7)>Dict[str, Any]::","get_system_health_resource:50:async ()>Dict[str, Any]::","get_audit_summary_resource:93:async ()>Dict[str, Any]::"]],"mcp_server/resources/templates.py":["p",["get_all_templates_resource:16:async ()>Dict[str, Any]::","get_template_resource:51:async (template_id:int)>Dict[str, Any]::"]],"mcp_server/server.py":["p",["ask_ai:334:async (query:str, folder_path:Optional[str] = None, template_id:Optional[str] = None)>Dict[str, Any]:ask_ai:","search_documents:110:async (query:str, folder_path:Optional[str] = None, template_name:Optional[str] = None, status:Optional[str] = None, min_confidence:Optional[float] = None, limit:int = 20)>Dict[str, Any]:search_documents:","get_document_details:144:async (document_id:int)>Dict[str, Any]:get_document_details:","get_document_by_filename:167:async (filename:str, exact_match:bool = False)>Dict[str, Any]:get_document_by_filename:","list_templates:197:async ()>Dict[str, Any]:list_templates:","get_template_details:208:async (template_id:int)>Dict[str, Any]:get_template_details:","get_template_stats:225:async (template_id:Optional[int] = None, include_field_stats:bool = False)>Dict[str, Any]:get_template_stats:","compare_templates:240:async (template_ids:List[int])>Dict[str, Any]:compare_templates:","get_extraction_stats:257:async (days:int = 7, template_id:Optional[int] = None)>Dict[str, Any]:get_extraction_stats:","get_audit_queue:276:async (confidence_threshold:Optional[float] = None, template_id:Optional[int] = None, limit:int = 50)>Dict[str, Any]:get_audit_queue:","get_low_confidence_fields:300:async (min_confidence:float = 0.0, max_confidence:float = 0.6, field_name:Optional[str] = None, limit:int = 50)>Dict[str, Any]:get_low_confidence_fields:","get_audit_stats:319:async ()>Dict[str, Any]:get_audit_stats:","aggregate_field:397:async (field:str, aggregation_type:str = \"stats\", filters:Optional[Dict[str, Any]] = None, config:Optional[Dict[str, Any]] = None)>Dict[str, Any]:aggregate_field:","multi_aggregate:445:async (aggregations_list:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:multi_aggregate:","get_dashboard_stats:479:async ()>Dict[str, Any]:get_dashboard_stats:","get_field_insights:500:async (field:str)>Dict[str, Any]:get_field_insights:","templates_resource:526:async ()>str::All available document templates","template_resource:534:async (template_id:int)>str::Specific template details","daily_stats_resource:542:async ()>str::Daily processing statistics (last 7 days)","system_health_resource:550:async ()>str::System health status","audit_summary_resource:558:async ()>str::Audit queue summary statistics","document_fields_resource:566:async (document_id:int)>str::Extracted fields for a specific document","analyze_low_confidence:576:async ()>str::Analyze low-confidence extractions and identify improvement opportunities","compare_templates_prompt:583:async (template_ids:str = \"\")>str:compare_templates_prompt:Compare multiple document templates to understand similarities and differences","document_summary:590:async (document_id:Optional[int] = None)>str::Generate comprehensive document extraction summary"]],"mcp_server/services/cache_service.py":["p",["cached:194:(category:str = \"default\", key_prefix:str = \"\"):cached,decorator,get,get_all_templates,make_key,set,wrapper:"],{"CacheService":["21",["__init__:29:(self)::Initialize cache with configured max size","_get_cache_for_category:60:(self, category:str)>TTLCache:get:Get the appropriate cache based on category","get:69:(self, key:str, category:str = \"default\")>Optional[Any]:_get_cache_for_category,get:","set:93:(self, key:str, value:Any, category:str = \"default\")>None:_get_cache_for_category:","delete:109:(self, key:str, category:str = \"default\")>None:_get_cache_for_category:Delete value from cache","clear:119:(self, category:Optional[str] = None)>None:_get_cache_for_category,clear:","get_stats:140:(self)>dict::Get cache statistics","make_key:170:(*args, **kwargs)>str::"]]}],"mcp_server/services/db_service.py":["p",{"DatabaseService":["25",["__init__:33:(self)::Initialize database connection","get_session:65:async (self)>AsyncSession::Get database session","get_document:70:async (self, document_id:int)>Optional[Dict[str, Any]]::","search_documents:150:async (self, query:Optional[str] = None, template_id:Optional[int] = None, status:Optional[str] = None, min_confidence:Optional[float] = None, date_from:Optional[datetime] = None, date_to:Optional[datetime] = None, limit:int = 20, offset:int = 0)>Tuple[List[Dict[str, Any]], int]::","get_all_templates:235:async (self)>List[Dict[str, Any]]::","get_template:258:async (self, template_id:int)>Optional[Dict[str, Any]]::Get template by ID with usage statistics","get_audit_queue:301:async (self, confidence_threshold:Optional[float] = None, limit:int = 50)>List[Dict[str, Any]]::","get_daily_stats:349:async (self, days:int = 7)>Dict[str, Any]::","close:419:async (self)::Close database connections"]]}],"mcp_server/services/es_service.py":["p",{"QueryOptimizerLegacy":["26",["__init__:34:(self)::Initialize query optimizer with field mappings","understand_query_intent:53:(self, query:str, available_fields:List[str])>Dict[str, Any]:_resolve_field:","_resolve_field:152:(self, canonical_name:str, available_fields:List[str])>str::","build_optimized_query:184:(self, query:str, analysis:Dict[str, Any], available_fields:List[str])>Dict[str, Any]:_get_date_range:","_get_date_range:259:(self, range_name:str)>Dict[str, str]::Get Elasticsearch date range for common ranges"]],"ElasticsearchMCPService":["270",["__init__:276:(self)::Initialize ES service with query optimizer","search_with_context:289:async (self, query:str, available_fields:Optional[List[str]] = None, folder_path:Optional[str] = None, limit:int = 20, offset:int = 0)>Dict[str, Any]:_get_available_fields,build_optimized_query,understand_query_intent:","_get_available_fields:341:async (self)>List[str]::Get list of available fields from ES index mapping","get_document:353:async (self, document_id:int)>Optional[Dict[str, Any]]:get_document:Get document from ES by ID","get_aggregations:361:async (self, field:str, size:int = 10)>Dict[str, Any]:get_aggregations:Get aggregations for analytics","execute_custom_query:369:async (self, es_query:Dict[str, Any], limit:int = 20)>Dict[str, Any]::","health_check:392:async (self)>bool:health_check:Check ES connection health","close:396:async (self):close:Close ES connection"]]}],"mcp_server/setup.py":["p",["print_success:28:(msg:str)::","print_warning:32:(msg:str)::","print_error:36:(msg:str)::","print_info:40:(msg:str)::","check_dependencies:44:()>bool:print_error,print_info,print_success:Check if required dependencies are installed","get_claude_config_path:78:()>Optional[Path]::Get the Claude Desktop config file path","get_project_paths:103:()>dict::Auto-detect project paths","get_python_command:119:()>str::Detect the correct Python command","create_mcp_config:139:(paths:dict)>dict:get_python_command:Create the MCP server configuration","backup_config:157:(config_path:Path)>Optional[Path]::Backup existing config file","update_claude_config:167:(config_path:Path, mcp_config:dict)>bool:print_error:Update Claude Desktop config file","verify_setup:196:(paths:dict)>list::Verify setup is correct","test_mcp_server:220:()>bool:print_error,print_info,print_success:Test if MCP server can start","main:240:():backup_config,check_dependencies,create_mcp_config,get_claude_config_path,get_project_paths,print_error,print_info,print_success,print_warning,test_mcp_server,update_claude_config,verify_setup:Main setup function"]],"mcp_server/tools/ai_search.py":["p",["format_answer_for_claude:19:(answer_text:str, audit_items:list)>str:replace_marker:","ask_ai:78:async (query:str, folder_path:Optional[str] = None, template_id:Optional[str] = None)>Dict[str, Any]:ask_ai,format_answer_for_claude:"]],"mcp_server/tools/analytics.py":["p",["get_extraction_stats:19:async (days:int = 7, template_id:Optional[int] = None)>Dict[str, Any]:get_extraction_stats:","get_confidence_distribution:62:async (template_id:Optional[int] = None, days:Optional[int] = None)>Dict[str, Any]:get_confidence_distribution:","get_processing_timeline:123:async (days:int = 30, granularity:str = \"daily\")>Dict[str, Any]:get_processing_timeline:","get_field_accuracy_report:161:async (template_id:int, field_name:Optional[str] = None)>Dict[str, Any]:get_field_accuracy_report:"]],"mcp_server/tools/audit.py":["p",["get_audit_queue:20:async (confidence_threshold:Optional[float] = None, template_id:Optional[int] = None, limit:int = 50)>Dict[str, Any]:get_audit_queue:","get_low_confidence_fields:112:async (min_confidence:float = 0.0, max_confidence:float = 0.6, field_name:Optional[str] = None, limit:int = 50)>Dict[str, Any]:get_audit_queue,get_low_confidence_fields:","get_audit_stats:165:async ()>Dict[str, Any]:get_audit_queue,get_audit_stats:","get_verification_history:224:async (document_id:Optional[int] = None, days:int = 30, limit:int = 50)>Dict[str, Any]:get_verification_history:"]],"mcp_server/tools/documents.py":["p",["search_documents:24:async (query:str, folder_path:Optional[str] = None, template_name:Optional[str] = None, status:Optional[str] = None, min_confidence:Optional[float] = None, limit:int = 20)>Dict[str, Any]:search_documents:","get_document_details:111:async (document_id:int)>Dict[str, Any]:get_document_details:","get_document_by_filename:173:async (filename:str, exact_match:bool = False)>Dict[str, Any]:get_document_by_filename,search_documents:","get_recent_documents:239:async (days:int = 7, limit:int = 20, status:Optional[str] = None)>Dict[str, Any]:get_recent_documents,search_documents:"]],"mcp_server/tools/templates.py":["p",["list_templates:15:async ()>Dict[str, Any]:list_templates:","get_template_details:57:async (template_id:int)>Dict[str, Any]:get_template_details:","get_template_stats:112:async (template_id:Optional[int] = None, include_field_stats:bool = False)>Dict[str, Any]:get_template_stats:","compare_templates:177:async (template_ids:List[int])>Dict[str, Any]:compare_templates:"]],"migrations/add_complex_data_support.py":["p",["migrate:17:():rollback:Run the migration","rollback:175:():rollback:Rollback the migration (for development only)"]],"migrations/add_pipeline_fields.py":["p",["migrate:18:()::Add pipeline fields to documents table","rollback:45:()::Remove pipeline fields (SQLite doesn't support DROP COLUMN easily)"]],"migrations/add_query_history.py":["p",["migrate:29:()::Add query_history table to database"]],"migrations/add_semantic_search_fields.py":["p",["migrate:19:():rollback:Run the migration","rollback:81:()::Rollback the migration (optional)"]],"migrations/add_validation_metadata.py":["p",["upgrade:16:(op, sa):add_column,execute:Add validation metadata columns to extracted_fields table","downgrade:51:(op, sa):drop_column:Remove validation metadata columns"]],"migrations/link_documents_to_physical_files.py":["p",["migrate_documents_to_physical_files:41:(db:Session, dry_run:bool = False, force:bool = False)::","main:193:():migrate_documents_to_physical_files:"]],"s/generate_test_data.py":["p",["generate_test_data:15:()::Create 5 test documents with low-confidence fields"]],"test_aggregation_fix.py":["p",["test_aggregation_answer_generation:21:async ()::Test that _generate_aggregation_answer formats answers correctly.","test_answer_caching:116:async ()::Test that answer caching works correctly.","test_sql_filtering_optimization:179:async ()::Test that SQL filtering optimization works.","main:217:async ():test_aggregation_answer_generation,test_answer_caching,test_sql_filtering_optimization:Run all tests."]],"test_askai_integration.py":["p",["test_health:19:()::Test 1: Verify backend is running","test_elasticsearch:31:()::Test 2: Verify Elasticsearch is running","test_templates_endpoint:45:()::Test 3: Fetch templates for dropdown","test_search_without_filter:70:()::Test 4: Search without template filter","test_search_with_template_filter:106:(template_id:int, template_name:str)::Test 5: Search with template filter","test_error_handling:154:()::Test 6: Error handling scenarios","test_audit_metadata:184:()::Test 7: Verify audit metadata is included","test_frontend_compatibility:232:()::Test 8: Verify response format matches frontend expectations","run_integration_tests:279:():test_audit_metadata,test_elasticsearch,test_error_handling,test_frontend_compatibility,test_health,test_search_with_template_filter,test_search_without_filter,test_templates_endpoint:Run all integration tests"]],"test_bbox_conversion.py":["p",["test_bbox_conversion:15:()::Test various bbox format conversions"]],"test_export_validation.py":["p",["create_test_documents:43:():add_field:Create mock documents with various field types","test_detect_complex_fields:77:():create_test_documents:Test: Detect complex fields in documents","test_documents_to_records:100:():create_test_documents:Test: Convert documents with complex fields to records","test_create_table_sheet:131:():create_test_documents:Test: Create DataFrame for table field","test_create_array_of_objects_sheet:159:():create_test_documents:Test: Create DataFrame for array_of_objects field","test_excel_multi_sheet:187:():create_test_documents:Test: Export to Excel with multiple sheets","test_csv_export:240:():create_test_documents:Test: CSV export with complex fields as strings","test_json_export:277:():create_test_documents:Test: JSON export preserves complex structures","run_all_tests:309:()::Run all validation tests"],{"MockField":["18",["__init__:19:(self, name, field_type, value, value_json=None, verified=False, confidence=0.9)::"]],"MockDocument":["29",["__init__:30:(self, doc_id, filename, status=\"completed\")::","add_field:38:(self, field)::"]]}],"test_mcp_api_responses.py":["p",["test_mcp_rag_response:13:()::Test /api/mcp/rag endpoint returns structured URLs","main:133:():test_mcp_rag_response:Run MCP API response tests"]],"test_mcp_structured_urls.py":["p",["test_audit_queue_response:25:async ()::Test get_audit_queue returns structured URLs","test_audit_stats_response:125:async ()::Test get_audit_stats returns structured URLs","test_url_format:201:async ()::Test that URLs are properly formatted","main:268:async ():test_audit_queue_response,test_audit_stats_response,test_url_format:Run all MCP structured URL tests"]],"test_prompt_caching.py":["p",["test_parse_natural_language_query:18:async ()::Test prompt caching on NL query parsing (highest traffic)","test_answer_generation:85:async ()::Test prompt caching on answer generation (highest traffic)","main:173:async ():test_answer_generation,test_parse_natural_language_query:Run all tests"]],"test_reducto_citations.py":["p",["test_citations:9:async ():upload_file:Test extraction response structure."]],"test_reducto_debug.py":["p",["test_debug:9:async ():upload_file:Test with detailed debugging."]],"test_reducto_integration.py":["p",["test_claude_prompt_integration:21:()::Test that Claude's prompts enforce Reducto requirements","test_validation_helper_functions:59:()::Test individual validation helper functions","test_builtin_templates_validation:90:()::Test that all built-in templates are valid","test_schema_validation_edge_cases:118:()::Test edge cases and error handling","test_validation_report_formatting:192:()::Test that validation reports are properly formatted","test_integration_with_endpoints:228:()::Test that validation is called in all relevant endpoints"]],"test_reducto_simple.py":["p",["test_simple_extraction:8:async ()::Test with minimal schema - just one text field."]],"test_reducto_validation.py":["p",["test_valid_schema:19:()::Test a well-formed schema that should pass validation","test_invalid_schema:78:()::Test schema with missing required fields (descriptions)","test_schema_with_warnings:122:()::Test schema that's valid but has warnings","test_complex_data_schema:174:()::Test schema with complex types (arrays, tables)"]],"test_search_mock.py":["p",["search:27:async (request:SearchRequest)::Mock search endpoint that returns sample data with low-confidence fields","health:92:async ()::"],{"SearchRequest":["21",[]]}],"t/conftest.py":["p",["db_session:23:()::","client:37:(db_session):override_get_db:","sample_schema:54:()::","sample_reducto_response:90:()::","sample_extraction:117:()::"]],"t/test_analytics.py":["p",["test_get_dashboard_metrics_empty:12:(client, db_session)::Test dashboard metrics with no data","test_get_dashboard_metrics_with_data:24:(client, db_session)::Test dashboard metrics with sample data","test_get_schema_stats:106:(client, db_session)::Test schema statistics endpoint","test_get_trends:177:(client, db_session)::Test trends endpoint","test_get_trends_custom_days:224:(client, db_session)::Test trends endpoint with custom day range","test_dashboard_confidence_by_field:235:(client, db_session)::Test confidence aggregation by field"]],"t/test_audit_helpers.py":["p",["test_data:20:(db:Session)::Create test documents with varying confidence scores.","test_get_low_confidence_fields_returns_only_low_conf:131:async (db:Session, test_data)::Test that only fields below threshold are returned.","test_get_low_confidence_fields_includes_audit_url:152:async (db:Session, test_data)::Test that audit URLs are properly formatted.","test_get_low_confidence_fields_includes_bbox_metadata:175:async (db:Session, test_data)::Test that source page and bbox are included.","test_get_low_confidence_fields_excludes_verified:193:async (db:Session, test_data)::Test that verified fields are excluded by default.","test_get_low_confidence_fields_includes_verified_when_requested:215:async (db:Session, test_data)::Test that verified fields can be included if requested.","test_get_low_confidence_fields_empty_document_list:238:async (db:Session)::Test handling of empty document list.","test_get_confidence_summary_calculates_correctly:251:async (db:Session, test_data)::Test that confidence summary statistics are accurate.","test_get_confidence_summary_multiple_documents:273:async (db:Session, test_data)::Test confidence summary across multiple documents.","test_get_confidence_summary_empty_documents:294:async (db:Session)::Test confidence summary with no documents.","test_build_audit_url_basic:310:()::Test basic audit URL generation.","test_build_audit_url_with_custom_source:321:()::Test audit URL with custom source.","test_build_audit_url_with_query_id:333:()::Test audit URL with query ID for tracking.","test_build_audit_url_no_highlight:345:()::Test audit URL without auto-highlight.","test_get_low_confidence_fields_groups_by_document:358:async (db:Session, test_data)::Test that results are properly grouped by document_id.","test_get_low_confidence_fields_uses_settings_threshold:386:async (db:Session, test_data)::Test that default threshold comes from settings."]],"t/test_claude_service.py":["p",["test_analyze_sample_documents_success:13:async (sample_schema)::Test successful schema generation","test_analyze_sample_documents_no_docs:39:async ()::Test schema generation with no documents","test_analyze_sample_documents_invalid_json:51:async ()::Test handling invalid JSON response","test_analyze_sample_documents_missing_fields:75:async ()::Test handling schema with missing required fields","test_generate_reducto_config:101:async (sample_schema)::Test Reducto config generation from schema","test_improve_extraction_rules:115:async ()::Test extraction rule improvement","test_suggest_field_from_description:141:async ()::Test field suggestion from natural language","test_build_schema_generation_prompt:168:()::Test schema generation prompt building"]],"t/test_field_validation.py":["p",{"TestArrayFieldValidation":["22",["test_array_field_with_item_type:25:(self)::Test that array fields with item_type are preserved.","test_array_field_missing_item_type_defaults_to_text:44:(self)::Test that array fields without item_type default to 'text'.","test_array_field_type_normalization:57:(self)::Test that 'ARR', 'arr', 'list' are normalized to 'array'."]],"TestTableFieldValidation":["81",["test_table_field_valid_schema:84:(self)::Test that table fields with complete schema are accepted.","test_table_field_missing_schema_raises_error:107:(self)::Test that table fields without table_schema raise ValueError.","test_table_field_missing_row_identifier_raises_error:123:(self)::Test that table schema without row_identifier raises ValueError.","test_table_field_missing_columns_raises_error:141:(self)::Test that table schema without columns raises ValueError.","test_table_field_missing_value_type_defaults_to_string:159:(self)::Test that table schema without value_type defaults to 'string'.","test_table_type_normalization:176:(self)::Test that 'TBL', 'tbl', 'grid' are normalized to 'table'."]],"TestArrayOfObjectsValidation":["203",["test_array_of_objects_valid_schema:206:(self)::Test that array_of_objects with object_schema are accepted.","test_array_of_objects_missing_object_schema_raises_error:228:(self)::Test that array_of_objects without object_schema raises ValueError."]],"TestStandardFieldNormalization":["245",["test_all_fields_get_required_property:248:(self)::Test that all fields get 'required' property with default False.","test_all_fields_get_description_property:261:(self)::Test that all fields get 'description' property with default empty string.","test_all_fields_get_extraction_hints_property:272:(self)::Test that all fields get 'extraction_hints' property with default empty list.","test_all_fields_get_confidence_threshold_property:283:(self)::Test that all fields get 'confidence_threshold' property with default 0.75.","test_existing_properties_are_preserved:294:(self)::Test that existing properties are not overwritten."]],"TestComplexFieldCombinations":["315",["test_mixed_field_types:318:(self)::Test validation with mix of simple and complex fields.","test_multiple_complex_fields:358:(self)::Test validation with multiple complex fields."]],"TestEdgeCases":["407",["test_empty_fields_list:410:(self)::Test that empty fields list returns empty list.","test_field_with_all_properties_already_set:418:(self)::Test that fields with all properties already set are not modified.","test_case_insensitive_type_normalization:443:(self)::Test that type normalization is case-insensitive."]]}],"t/test_mcp_audit_integration.py":["p",["client:17:()::Create test client.","test_documents_with_low_confidence:23:(db:Session)::Create test documents with low-confidence fields for RAG testing.","test_mcp_rag_includes_audit_items_for_low_confidence:139:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that RAG endpoint includes audit_items for low-confidence fields.","test_mcp_rag_confidence_summary_accurate:220:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that confidence_summary statistics are accurate.","test_mcp_rag_data_quality_object:264:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that data_quality provides quick overview.","test_mcp_rag_no_audit_items_for_high_confidence:306:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that no audit_items when all fields are high confidence.","test_mcp_rag_backward_compatible:346:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that all existing response fields are still present.","test_mcp_rag_next_steps_includes_audit_recommendation:394:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that next_steps includes audit recommendation when needed.","test_mcp_rag_audit_url_includes_correct_source:433:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that audit URLs have source=mcp_rag for tracking."]],"t/test_query_field_extraction.py":["p",{"TestSimpleQueries":["15",["test_match_query:18:(self)::Test field extraction from match query.","test_term_query:27:(self)::Test field extraction from term query.","test_range_query:35:(self)::Test field extraction from range query.","test_exists_query:43:(self)::Test field extraction from exists query.","test_prefix_query:50:(self)::Test field extraction from prefix query."]],"TestMultiFieldQueries":["58",["test_multi_match_query:61:(self)::Test field extraction from multi_match query.","test_query_string:77:(self)::Test field extraction from query_string.","test_multi_match_with_boost:89:(self)::Test field extraction with boost syntax."]],"TestBoolQueries":["103",["test_simple_bool_must:106:(self)::Test bool query with must clause.","test_bool_with_filter:121:(self)::Test bool query with filter clause.","test_nested_bool_queries:138:(self)::Test deeply nested bool queries.","test_bool_must_not:161:(self)::Test bool query with must_not clause."]],"TestComplexQueries":["175",["test_invoice_search_query:178:(self)::Test realistic invoice search query.","test_empty_query:205:(self)::Test extraction from empty query.","test_malformed_query:213:(self)::Test extraction from malformed query doesn't crash."]],"TestSyntheticFields":["223",["test_synthetic_field_detection:226:(self)::Test that synthetic fields are separated.","test_multiple_synthetic_fields:242:(self)::Test multiple synthetic fields are flagged."]],"TestFieldContexts":["258",["test_field_multiple_contexts:261:(self)::Test field used in multiple query contexts.","test_field_clause_details:277:(self)::Test detailed clause information is captured."]],"TestAuditItemFiltering":["289",["test_filter_audit_items:292:(self)::Test basic audit item filtering.","test_filter_no_matches:306:(self)::Test filtering when no fields match.","test_filter_all_match:318:(self)::Test filtering when all fields match.","test_filter_empty_audit_items:330:(self)::Test filtering with empty audit items list.","test_filter_empty_queried_fields:339:(self)::Test filtering with empty queried fields."]],"TestExtractorConfiguration":["351",["test_max_depth_limit:354:(self)::Test that max depth limit is respected.","test_extractor_reuse:365:(self)::Test that extractor can be reused for multiple queries."]],"TestEdgeCases":["380",["test_none_query:383:(self)::Test handling of None query.","test_string_query:388:(self)::Test handling of string instead of dict.","test_list_query:393:(self)::Test handling of list of queries.","test_query_with_null_values:404:(self)::Test query with null field values.","test_wildcard_in_field_name:417:(self)::Test handling of wildcard in field names."]],"TestStatistics":["431",["test_statistics_counts:434:(self)::Test that statistics are calculated correctly.","test_statistics_with_duplicates:451:(self)::Test statistics when same field appears multiple times."]]}],"t/test_reducto_service.py":["p",["test_parse_document_success:12:async ()::Test successful document parsing","test_parse_document_file_not_found:48:async ()::Test parsing with non-existent file","test_parse_document_api_error:60:async ()::Test handling Reducto API errors","test_extract_confidence_scores:77:()::Test confidence score extraction from chunks","test_get_confidence_label:99:()::Test confidence label generation","test_extract_field_from_chunks:109:()::Test field extraction from chunks using hints","test_extract_field_from_chunks_not_found:138:()::Test field extraction when hint not found","test_extract_value_after_hint:157:()::Test value extraction after hint"]],"t/test_template_creation_integration.py":["p",["db:25:()::Get database session for testing.","mock_document:40:(db:Session)::Create a mock document with PhysicalFile for testing."],{"TestArrayFieldValidation":["75",["test_array_field_with_item_type:78:(self, mock_document)::Test that array fields with item_type are accepted.","test_array_field_missing_item_type_defaults_to_text:105:(self, mock_document)::Test that array fields without item_type default to 'text'.","test_array_field_type_normalization:126:(self, mock_document)::Test that 'ARR' and 'list' are normalized to 'array'."]],"TestTableFieldValidation":["150",["test_table_field_valid_schema:153:(self, mock_document)::Test that table fields with complete schema are accepted.","test_table_field_missing_schema:181:(self, mock_document)::Test that table fields without table_schema are rejected.","test_table_field_missing_row_identifier:202:(self, mock_document)::Test that table schema without row_identifier is rejected.","test_table_field_missing_value_type_defaults_to_string:225:(self, mock_document)::Test that table schema without value_type defaults to 'string'."]],"TestArrayOfObjectsValidation":["249",["test_array_of_objects_valid_schema:252:(self, mock_document)::Test that array_of_objects with object_schema are accepted.","test_array_of_objects_missing_object_schema:280:(self, mock_document)::Test that array_of_objects without object_schema is rejected."]],"TestErrorHandling":["301",["test_duplicate_template_name:304:(self, mock_document, db:Session)::Test that duplicate template names return descriptive error.","test_missing_document_ids:331:(self)::Test error when document_ids are missing.","test_invalid_document_ids:343:(self)::Test error when document_ids don't exist."]],"TestComplexFieldCombinations":["358",["test_mixed_field_types:361:(self, mock_document)::Test template with mix of simple and complex fields."]],"TestFieldNormalization":["420",["test_all_fields_get_standard_properties:423:(self, mock_document)::Test that all fields get standard properties after normalization."]],"TestComplexityAssessment":["467",["test_simple_template_complexity:470:(self, mock_document)::Test that simple templates have low complexity scores.","test_complex_template_with_tables:491:(self, mock_document)::Test that templates with tables/arrays have higher complexity."]]}],"t/test_validation_service.py":["p",["validator:23:()::Create validator instance","invoice_template:29:()::Mock invoice template with validation rules"],{"MockTemplate":["13",["__init__:16:(self, name:str, extraction_fields:list)::"]],"TestDynamicModelGeneration":["84",["test_create_validation_model:88:async (self, validator, invoice_template)::Test creating a Pydantic model from template schema","test_model_caching:99:async (self, validator, invoice_template)::Test that validation models are cached","test_type_mapping:107:async (self, validator)::Test field type mapping to Pydantic types"]],"TestFieldValidation":["127",["test_valid_extraction:131:async (self, validator, invoice_template)::Test validation passes for valid data","test_required_field_missing:151:async (self, validator, invoice_template)::Test validation fails when required field is missing","test_pattern_validation:169:async (self, validator, invoice_template)::Test pattern validation for text fields","test_range_validation:186:async (self, validator, invoice_template)::Test min/max validation for numbers","test_length_validation:217:async (self, validator, invoice_template)::Test string length validation"]],"TestBusinessRulesValidation":["234",["test_invoice_business_rules:238:async (self, validator)::Test invoice-specific business rules","test_contract_business_rules:257:async (self, validator)::Test contract-specific business rules"]],"TestCrossFieldValidation":["273",["test_invoice_date_range:277:async (self, validator)::Test that due_date is after invoice_date","test_contract_date_range:295:async (self, validator)::Test that expiration_date is after effective_date"]],"TestConfidenceAdjustment":["311",["test_high_confidence_downgrade:315:async (self, validator)::Test that high confidence + error = warning (might be false positive)","test_low_confidence_error:340:async (self, validator)::Test that low confidence + error = error (likely correct)"]],"TestReviewFlagging":["364",["test_flag_validation_errors:367:(self)::Always flag validation errors","test_flag_low_confidence:372:(self)::Flag low confidence extractions","test_flag_medium_confidence_with_warning:377:(self)::Flag medium confidence with validation warning","test_dont_flag_high_confidence_valid:381:(self)::Don't flag high confidence valid extractions"]],"TestComplexDataTypes":["387",["test_array_validation:391:async (self, validator)::Test validation of array fields","test_table_validation:428:async (self, validator)::Test validation of table (array_of_objects) fields"]],"TestIntegration":["459",["test_validation_in_extraction_flow:463:async (self, validator, invoice_template)::Test validation integrates with extraction pipeline"]]}],"validate_builtin_templates.py":["p",["validate_all_builtin_templates:18:()::Validate all built-in templates"]]},"g":[["ExtractionValidator._validate_field","ExtractionValidator._get_field_config"],["validate_schema_for_reducto","suggest_enum_fields"],["get_document_by_filename","get_document_by_filename"],["ElasticsearchError.__init__","FileService.__init__"],["ProcessingError.__init__","SchemaError.__init__"],["ResourceNotFoundError.__init__","ExtractionService.__init__"],["SettingsService.get_all_settings","SettingsService._deserialize_value"],["SchemaError.__init__","QueryFieldExtractor.__init__"],["ReductoService._parse_extraction_with_bbox","ReductoService._parse_extraction_with_bbox"],["export_custom","ExportService.analyze_template_compatibility"],["ExtractionValidator._validate_business_rules","_validate_contract_field"],["PaperbaseException.__init__","MockField.__init__"],["SchemaRegistry.get_field_context","SchemaRegistry._get_standard_field_type"],["PaperbaseException.__init__","FieldExtractionService.__init__"],["ExportService.export_to_excel","ExportService._detect_complex_fields"],["FileUploadError.__init__","QueryFieldExtractor.__init__"],["ExternalServiceError.__init__","__init__"],["ConfigurationError.__init__","ResourceNotFoundError.__init__"],["ValidationError.__init__","ProcessingError.__init__"],["NotFoundError.__init__","AnswerCache.__init__"],["PermissionService.revoke_document_access","PermissionService.check_document_access"],["NotFoundError.__init__","ExternalServiceError.__init__"],["CacheService.clear","AnswerCache.clear"],["ClaudeError.__init__","SchemaRegistry.__init__"],["get_breadcrumbs","get_breadcrumbs"],["ElasticsearchError.__init__","ResourceNotFoundError.__init__"],["ExtractionService.batch_extract","process_extraction"],["SchemaError.__init__","MockField.__init__"],["ValidationError.__init__","MockDocument.__init__"],["ReductoError.__init__","ProcessingError.__init__"],["FieldNormalizer.normalize_query_fields","_expand_canonical_fields"],["filter_audit_items_by_fields","filter_audit_items_by_fields"],["ValidationError.__init__","ReductoValidationWarning.__init__"],["PermissionDeniedError.__init__","AnswerCache.__init__"],["PermissionService.assign_role","PermissionService.require_permission"],["ResourceNotFoundError.__init__","DatabaseService.__init__"],["ExportService.export_by_template","ExportService.documents_to_records"],["SettingsService.get_setting","SettingsService._deserialize_value"],["SchemaRegistry.get_field_context","_generate_typical_queries"],["verify_api_key","verify_password"],["update_user","get_user_permissions"],["PaperbaseException.__init__","ClaudeService.__init__"],["check_elasticsearch","test_es"],["ProcessingError.__init__","SchemaRegistry.__init__"],["get_low_confidence_fields","get_audit_queue"],["ElasticsearchError.__init__","ExtractionValidator.__init__"],["get_template_document_count","get_template_folder"],["QueryFieldExtractor.__init__","_reset"],["QueryOptimizer.build_optimized_query","QueryOptimizer._get_date_range"],["validate_schema_for_reducto","validate_field_name"],["get_index_statistics","_get_index_recommendations"],["cached","CacheService.set"],["test_documents_to_records","create_test_documents"],["PermissionService.grant_document_access","PermissionService._audit_log"],["_format_multi_agg_summary","_format_agg_summary"],["ReductoError.__init__","QueryOptimizer.__init__"],["main","test_answer_generation"],["NotFoundError.__init__","ProcessingError.__init__"],["ExtractionValidator._validate_business_rules","_validate_po_field"],["get_export_summary","ExportService.get_export_summary"],["main","test_audit_stats_response"],["ExternalServiceError.__init__","SchemaError.__init__"],["get_multi_aggregations","get_multi_aggregations"],["FieldNormalizer._expand_canonical_fields","FieldNormalizer.get_field_names"],["ExternalServiceError.__init__","ConfigurationError.__init__"],["ExtractionValidator._get_validation_model","ExtractionValidator._create_validation_model"],["QueryFieldExtractor._extract_fields_recursive","_handle_aggregations"],["NotFoundError.__init__","MockDocument.__init__"],["main","test_url_format"],["ExtractionValidator._validate_with_dynamic_model","_get_validation_type"],["FileUploadError.__init__","NotFoundError.__init__"],["NotFoundError.__init__","ReductoValidationWarning.__init__"],["ReductoService.extract_field_from_chunks","ReductoService._extract_value_after_hint"],["ExtractionValidator._validate_with_dynamic_model","_determine_status"],["PermissionDeniedError.__init__","MockDocument.__init__"],["PermissionService.revoke_share_link","PermissionService._audit_log"],["PaperbaseException.__init__","AnswerCache.__init__"],["update_user","require_permission"],["ExtractionValidator._validate_field","ExtractionValidator._validate_with_pydantic"],["PermissionDeniedError.__init__","ReductoValidationWarning.__init__"],["AnswerCache.set","_evict_oldest"],["call_tool","_get_document"],["main","test_aggregation_answer_generation"],["ResourceNotFoundError.__init__","FileService.__init__"],["test_mcp_server","print_error"],["search_in_folder","FolderService.search_in_folder"],["ReductoError.__init__","ResourceNotFoundError.__init__"],["FileUploadError.__init__","ElasticsearchService.__init__"],["SchemaError.__init__","AnswerCache.__init__"],["get_recent_documents","get_recent_documents"],["PermissionService.grant_document_access","check_document_access"],["PermissionService.create_share_link","PermissionService._audit_log"],["ValidationError.__init__","FileUploadError.__init__"],["ExternalServiceError.__init__","ElasticsearchMCPService.__init__"],["ExternalServiceError.__init__","SchemaRegistry.__init__"],["SchemaRegistry.get_canonical_field_mapping","SchemaRegistry._get_canonical_name"],["ConfigurationError.__init__","FieldNormalizer.__init__"],["ReductoError.__init__","ExtractionValidator.__init__"],["ExportService.export_to_excel","_detect_complex_fields"],["ExternalServiceError.__init__","ClaudeError.__init__"],["ReductoError.__init__","FileUploadError.__init__"],["FolderService.get_folder_tree","_tree_to_list"],["ElasticsearchError.__init__","FieldNormalizer.__init__"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_aggregations"],["ValidationError.__init__","__init__"],["update_user","PermissionService.get_user_permissions"],["ConfigurationError.__init__","ValidationError.__init__"],["PaperbaseException.__init__","QueryOptimizerLegacy.__init__"],["validate_schema_for_reducto","BackgroundJob.to_dict"],["PaperbaseException.__init__","MockDocument.__init__"],["create_share_link","create_share_link"],["ExtractionValidator._validate_field","_determine_status"],["QueryOptimizer._find_target_field","QueryOptimizerLegacy._resolve_field"],["ElasticsearchError.__init__","ValidationError.__init__"],["ClaudeError.__init__","ElasticsearchError.__init__"],["natural_language_query","_hash_query"],["PaperbaseException.__init__","ReductoValidationWarning.__init__"],["ClaudeError.__init__","PaperbaseException.__init__"],["ClaudeError.__init__","MockTemplate.__init__"],["ReductoService._parse_extraction_with_complex_types","ReductoService._parse_extraction_with_complex_types"],["ExtractionValidator._get_validation_model","_create_validation_model"],["ElasticsearchMCPService.search_with_context","QueryOptimizerLegacy.build_optimized_query"],["test_excel_multi_sheet","create_test_documents"],["NotFoundError.__init__","FileUploadError.__init__"],["get_folder_tree","FolderService.get_folder_tree"],["SchemaError.__init__","QueryOptimizerLegacy.__init__"],["ProcessingError.__init__","ElasticsearchError.__init__"],["ClaudeError.__init__","SettingsService.__init__"],["get_processing_timeline","get_processing_timeline"],["check_database","test_connection"],["FileUploadError.__init__","ReductoError.__init__"],["ElasticsearchError.__init__","PermissionDeniedError.__init__"],["SchemaError.__init__","ReductoValidationWarning.__init__"],["QueryOptimizerLegacy.understand_query_intent","QueryOptimizerLegacy._resolve_field"],["ClaudeError.__init__","FieldExtractionService.__init__"],["ExportService.export_multi_template_separated","_create_array_of_objects_sheet"],["ExtractionValidator._validate_field","_infer_field_type"],["hybrid_match_document","_no_match_result"],["ProcessingError.__init__","MockTemplate.__init__"],["PermissionDeniedError.__init__","FileUploadError.__init__"],["get_dashboard_stats","_format_dashboard_summary"],["QueryOptimizer._extract_numeric_filters","_find_target_field"],["extract_fields_from_es_query","extract_fields"],["test_json_export","create_test_documents"],["deactivate_user","PermissionService.require_permission"],["FieldNormalizer._expand_canonical_fields","FieldNormalizer._expand_canonical_fields"],["QueryFieldExtractor._extract_fields_recursive","_handle_multi_field_query"],["NotFoundError.__init__","__init__"],["CacheService.clear","CacheService.clear"],["ExtractionValidator.validate_extraction","ExtractionValidator._validate_cross_field_rules"],["ClaudeError.__init__","CacheService.__init__"],["ElasticsearchMCPService.close","DatabaseService.close"],["ProcessingError.__init__","SettingsService.__init__"],["main","test_parse_natural_language_query"],["ask_ai","ask_ai"],["natural_language_query","_handle_aggregation_query"],["get_document_permissions","build_share_url"],["FieldNormalizer.normalize_query_fields","FieldNormalizer._canonicalize_fields"],["FieldNormalizer.build_canonical_document","FieldNormalizer.get_canonical_name"],["ElasticsearchService.get_multi_aggregations","ElasticsearchService.search"],["PermissionDeniedError.__init__","__init__"],["ExportService.export_to_excel","_create_array_of_objects_sheet"],["ReductoService.extract_structured","upload_file"],["main","migrate_documents_to_physical_files"],["QueryOptimizerLegacy.build_optimized_query","QueryOptimizer._get_date_range"],["ConfigurationError.__init__","PermissionService.__init__"],["ProcessingError.__init__","CacheService.__init__"],["get_nested_aggregations","get_nested_aggregations"],["ResourceNotFoundError.__init__","SchemaRegistry.__init__"],["compare_templates_prompt","compare_templates_prompt"],["create_new_template","_validate_and_normalize_fields"],["ElasticsearchError.__init__","PermissionService.__init__"],["ReductoError.__init__","FieldNormalizer.__init__"],["run_integration_tests","test_health"],["revoke_document_access","revoke_document_access"],["PermissionService.grant_document_access","PermissionService.check_document_access"],["get_job_status","get_job_status"],["ConfigurationError.__init__","ElasticsearchError.__init__"],["ConfigurationError.__init__","PaperbaseException.__init__"],["get_preset_aggregation","get_multi_aggregations"],["FileUploadError.__init__","DatabaseService.__init__"],["ConfigurationError.__init__","MockTemplate.__init__"],["ElasticsearchError.__init__","ElasticsearchError.__init__"],["ReductoError.__init__","ValidationError.__init__"],["ExternalServiceError.__init__","NotFoundError.__init__"],["search_documents","_add_template_filter"],["ElasticsearchError.__init__","PaperbaseException.__init__"],["CacheService.clear","CacheService._get_cache_for_category"],["PaperbaseException.__init__","FileUploadError.__init__"],["main","test_audit_queue_response"],["ConfigurationError.__init__","MockField.__init__"],["PermissionService.revoke_document_access","_audit_log"],["ValidationError.__init__","PermissionDeniedError.__init__"],["ConfigurationError.__init__","SettingsService.__init__"],["ValidationError.__init__","ElasticsearchMCPService.__init__"],["ConfigurationError.__init__","FieldExtractionService.__init__"],["get_low_confidence_fields","get_low_confidence_fields"],["ExportService.export_multi_template_separated","build_export_query"],["SchemaError.__init__","ReductoService.__init__"],["FieldExtractionService.extract_field_from_all_docs","_extract_field_background"],["modify_schema_with_prompt","modify_schema_with_prompt"],["ElasticsearchError.__init__","MockField.__init__"],["ValidationError.__init__","ClaudeError.__init__"],["SchemaRegistry.get_field_context","SchemaRegistry._generate_typical_queries"],["ReductoError.__init__","PermissionDeniedError.__init__"],["QueryFieldExtractor._handle_aggregations","_extract_fields_recursive"],["ElasticsearchError.__init__","FieldExtractionService.__init__"],["PaperbaseException.__init__","__init__"],["PermissionDeniedError.__init__","ConfigurationError.__init__"],["ProcessingError.__init__","ExtractionService.__init__"],["ReductoService.parse_document","ReductoService._extract_confidence_scores"],["ClaudeError.__init__","ExternalServiceError.__init__"],["ConfigurationError.__init__","CacheService.__init__"],["FileUploadError.__init__","ReductoService.__init__"],["ExternalServiceError.__init__","ElasticsearchService.__init__"],["FolderService._tree_to_list","FolderService._tree_to_list"],["ElasticsearchMCPService.search_with_context","ElasticsearchMCPService._get_available_fields"],["PermissionService.revoke_role","PermissionService.require_permission"],["ExtractionValidator._validate_business_rules","_validate_receipt_field"],["ReductoService._parse_extraction_with_complex_types","_parse_extraction_with_complex_types"],["organize_document_file_copy","get_template_folder"],["ConfigurationError.__init__","ClaudeService.__init__"],["ProcessingError.__init__","ExternalServiceError.__init__"],["ReductoService.extract_structured","ReductoService._parse_citations"],["SchemaError.__init__","__init__"],["ElasticsearchError.__init__","ClaudeService.__init__"],["main","update_claude_config"],["CacheService.delete","_get_cache_for_category"],["ValidationError.__init__","QueryFieldExtractor.__init__"],["create_user","PermissionService.require_permission"],["NotFoundError.__init__","ElasticsearchMCPService.__init__"],["NotFoundError.__init__","PermissionDeniedError.__init__"],["ExportService.export_multi_template_separated","documents_to_records"],["FileUploadError.__init__","FileService.__init__"],["test_citations","upload_file"],["ReductoError.__init__","PermissionService.__init__"],["test_mcp_server","print_success"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_po_field"],["get_user","get_user_permissions"],["NotFoundError.__init__","ClaudeError.__init__"],["ClaudeError.__init__","ProcessingError.__init__"],["PermissionDeniedError.__init__","ElasticsearchMCPService.__init__"],["ExtractionValidator._validate_field","ExtractionValidator._validate_field_type"],["initialize_defaults","SettingsService.initialize_defaults"],["migrate_documents_to_extractions","generate_organized_path"],["QueryFieldExtractor._handle_bool_query","QueryFieldExtractor._extract_fields_recursive"],["SettingsService.set_setting","SettingsService._serialize_value"],["PermissionDeniedError.__init__","ClaudeError.__init__"],["PaperbaseException.__init__","ConfigurationError.__init__"],["test_create_table_sheet","create_test_documents"],["ProcessingError.__init__","ProcessingError.__init__"],["PermissionService.check_folder_access","check_permission"],["FieldNormalizer.initialize","_infer_canonical_category"],["ExternalServiceError.__init__","ReductoError.__init__"],["FieldNormalizer.build_canonical_document","get_canonical_name"],["ConfigurationError.__init__","ExternalServiceError.__init__"],["ReductoError.__init__","MockField.__init__"],["ReductoService.parse_document","ReductoService.upload_file"],["list_extractions","list_extractions"],["ElasticsearchService.find_similar_templates","ElasticsearchService.search"],["ElasticsearchError.__init__","AnswerCache.__init__"],["ExternalServiceError.__init__","ExtractionService.__init__"],["ReductoError.__init__","FieldExtractionService.__init__"],["SchemaError.__init__","SchemaError.__init__"],["ResourceNotFoundError.__init__","ElasticsearchError.__init__"],["SchemaError.__init__","ConfigurationError.__init__"],["aggregate_field","_format_agg_summary"],["ElasticsearchError.__init__","ExternalServiceError.__init__"],["ClaudeError.__init__","QueryOptimizer.__init__"],["ResourceNotFoundError.__init__","PaperbaseException.__init__"],["test_debug","upload_file"],["CacheService.get","CacheService._get_cache_for_category"],["run_integration_tests","test_search_without_filter"],["CacheService.delete","CacheService._get_cache_for_category"],["ResourceNotFoundError.__init__","MockTemplate.__init__"],["PermissionDeniedError.__init__","QueryFieldExtractor.__init__"],["main","check_item"],["FileUploadError.__init__","SchemaError.__init__"],["get_user","require_permission"],["PermissionService.revoke_document_access","check_document_access"],["NotFoundError.__init__","QueryFieldExtractor.__init__"],["ProcessingError.__init__","QueryOptimizer.__init__"],["revoke_share_link","PermissionService.revoke_share_link"],["ResourceNotFoundError.__init__","SettingsService.__init__"],["ElasticsearchMCPService.close","ElasticsearchMCPService.close"],["PaperbaseException.__init__","ElasticsearchMCPService.__init__"],["ElasticsearchService.search","search"],["ExtractionService.batch_extract","ExtractionService.create_extraction"],["ResourceNotFoundError.__init__","FieldExtractionService.__init__"],["ReductoError.__init__","ClaudeService.__init__"],["AnswerCache.clear","AnswerCache.clear"],["get_user_permissions","PermissionService.require_permission"],["PaperbaseException.__init__","ClaudeError.__init__"],["ConfigurationError.__init__","ProcessingError.__init__"],["extract_fields_from_es_query","QueryFieldExtractor.extract_fields"],["ExportService.export_multi_template_merged","export_to_excel"],["ResourceNotFoundError.__init__","CacheService.__init__"],["main","show_help"],["ExternalServiceError.__init__","DatabaseService.__init__"],["ClaudeError.__init__","ResourceNotFoundError.__init__"],["ElasticsearchService.close","ElasticsearchService.close"],["ConfigurationError.__init__","MockDocument.__init__"],["ElasticsearchError.__init__","ProcessingError.__init__"],["get_extraction_stats","get_extraction_stats"],["create_api_key","hash_password"],["SchemaError.__init__","ElasticsearchMCPService.__init__"],["SchemaError.__init__","SchemaRegistry.__init__"],["list_users","get_user_permissions"],["ConfigurationError.__init__","ReductoValidationWarning.__init__"],["run_integration_tests","test_frontend_compatibility"],["ReductoService.extract_structured","_convert_to_reducto_schema"],["PermissionService.assign_role","PermissionService._audit_log"],["ResourceNotFoundError.__init__","ClaudeService.__init__"],["SchemaRegistry.get_canonical_field_mapping","_get_canonical_name"],["ElasticsearchError.__init__","MockDocument.__init__"],["SchemaError.__init__","ClaudeError.__init__"],["ElasticsearchError.__init__","ReductoValidationWarning.__init__"],["ExportService.export_to_excel","ExportService._create_array_of_objects_sheet"],["ElasticsearchService.create_index","ElasticsearchService._get_es_field_type"],["get_user","PermissionService.get_user_permissions"],["ClaudeError.__init__","ExtractionValidator.__init__"],["ProcessingError.__init__","ResourceNotFoundError.__init__"],["FileUploadError.__init__","SchemaRegistry.__init__"],["ClaudeError.__init__","FileUploadError.__init__"],["ExportService.export_multi_template_merged","build_export_query"],["PaperbaseException.__init__","QueryFieldExtractor.__init__"],["cached","decorator"],["QueryFieldExtractor.extract_fields","QueryFieldExtractor._extract_fields_recursive"],["PermissionDeniedError.__init__","NotFoundError.__init__"],["ReductoError.__init__","AnswerCache.__init__"],["delete_setting","SettingsService.delete_setting"],["search_documents","search_documents"],["ProcessingError.__init__","ExtractionValidator.__init__"],["ExtractionValidator._validate_field","_validate_business_rules"],["ExportService.export_multi_template_separated","ExportService.build_export_query"],["ProcessingError.__init__","FileUploadError.__init__"],["migrate","rollback"],["ReductoService._parse_extraction_with_bbox","_parse_extraction_with_bbox"],["ExportService.export_multi_template_merged","ExportService.export_to_json"],["test_debug","FileService.upload_file"],["get_low_confidence_fields_for_documents","get_low_confidence_fields_for_documents"],["organize_document_file","get_template_folder"],["CacheService.get","get"],["get_setting","get_default_context"],["list_users","require_permission"],["PermissionService.grant_document_access","_audit_log"],["list_extractions","ExtractionService.list_extractions"],["ExternalServiceError.__init__","FileService.__init__"],["QueryOptimizer.build_optimized_query","QueryOptimizerLegacy._get_date_range"],["ResourceNotFoundError.__init__","ExternalServiceError.__init__"],["ValidationError.__init__","ReductoError.__init__"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_invoice_field"],["run_integration_tests","test_error_handling"],["CacheService.get","CacheService.get"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_multi_field_query"],["QueryOptimizer.understand_query_intent","QueryOptimizer._extract_text_filters"],["ValidationError.__init__","QueryOptimizerLegacy.__init__"],["ElasticsearchMCPService.get_document","ElasticsearchMCPService.get_document"],["call_tool","_verify_extraction"],["AnswerCache.get","get"],["QueryFieldExtractor._handle_aggregations","QueryFieldExtractor._extract_fields_recursive"],["rollback","rollback"],["ConfigurationError.__init__","ExtractionValidator.__init__"],["ElasticsearchMCPService.close","close"],["ReductoError.__init__","QueryOptimizerLegacy.__init__"],["PermissionService.revoke_share_link","_audit_log"],["ReductoError.__init__","MockDocument.__init__"],["ConfigurationError.__init__","FileUploadError.__init__"],["PaperbaseException.__init__","NotFoundError.__init__"],["ReductoError.__init__","ReductoValidationWarning.__init__"],["ExportService.export_by_template","ExportService.export_to_json"],["export_custom","analyze_template_compatibility"],["ElasticsearchError.__init__","FileUploadError.__init__"],["get_template_details","get_template_details"],["list_users","PermissionService.get_user_permissions"],["get_settings_by_category","SettingsService.get_all_settings"],["ClaudeError.__init__","FieldNormalizer.__init__"],["get_extraction_stats","ExtractionService.get_extraction_stats"],["ResourceNotFoundError.__init__","ProcessingError.__init__"],["create_share_link","build_share_url"],["ExtractionValidator._validate_with_dynamic_model","_get_validation_model"],["get_breadcrumbs","FolderService.get_breadcrumbs"],["SchemaError.__init__","NotFoundError.__init__"],["PermissionService.create_share_link","_audit_log"],["PermissionService.require_permission","PermissionService.check_permission"],["FieldNormalizer.normalize_query_fields","FieldNormalizer._expand_canonical_fields"],["ValidationError.__init__","DatabaseService.__init__"],["ElasticsearchError.__init__","__init__"],["ElasticsearchService.create_index","_get_es_field_type"],["ClaudeError.__init__","ValidationError.__init__"],["ElasticsearchService.create_index","ElasticsearchService._build_complex_field_mapping"],["NotFoundError.__init__","QueryOptimizerLegacy.__init__"],["ProcessingError.__init__","FieldNormalizer.__init__"],["auto_match_documents","hybrid_match_document"],["revoke_document_access","PermissionService.revoke_document_access"],["PermissionDeniedError.__init__","ReductoError.__init__"],["PermissionDeniedError.__init__","QueryOptimizerLegacy.__init__"],["QueryFieldExtractor.__init__","QueryFieldExtractor._reset"],["validate_schema_for_reducto","to_dict"],["ExtractionValidator._create_validation_model","_get_field_kwargs"],["ProcessingError.__init__","ValidationError.__init__"],["ResourceNotFoundError.__init__","QueryOptimizer.__init__"],["QueryFieldExtractor._extract_fields_recursive","_handle_field_query"],["ClaudeError.__init__","PermissionDeniedError.__init__"],["FileUploadError.__init__","ElasticsearchError.__init__"],["ElasticsearchService.close","DatabaseService.close"],["SchemaError.__init__","ElasticsearchService.__init__"],["delete_setting","get_default_context"],["FileUploadError.__init__","PaperbaseException.__init__"],["ExtractionValidator._validate_with_dynamic_model","ExtractionValidator._get_validation_type"],["AnswerCache.clear","CacheService.clear"],["QueryFieldExtractor._handle_bool_query","_extract_fields_recursive"],["get_template_stats","get_template_stats"],["get_recent_documents","DatabaseService.search_documents"],["FileUploadError.__init__","MockTemplate.__init__"],["ValidationError.__init__","ReductoService.__init__"],["validate_schema_for_reducto","detect_embedded_calculations"],["get_field_accuracy_report","get_field_accuracy_report"],["ProcessingError.__init__","PermissionDeniedError.__init__"],["FileUploadError.__init__","SettingsService.__init__"],["NotFoundError.__init__","DatabaseService.__init__"],["ExtractionValidator._validate_field","_validate_with_pydantic"],["get_document_by_filename","search_documents"],["CacheService.set","_get_cache_for_category"],["ElasticsearchMCPService.health_check","ElasticsearchService.health_check"],["get_folder_stats","get_folder_stats"],["run_integration_tests","test_templates_endpoint"],["PermissionDeniedError.__init__","DatabaseService.__init__"],["FileUploadError.__init__","CacheService.__init__"],["natural_language_query","_generate_suggested_actions"],["ClaudeError.__init__","PermissionService.__init__"],["ResourceNotFoundError.__init__","ResourceNotFoundError.__init__"],["PaperbaseException.__init__","ReductoError.__init__"],["QueryOptimizer.understand_query_intent","_extract_text_filters"],["ExtractionValidator._validate_field","_validate_field_type"],["QueryFieldExtractor._handle_field_query","_add_field"],["ElasticsearchService.get_multi_aggregations","search"],["ExportService.export_multi_template_merged","ExportService.build_export_query"],["ask_ai","format_answer_for_claude"],["ExtractionService.batch_extract","ExtractionService.process_extraction"],["QueryFieldExtractor.extract_fields","_reset"],["ReductoError.__init__","__init__"],["ResourceNotFoundError.__init__","ExtractionValidator.__init__"],["ProcessingError.__init__","PermissionService.__init__"],["NotFoundError.__init__","ReductoService.__init__"],["ResourceNotFoundError.__init__","FileUploadError.__init__"],["call_tool","_get_audit_queue"],["ElasticsearchMCPService.health_check","health_check"],["SchemaError.__init__","ReductoError.__init__"],["prepare_citation_metadata","prepare_citation_metadata"],["ConfigurationError.__init__","PermissionDeniedError.__init__"],["QueryOptimizerLegacy.build_optimized_query","QueryOptimizerLegacy._get_date_range"],["PermissionDeniedError.__init__","ReductoService.__init__"],["SchemaError.__init__","ExtractionService.__init__"],["ClaudeError.__init__","MockField.__init__"],["get_settings_by_category","get_default_context"],["ExtractionService.batch_extract","create_extraction"],["delete_document","ElasticsearchService.delete_document"],["ProcessingError.__init__","PaperbaseException.__init__"],["CacheService.get","AnswerCache.get"],["ConfigurationError.__init__","ClaudeError.__init__"],["ElasticsearchError.__init__","ElasticsearchMCPService.__init__"],["main","print_error"],["FieldNormalizer.get_search_fields_for_category","FieldNormalizer.get_field_names"],["ExportService.export_multi_template_merged","export_to_json"],["FileUploadError.__init__","ExtractionService.__init__"],["SchemaRegistry.get_field_context","_get_default_context"],["ElasticsearchError.__init__","ClaudeError.__init__"],["ElasticsearchMCPService.health_check","ElasticsearchMCPService.health_check"],["PaperbaseException.__init__","DatabaseService.__init__"],["ProcessingError.__init__","MockField.__init__"],["get_export_summary","get_export_summary"],["PermissionService.revoke_role","PermissionService._audit_log"],["ElasticsearchService.index_document","_build_canonical_fields"],["ValidationError.__init__","SchemaError.__init__"],["ProcessingError.__init__","FieldExtractionService.__init__"],["ValidationError.__init__","ConfigurationError.__init__"],["AnswerCache.get","AnswerCache.get"],["FileUploadError.__init__","ExternalServiceError.__init__"],["ClaudeError.__init__","ClaudeService.__init__"],["QueryFieldExtractor.extract_fields","_extract_fields_recursive"],["main","run_setup"],["cached","cached"],["ReductoError.__init__","ConfigurationError.__init__"],["ConfigurationError.__init__","QueryFieldExtractor.__init__"],["SchemaError.__init__","DatabaseService.__init__"],["create_mcp_config","get_python_command"],["ElasticsearchService.get_aggregations","ElasticsearchService.search"],["ElasticsearchError.__init__","QueryFieldExtractor.__init__"],["cancel_job","cancel_job"],["ExtractionValidator._validate_field","ExtractionValidator._determine_status"],["get_audit_stats","DatabaseService.get_audit_queue"],["ProcessingError.__init__","ClaudeService.__init__"],["seed_templates","seed_builtin_templates"],["PaperbaseException.__init__","ReductoService.__init__"],["aggregate_field","aggregate_field"],["SchemaRegistry.get_field_context","SchemaRegistry._generate_aliases"],["ElasticsearchService.cluster_uploaded_documents","ElasticsearchService._calculate_text_similarity"],["ExportService.export_by_template","export_to_json"],["NotFoundError.__init__","SchemaError.__init__"],["ResourceNotFoundError.__init__","FieldNormalizer.__init__"],["NotFoundError.__init__","ConfigurationError.__init__"],["ValidationError.__init__","SchemaRegistry.__init__"],["FileUploadError.__init__","ProcessingError.__init__"],["ExternalServiceError.__init__","ElasticsearchError.__init__"],["ExternalServiceError.__init__","PaperbaseException.__init__"],["PaperbaseException.__init__","FileService.__init__"],["ReductoError.__init__","ElasticsearchMCPService.__init__"],["update_user","PermissionService.require_permission"],["QueryOptimizer._find_target_field","QueryOptimizer._resolve_field"],["PermissionDeniedError.__init__","SchemaError.__init__"],["ClaudeError.__init__","AnswerCache.__init__"],["ExtractionValidator.validate_extraction","ExtractionValidator._validate_field"],["compare_templates","compare_templates"],["ResourceNotFoundError.__init__","ValidationError.__init__"],["ExternalServiceError.__init__","MockTemplate.__init__"],["ElasticsearchMCPService.get_aggregations","get_aggregations"],["ReductoError.__init__","ClaudeError.__init__"],["ElasticsearchService.get_nested_aggregations","ElasticsearchService.search"],["FileService.upload_multiple","upload_file"],["ReductoService._convert_to_reducto_schema","map_type_to_json_schema"],["ExternalServiceError.__init__","SettingsService.__init__"],["ExternalServiceError.__init__","FieldExtractionService.__init__"],["call_tool","_get_statistics"],["SchemaRegistry.get_field_context","SchemaRegistry._get_default_context"],["ProcessingError.__init__","AnswerCache.__init__"],["get_folder_tree","get_folder_tree"],["SchemaError.__init__","FileService.__init__"],["main","test_mcp_rag_response"],["ElasticsearchService.find_similar_templates","search"],["FileUploadError.__init__","QueryOptimizer.__init__"],["QueryOptimizerLegacy.understand_query_intent","QueryOptimizer._resolve_field"],["ResourceNotFoundError.__init__","PermissionDeniedError.__init__"],["SettingsService.initialize_defaults","set_setting"],["ElasticsearchService.cluster_uploaded_documents","_calculate_text_similarity"],["cached","get"],["delete_document","delete_document"],["ExternalServiceError.__init__","CacheService.__init__"],["ElasticsearchError.__init__","NotFoundError.__init__"],["ReductoService.extract_structured","FileService.upload_file"],["test_mcp_server","print_info"],["normalize_bbox","normalize_bbox"],["NotFoundError.__init__","SchemaRegistry.__init__"],["cached","set"],["get_all_settings","get_all_settings"],["require_permission","require_permission"],["ReductoError.__init__","QueryFieldExtractor.__init__"],["ExternalServiceError.__init__","ClaudeService.__init__"],["cancel_job","FieldExtractionService.cancel_job"],["cached","CacheService.get"],["PermissionDeniedError.__init__","SchemaRegistry.__init__"],["ClaudeError.__init__","QueryOptimizerLegacy.__init__"],["test_detect_complex_fields","create_test_documents"],["ClaudeError.__init__","MockDocument.__init__"],["PaperbaseException.__init__","SchemaError.__init__"],["ClaudeError.__init__","ReductoValidationWarning.__init__"],["main","print_warning"],["ResourceNotFoundError.__init__","PermissionService.__init__"],["FileUploadError.__init__","ResourceNotFoundError.__init__"],["ConfigurationError.__init__","AnswerCache.__init__"],["PermissionService.check_document_access","check_permission"],["SettingsService.get_all_settings","_deserialize_value"],["get_field_insights","get_field_insights"],["ResourceNotFoundError.__init__","QueryFieldExtractor.__init__"],["ProcessingError.__init__","QueryOptimizerLegacy.__init__"],["ProcessingError.__init__","MockDocument.__init__"],["ExportService.export_multi_template_merged","export_to_csv"],["ExportService.export_multi_template_separated","ExportService.documents_to_records"],["ProcessingError.__init__","ReductoValidationWarning.__init__"],["ElasticsearchMCPService.search_with_context","understand_query_intent"],["PermissionService.assign_role","_audit_log"],["FileUploadError.__init__","ExtractionValidator.__init__"],["get_dashboard_aggregations","ElasticsearchService.get_multi_aggregations"],["PermissionService.require_document_access","PermissionService.check_document_access"],["FileUploadError.__init__","FileUploadError.__init__"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_nested_query"],["ExportService.export_multi_template_merged","ExportService.export_to_excel"],["ValidationError.__init__","NotFoundError.__init__"],["ResourceNotFoundError.__init__","MockField.__init__"],["ExternalServiceError.__init__","ExternalServiceError.__init__"],["FileService.upload_multiple","FileService.upload_file"],["main","print_info"],["PaperbaseException.__init__","SchemaRegistry.__init__"],["CacheService._get_cache_for_category","get"],["get_confidence_distribution","get_confidence_distribution"],["ReductoError.__init__","NotFoundError.__init__"],["SettingsService.get_setting","_deserialize_value"],["main","print_success"],["cached","wrapper"],["analyze_template_compatibility","ExportService.analyze_template_compatibility"],["ElasticsearchMCPService.search_with_context","build_optimized_query"],["ElasticsearchService.close","close"],["ReductoService.extract_structured","parse_document"],["main","get_project_paths"],["PermissionService.assign_role","require_permission"],["ConfigurationError.__init__","QueryOptimizerLegacy.__init__"],["ValidationError.__init__","MockTemplate.__init__"],["ElasticsearchError.__init__","ReductoError.__init__"],["test_citations","FileService.upload_file"],["ReductoService.extract_structured","_parse_extraction_with_complex_types"],["FieldNormalizer.get_aggregation_field","get_field_names"],["ReductoService.extract_structured","_parse_citations"],["CacheService._get_cache_for_category","CacheService.get"],["list_templates","list_templates"],["ValidationError.__init__","ElasticsearchService.__init__"],["ElasticsearchError.__init__","QueryOptimizerLegacy.__init__"],["extract_fields_from_es_query","extract_fields_from_es_query"],["ElasticsearchMCPService.search_with_context","QueryOptimizerLegacy.understand_query_intent"],["ExtractionValidator.validate_extraction","_validate_cross_field_rules"],["ReductoError.__init__","ElasticsearchService.__init__"],["ExternalServiceError.__init__","ProcessingError.__init__"],["main","test_sql_filtering_optimization"],["NotFoundError.__init__","NotFoundError.__init__"],["get_audit_queue","DatabaseService.get_audit_queue"],["ExtractionValidator._validate_business_rules","_validate_invoice_field"],["ExtractionValidator._create_validation_model","ExtractionValidator._get_field_kwargs"],["list_templates","seed_builtin_templates"],["ValidationError.__init__","CacheService.__init__"],["get_query_suggestions","_get_context_suggestions"],["SchemaError.__init__","FieldNormalizer.__init__"],["ReductoService.extract_structured","ReductoService.parse_document"],["QueryFieldExtractor._handle_nested_query","QueryFieldExtractor._extract_fields_recursive"],["get_dashboard_aggregations","get_multi_aggregations"],["get_recent_documents","search_documents"],["ClaudeError.__init__","__init__"],["SettingsService.set_setting","_serialize_value"],["ExportService.export_by_template","export_to_excel"],["ConfigurationError.__init__","DatabaseService.__init__"],["main","backup_config"],["cached","CacheService.make_key"],["FileUploadError.__init__","FieldNormalizer.__init__"],["ElasticsearchError.__init__","DatabaseService.__init__"],["ExternalServiceError.__init__","QueryOptimizer.__init__"],["NotFoundError.__init__","ElasticsearchService.__init__"],["SchemaRegistry.get_field_context","_get_standard_field_description"],["PermissionDeniedError.__init__","MockTemplate.__init__"],["ProcessingError.__init__","__init__"],["ResourceNotFoundError.__init__","AnswerCache.__init__"],["PermissionService.require_permission","check_permission"],["prepare_citation_metadata","build_audit_url"],["QueryFieldExtractor._handle_field_query","QueryFieldExtractor._add_field"],["FileUploadError.__init__","ValidationError.__init__"],["PermissionDeniedError.__init__","ElasticsearchService.__init__"],["ElasticsearchService.create_index","_build_complex_field_mapping"],["PermissionDeniedError.__init__","SettingsService.__init__"],["ElasticsearchService._build_complex_field_mapping","ElasticsearchService._get_es_field_type"],["cached","AnswerCache.get"],["ExportService.export_by_template","build_export_query"],["NotFoundError.__init__","CacheService.__init__"],["ValidationError.__init__","ExtractionService.__init__"],["ConfigurationError.__init__","ReductoService.__init__"],["ReductoError.__init__","ReductoError.__init__"],["cached","get_all_templates"],["batch_extract","ExtractionService.batch_extract"],["FieldExtractionService.extract_field_from_all_docs","FieldExtractionService._extract_field_background"],["migrate_documents_to_extractions","infer_template_from_schema"],["PermissionDeniedError.__init__","CacheService.__init__"],["FileUploadError.__init__","PermissionDeniedError.__init__"],["ElasticsearchError.__init__","ReductoService.__init__"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_contract_field"],["ExternalServiceError.__init__","ResourceNotFoundError.__init__"],["format_answer_for_claude","replace_marker"],["ClaudeError.__init__","ConfigurationError.__init__"],["AnswerCache.get","CacheService.get"],["QueryOptimizer.understand_query_intent","_extract_numeric_filters"],["AnswerCache.get","AnswerCache._generate_cache_key"],["ExportService.export_multi_template_separated","ExportService._detect_complex_fields"],["ConfigurationError.__init__","__init__"],["ExternalServiceError.__init__","ExtractionValidator.__init__"],["ExportService.export_by_template","documents_to_records"],["ResourceNotFoundError.__init__","QueryOptimizerLegacy.__init__"],["NotFoundError.__init__","ReductoError.__init__"],["SchemaError.__init__","PermissionService.__init__"],["PaperbaseException.__init__","MockTemplate.__init__"],["ResourceNotFoundError.__init__","MockDocument.__init__"],["ElasticsearchMCPService.get_aggregations","ElasticsearchMCPService.get_aggregations"],["ExternalServiceError.__init__","FileUploadError.__init__"],["ProcessingError.__init__","ConfigurationError.__init__"],["get_setting","SettingsService.get_setting"],["get_multi_aggregations","ElasticsearchService.get_multi_aggregations"],["ResourceNotFoundError.__init__","ReductoValidationWarning.__init__"],["search_documents","_get_template_context"],["PaperbaseException.__init__","ElasticsearchService.__init__"],["NotFoundError.__init__","ExtractionService.__init__"],["get_low_confidence_fields","DatabaseService.get_audit_queue"],["FieldNormalizer.get_canonical_name","_infer_canonical_category"],["FileUploadError.__init__","PermissionService.__init__"],["PaperbaseException.__init__","SettingsService.__init__"],["get_user","PermissionService.require_permission"],["SchemaError.__init__","ElasticsearchError.__init__"],["ReductoError.__init__","DatabaseService.__init__"],["SchemaError.__init__","PaperbaseException.__init__"],["call_tool","_get_templates"],["downgrade","drop_column"],["QueryOptimizer.understand_query_intent","QueryOptimizer._extract_numeric_filters"],["ExportService.export_multi_template_separated","_create_table_sheet"],["PermissionDeniedError.__init__","ExtractionService.__init__"],["SchemaError.__init__","MockTemplate.__init__"],["ClaudeError.__init__","ElasticsearchMCPService.__init__"],["deactivate_user","require_permission"],["ExportService.export_multi_template_separated","export_multi_template_merged"],["PaperbaseException.__init__","CacheService.__init__"],["SchemaError.__init__","SettingsService.__init__"],["main","run_server"],["CacheService._get_cache_for_category","AnswerCache.get"],["get_all_settings","SettingsService.get_all_settings"],["ClaudeError.__init__","ClaudeError.__init__"],["ExtractionValidator._validate_with_dynamic_model","ExtractionValidator._get_validation_model"],["SchemaError.__init__","FieldExtractionService.__init__"],["cached","make_key"],["client","override_get_db"],["search_documents","_add_folder_filter"],["update_setting","get_default_context"],["delete_setting","delete_setting"],["PermissionDeniedError.__init__","ExternalServiceError.__init__"],["test_debug","ReductoService.upload_file"],["ExportService.export_to_excel","_create_table_sheet"],["validate_field_value","get_validation_schema"],["ProcessingError.__init__","ElasticsearchMCPService.__init__"],["FileUploadError.__init__","MockField.__init__"],["ElasticsearchMCPService.close","ElasticsearchService.close"],["SchemaRegistry.get_field_context","SchemaRegistry._get_standard_field_description"],["ConfigurationError.__init__","SchemaError.__init__"],["ConfigurationError.__init__","ConfigurationError.__init__"],["ReductoError.__init__","ReductoService.__init__"],["SchemaError.__init__","CacheService.__init__"],["FileUploadError.__init__","FieldExtractionService.__init__"],["ValidationError.__init__","QueryOptimizer.__init__"],["ProcessingError.__init__","ClaudeError.__init__"],["ElasticsearchError.__init__","SchemaError.__init__"],["ElasticsearchError.__init__","ConfigurationError.__init__"],["ElasticsearchService._build_complex_field_mapping","_get_es_field_type"],["FieldNormalizer.initialize","FieldNormalizer._infer_canonical_category"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_field_query"],["ValidationError.__init__","FileService.__init__"],["create_share_link","PermissionService.create_share_link"],["SchemaError.__init__","ClaudeService.__init__"],["create_test_documents","add_field"],["initialize_defaults","initialize_defaults"],["test_csv_export","create_test_documents"],["ClaudeError.__init__","QueryFieldExtractor.__init__"],["PermissionService.revoke_role","_audit_log"],["PaperbaseException.__init__","ExtractionService.__init__"],["ReductoError.__init__","FileService.__init__"],["ResourceNotFoundError.__init__","ReductoService.__init__"],["FileUploadError.__init__","ClaudeService.__init__"],["PermissionDeniedError.__init__","ProcessingError.__init__"],["ExternalServiceError.__init__","FieldNormalizer.__init__"],["QueryOptimizer.build_optimized_query","_get_date_range"],["ProcessingError.__init__","QueryFieldExtractor.__init__"],["cached","AnswerCache.set"],["ElasticsearchMCPService.get_aggregations","ElasticsearchService.get_aggregations"],["ElasticsearchService.get_aggregations","search"],["AnswerCache.get","_generate_cache_key"],["ExtractionValidator._validate_with_dynamic_model","ExtractionValidator._determine_status"],["ConfigurationError.__init__","ElasticsearchMCPService.__init__"],["get_job_status","FieldExtractionService.get_job_status"],["ConfigurationError.__init__","SchemaRegistry.__init__"],["PaperbaseException.__init__","ExternalServiceError.__init__"],["ValidationError.__init__","ResourceNotFoundError.__init__"],["ExternalServiceError.__init__","ValidationError.__init__"],["list_users","PermissionService.require_permission"],["ExtractionValidator._validate_field","ExtractionValidator._infer_field_type"],["NotFoundError.__init__","QueryOptimizer.__init__"],["search_documents","DatabaseService.search_documents"],["ExtractionValidator._validate_field","ExtractionValidator._validate_business_rules"],["multi_aggregate","_format_multi_agg_summary"],["get_job_status","ReductoService.get_job_status"],["run_integration_tests","test_search_with_template_filter"],["get_nested_aggregations","ElasticsearchService.get_nested_aggregations"],["ExportService.export_multi_template_separated","_detect_complex_fields"],["ElasticsearchError.__init__","SchemaRegistry.__init__"],["get_query_suggestions","get_query_suggestions"],["PermissionService.revoke_role","require_permission"],["ResourceNotFoundError.__init__","__init__"],["NotFoundError.__init__","FileService.__init__"],["CacheService.set","CacheService._get_cache_for_category"],["main","test_answer_caching"],["ValidationError.__init__","ExtractionValidator.__init__"],["PermissionDeniedError.__init__","QueryOptimizer.__init__"],["QueryFieldExtractor._extract_fields_recursive","_handle_nested_query"],["QueryFieldExtractor._handle_multi_field_query","QueryFieldExtractor._add_field"],["QueryFieldExtractor.extract_fields","QueryFieldExtractor._reset"],["SchemaError.__init__","ExternalServiceError.__init__"],["ExternalServiceError.__init__","PermissionDeniedError.__init__"],["ExportService.export_multi_template_separated","ExportService.export_multi_template_merged"],["ExportService.export_by_template","ExportService.build_export_query"],["PermissionDeniedError.__init__","FileService.__init__"],["create_user","require_permission"],["FileUploadError.__init__","AnswerCache.__init__"],["ReductoService.parse_document","upload_file"],["AnswerCache.clear","clear"],["SettingsService.initialize_defaults","SettingsService.set_setting"],["ClaudeError.__init__","NotFoundError.__init__"],["ReductoError.__init__","SchemaError.__init__"],["QueryOptimizer._find_target_field","_resolve_field"],["get_audit_stats","get_audit_stats"],["PaperbaseException.__init__","ProcessingError.__init__"],["ElasticsearchService.get_nested_aggregations","search"],["QueryFieldExtractor._handle_nested_query","_extract_fields_recursive"],["cached","DatabaseService.get_all_templates"],["NotFoundError.__init__","ResourceNotFoundError.__init__"],["ExportService.export_multi_template_merged","ExportService.export_to_csv"],["ElasticsearchMCPService.search_with_context","QueryOptimizer.understand_query_intent"],["check_dependencies","print_error"],["FieldNormalizer._expand_canonical_fields","_expand_canonical_fields"],["QueryFieldExtractor._extract_fields_recursive","_handle_bool_query"],["FolderService._tree_to_list","_tree_to_list"],["get_all_settings","get_default_context"],["get_preset_aggregation","ElasticsearchService.get_multi_aggregations"],["ProcessingError.__init__","NotFoundError.__init__"],["get_user_permissions","get_user_permissions"],["PermissionDeniedError.__init__","ResourceNotFoundError.__init__"],["ExternalServiceError.__init__","PermissionService.__init__"],["NotFoundError.__init__","ExtractionValidator.__init__"],["SchemaError.__init__","ProcessingError.__init__"],["ResourceNotFoundError.__init__","SchemaError.__init__"],["QueryOptimizerLegacy.understand_query_intent","_resolve_field"],["ResourceNotFoundError.__init__","ConfigurationError.__init__"],["ExternalServiceError.__init__","QueryFieldExtractor.__init__"],["ClaudeError.__init__","ElasticsearchService.__init__"],["SchemaError.__init__","MockDocument.__init__"],["PaperbaseException.__init__","QueryOptimizer.__init__"],["PermissionDeniedError.__init__","ExtractionValidator.__init__"],["PermissionService.require_document_access","check_document_access"],["CacheService.clear","_get_cache_for_category"],["FolderService.get_folder_tree","FolderService._tree_to_list"],["FieldNormalizer._expand_canonical_fields","get_field_names"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._extract_fields_recursive"],["FileUploadError.__init__","QueryOptimizerLegacy.__init__"],["PermissionService.check_permission","PermissionService._has_permission_via_role"],["natural_language_query","_format_result"],["ReductoError.__init__","SchemaRegistry.__init__"],["FileUploadError.__init__","MockDocument.__init__"],["ProcessingError.__init__","ElasticsearchService.__init__"],["FileUploadError.__init__","ReductoValidationWarning.__init__"],["check_templates","count_templates"],["get_audit_stats","get_audit_queue"],["run_integration_tests","test_elasticsearch"],["ElasticsearchService.close","ElasticsearchMCPService.close"],["ExportService.export_by_template","ExportService.export_to_csv"],["SchemaError.__init__","QueryOptimizer.__init__"],["format_bbox_for_frontend","normalize_bbox"],["ExternalServiceError.__init__","MockField.__init__"],["ClaudeService.analyze_sample_documents","_build_schema_generation_prompt"],["ReductoService.extract_structured","ReductoService._parse_extraction_with_complex_types"],["main","verify_setup"],["SchemaRegistry.get_all_templates_context","get_field_context"],["ValidationError.__init__","FieldNormalizer.__init__"],["get_verification_history","get_verification_history"],["ConfigurationError.__init__","NotFoundError.__init__"],["add_field_from_description","suggest_field_from_description"],["FieldNormalizer.get_aggregation_field","FieldNormalizer.get_field_names"],["get_current_user_optional","get_current_user"],["ResourceNotFoundError.__init__","ElasticsearchMCPService.__init__"],["get_user_permissions","require_permission"],["main","check_dependencies"],["build_audit_url","build_audit_url"],["PaperbaseException.__init__","ResourceNotFoundError.__init__"],["validate_schema_for_reducto","validate_extraction_hints"],["read_resource","_get_statistics"],["CacheService.clear","clear"],["ValidationError.__init__","ValidationError.__init__"],["ResourceNotFoundError.__init__","ClaudeError.__init__"],["ReductoService.parse_document","FileService.upload_file"],["update_claude_config","print_error"],["upgrade","add_column"],["FieldNormalizer.normalize_query_fields","_canonicalize_fields"],["ExtractionValidator.validate_extraction","_validate_field"],["ClaudeError.__init__","ReductoError.__init__"],["AnswerCache.set","AnswerCache._generate_cache_key"],["PaperbaseException.__init__","ExtractionValidator.__init__"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_receipt_field"],["QueryOptimizer.understand_query_intent","QueryOptimizer._extract_date_filters"],["get_document_by_filename","DatabaseService.search_documents"],["ConfigurationError.__init__","ElasticsearchService.__init__"],["ExtractionValidator.validate_extraction","_validate_with_dynamic_model"],["SchemaError.__init__","ResourceNotFoundError.__init__"],["ClaudeError.__init__","ExtractionService.__init__"],["ReductoService.extract_structured","ReductoService._convert_to_reducto_schema"],["QueryOptimizerLegacy.build_optimized_query","_get_date_range"],["FieldNormalizer.get_canonical_name","FieldNormalizer._infer_canonical_category"],["get_settings_by_category","get_all_settings"],["ElasticsearchError.__init__","MockTemplate.__init__"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_bool_query"],["QueryFieldExtractor._handle_multi_field_query","_add_field"],["ElasticsearchError.__init__","ElasticsearchService.__init__"],["multi_aggregate","multi_aggregate"],["ProcessingError.__init__","ReductoError.__init__"],["NotFoundError.__init__","FieldNormalizer.__init__"],["ElasticsearchError.__init__","SettingsService.__init__"],["PermissionService.check_permission","_has_permission_via_role"],["ExtractionValidator._create_validation_model","ExtractionValidator._get_pydantic_type"],["SchemaError.__init__","ExtractionValidator.__init__"],["get_user_permissions","PermissionService.get_user_permissions"],["ElasticsearchMCPService.search_with_context","QueryOptimizer.build_optimized_query"],["get_current_user","decode_access_token"],["hybrid_match_document","extract_field_names_from_parse"],["SchemaError.__init__","FileUploadError.__init__"],["PermissionDeniedError.__init__","FieldNormalizer.__init__"],["NotFoundError.__init__","ValidationError.__init__"],["ElasticsearchError.__init__","CacheService.__init__"],["ElasticsearchMCPService.get_document","get_document"],["QueryOptimizer._extract_numeric_filters","QueryOptimizer._find_target_field"],["ElasticsearchMCPService.get_document","ElasticsearchService.get_document"],["get_document_details","get_document_details"],["PermissionDeniedError.__init__","ValidationError.__init__"],["ExternalServiceError.__init__","AnswerCache.__init__"],["ValidationError.__init__","PermissionService.__init__"],["ClaudeError.__init__","DatabaseService.__init__"],["create_test_documents","MockDocument.add_field"],["CacheService.get","_get_cache_for_category"],["run_integration_tests","test_audit_metadata"],["FieldNormalizer.get_search_fields_for_category","get_field_names"],["SchemaRegistry.get_field_context","_generate_aliases"],["PermissionService.revoke_document_access","PermissionService._audit_log"],["PermissionService.revoke_share_link","require_document_access"],["FileUploadError.__init__","__init__"],["ValidationError.__init__","ElasticsearchError.__init__"],["ConfigurationError.__init__","ReductoError.__init__"],["ProcessingError.__init__","DatabaseService.__init__"],["upgrade","execute"],["ValidationError.__init__","PaperbaseException.__init__"],["ReductoService._convert_to_reducto_schema","ReductoService.map_type_to_json_schema"],["PermissionDeniedError.__init__","PermissionDeniedError.__init__"],["ExtractionValidator._validate_field","_get_field_config"],["main","create_mcp_config"],["ConfigurationError.__init__","ExtractionService.__init__"],["ExportService.export_by_template","export_to_csv"],["ReductoError.__init__","ElasticsearchError.__init__"],["ReductoError.__init__","PaperbaseException.__init__"],["ValidationError.__init__","MockField.__init__"],["ElasticsearchError.__init__","ExtractionService.__init__"],["call_tool","_search_documents"],["ClaudeError.__init__","ReductoService.__init__"],["ValidationError.__init__","SettingsService.__init__"],["ReductoError.__init__","MockTemplate.__init__"],["ResourceNotFoundError.__init__","NotFoundError.__init__"],["PaperbaseException.__init__","FieldNormalizer.__init__"],["PermissionService.create_share_link","require_document_access"],["ValidationError.__init__","FieldExtractionService.__init__"],["ElasticsearchService.index_document","ElasticsearchService._build_canonical_fields"],["NotFoundError.__init__","PermissionService.__init__"],["ReductoService.extract_structured","ReductoService.upload_file"],["ExtractionValidator._create_validation_model","_get_pydantic_type"],["ReductoError.__init__","SettingsService.__init__"],["ExportService.export_by_template","ExportService.export_to_excel"],["get_field_insights","_format_insights_summary"],["ExternalServiceError.__init__","QueryOptimizerLegacy.__init__"],["check_dependencies","print_info"],["AnswerCache.set","_generate_cache_key"],["ExternalServiceError.__init__","MockDocument.__init__"],["PaperbaseException.__init__","ValidationError.__init__"],["ProcessingError.__init__","ReductoService.__init__"],["check_dependencies","print_success"],["ExternalServiceError.__init__","ReductoValidationWarning.__init__"],["search_in_folder","search_in_folder"],["get_folder_stats","FolderService.get_folder_stats"],["PermissionService.revoke_share_link","PermissionService.require_document_access"],["PermissionDeniedError.__init__","PermissionService.__init__"],["NotFoundError.__init__","ElasticsearchError.__init__"],["ClaudeError.__init__","FileService.__init__"],["analyze_template_compatibility","analyze_template_compatibility"],["get_current_user","verify_api_key"],["NotFoundError.__init__","PaperbaseException.__init__"],["ReductoError.__init__","CacheService.__init__"],["get_dashboard_stats","get_dashboard_stats"],["ReductoService.parse_document","_extract_confidence_scores"],["FileUploadError.__init__","ConfigurationError.__init__"],["ValidationError.__init__","ClaudeService.__init__"],["ResourceNotFoundError.__init__","ElasticsearchService.__init__"],["NotFoundError.__init__","MockTemplate.__init__"],["get_setting","get_setting"],["PermissionDeniedError.__init__","ElasticsearchError.__init__"],["batch_extract","batch_extract"],["revoke_share_link","revoke_share_link"],["SchemaError.__init__","ValidationError.__init__"],["PaperbaseException.__init__","PermissionDeniedError.__init__"],["PermissionDeniedError.__init__","PaperbaseException.__init__"],["ExtractionValidator.validate_extraction","ExtractionValidator._validate_with_dynamic_model"],["ProcessingError.__init__","FileService.__init__"],["SchemaRegistry.get_all_templates_context","SchemaRegistry.get_field_context"],["NotFoundError.__init__","SettingsService.__init__"],["NotFoundError.__init__","MockField.__init__"],["ReductoService.extract_field_from_chunks","_extract_value_after_hint"],["get_audit_queue","get_audit_queue"],["NotFoundError.__init__","FieldExtractionService.__init__"],["ExportService.export_multi_template_separated","ExportService._create_array_of_objects_sheet"],["PermissionService.create_share_link","PermissionService.require_document_access"],["SchemaRegistry.get_field_context","_get_standard_field_type"],["main","get_claude_config_path"],["ExportService.export_multi_template_separated","ExportService._create_table_sheet"],["PermissionService.check_folder_access","PermissionService.check_permission"],["main","test_mcp_server"],["ElasticsearchMCPService.get_document","DatabaseService.get_document"],["ElasticsearchMCPService.search_with_context","_get_available_fields"],["PermissionService.check_document_access","PermissionService.check_permission"],["require_permission","PermissionService.require_permission"],["PermissionDeniedError.__init__","MockField.__init__"],["SchemaError.__init__","PermissionDeniedError.__init__"],["PermissionDeniedError.__init__","FieldExtractionService.__init__"],["QueryOptimizer.understand_query_intent","_extract_date_filters"],["FileUploadError.__init__","ElasticsearchMCPService.__init__"],["FileService.upload_multiple","ReductoService.upload_file"],["ReductoError.__init__","ExtractionService.__init__"],["NotFoundError.__init__","ClaudeService.__init__"],["validate_schema_for_reducto","ReductoValidationWarning.to_dict"],["PaperbaseException.__init__","PermissionService.__init__"],["QueryFieldExtractor._extract_fields_recursive","_extract_fields_recursive"],["ValidationError.__init__","AnswerCache.__init__"],["ExportService.export_to_excel","ExportService._create_table_sheet"],["main","run_health_check"],["ConfigurationError.__init__","QueryOptimizer.__init__"],["ClaudeError.__init__","SchemaError.__init__"],["test_create_array_of_objects_sheet","create_test_documents"],["ValidationError.__init__","ExternalServiceError.__init__"],["FileUploadError.__init__","ClaudeError.__init__"],["AnswerCache.set","AnswerCache._evict_oldest"],["PermissionDeniedError.__init__","ClaudeService.__init__"],["ElasticsearchError.__init__","QueryOptimizer.__init__"],["ConfigurationError.__init__","FileService.__init__"],["ResourceNotFoundError.__init__","ReductoError.__init__"],["ElasticsearchService.search","ElasticsearchService.search"],["PaperbaseException.__init__","ElasticsearchError.__init__"],["ExternalServiceError.__init__","ReductoService.__init__"],["validate_schema_for_reducto","validate_field_description"],["ReductoError.__init__","ExternalServiceError.__init__"],["PaperbaseException.__init__","PaperbaseException.__init__"],["test_citations","ReductoService.upload_file"]],"d":{},"deps":{"app/models/background_job.py":["sqlalchemy","sqlalchemy.sql","app.core.database","datetime"],"app/services/field_extraction_service.py":["asyncio","logging","typing","sqlalchemy.orm","datetime","app.models.background_job","app.models.document","app.models.verification","app.services.claude_service","app.services.elastic_service","app.core.database"],"mcp_server/tools/aggregations.py":["typing","httpx","logging"],"migrations/add_background_jobs_table.py":["sys","os","sqlalchemy","app.core.database","app.models.background_job","logging","app.core.database","argparse"],"app/api/aggregations.py":["fastapi","pydantic","typing","app.services.elastic_service","app.core.database","sqlalchemy.orm","logging"],"app/api/analytics.py":["fastapi","sqlalchemy.orm","sqlalchemy","app.core.database","app.models.document","app.models.schema","app.models.verification","datetime","logging"],"app/api/audit.py":["fastapi","sqlalchemy.orm","sqlalchemy","typing","app.core.database","app.core.config","app.models.document","app.models.verification","app.services.elastic_service","app.services.settings_service","app.services.claude_service","app.utils.bbox_utils","datetime","pydantic","logging"],"app/api/auth.py":["fastapi","sqlalchemy.orm","pydantic","typing","datetime","app.core.database","app.core.auth","app.models.settings","app.models.permissions"],"app/api/bulk_upload.py":["fastapi","sqlalchemy.orm","typing","pydantic","app.core.database","app.core.config","app.models.document","app.models.physical_file","app.models.schema","app.models.template","app.services.reducto_service","app.services.claude_service","app.services.elastic_service","app.services.file_service","app.utils.file_organization","app.utils.template_matching","app.utils.hashing","app.utils.reducto_validation","logging","os","datetime","collections","app.utils.template_matching","app.utils.file_organization","app.utils.hashing","app.utils.file_organization","app.utils.hashing","app.api.documents","app.utils.file_organization","app.utils.hashing","app.api.documents","app.utils.template_matching","app.models.verification","app.services.elastic_service"],"app/api/documents.py":["fastapi","sqlalchemy.orm","typing","app.core.database","app.core.config","app.models.schema","app.models.template","app.models.document","app.services.reducto_service","app.services.elastic_service","app.utils.bbox_utils","logging","os","datetime","app.core.database","app.services.validation_service","app.services.validation_service","traceback","app.models.query_history","app.models.physical_file","traceback","app.models.settings"],"app/api/export.py":["fastapi","fastapi.responses","sqlalchemy.orm","typing","datetime","pydantic","io","logging","app.core.database","app.services.export_service","app.models.template","app.models.document","sqlalchemy"],"app/api/extractions.py":["typing","fastapi","sqlalchemy.orm","pydantic","app.core.database","app.services.file_service","app.services.extraction_service","app.models.physical_file","app.models.extraction","logging"],"app/api/files.py":["fastapi","fastapi.responses","sqlalchemy.orm","app.core.database","app.models.document","pathlib","os","logging"],"app/api/folders.py":["typing","fastapi","sqlalchemy.orm","pydantic","app.core.database","app.services.folder_service","logging"],"app/api/mcp_search.py":["fastapi","pydantic","typing","app.services.elastic_service","app.services.claude_service","app.services.query_optimizer","app.core.database","app.utils.query_field_extractor","sqlalchemy.orm","logging","app.services.schema_registry","app.core.database","app.core.database","app.services.schema_registry","app.core.database","app.models.schema","app.core.database","app.services.schema_registry"],"app/api/nl_query.py":["fastapi","sqlalchemy.orm","typing","pydantic","datetime","logging","json","hashlib","app.core.database","app.services.claude_service","app.services.elastic_service","app.services.schema_registry","app.models.schema","app.models.extraction","app.models.query_pattern","sqlalchemy"],"app/api/onboarding.py":["fastapi","sqlalchemy.orm","typing","pydantic","app.core.database","app.models.schema","app.services.reducto_service","app.services.claude_service","app.services.elastic_service","app.utils.reducto_validation","logging","os","tempfile","datetime","app.models.document","app.models.document","app.api.documents","app.models.document","app.models.document","app.services.field_extraction_service","app.services.field_extraction_service","app.services.field_extraction_service"],"app/api/query_suggestions.py":["fastapi","typing","sqlalchemy.orm","app.core.database","app.models.schema","app.services.elastic_service","logging"],"app/api/rematch.py":["fastapi","sqlalchemy.orm","sqlalchemy","typing","app.core.database","app.models.document","app.models.template","app.services.elastic_service","app.services.claude_service","app.utils.template_matching","logging"],"app/api/roles.py":["fastapi","sqlalchemy.orm","typing","pydantic","datetime","logging","app.core.database","app.core.auth","app.models.permissions","app.models.settings","app.services.permission_service","app.core.exceptions","app.models.permissions","sqlalchemy","app.models.permissions","app.models.permissions","app.models.permissions"],"app/api/search.py":["fastapi","typing","pydantic","app.services.elastic_service","app.services.claude_service","app.services.query_optimizer","app.services.answer_cache","app.core.database","app.models.schema","app.utils.query_field_extractor","sqlalchemy.orm","logging","app.services.schema_registry","app.models.query_pattern","hashlib","datetime","app.utils.audit_helpers","app.models.query_history","app.core.config","app.utils.audit_helpers","app.models.query_history","app.core.config","app.models.template","app.models.template"],"app/api/settings.py":["fastapi","sqlalchemy.orm","app.core.database","app.services.settings_service","app.models.settings","pydantic","typing","logging"],"app/api/sharing.py":["fastapi","sqlalchemy.orm","typing","pydantic","datetime","logging","app.core.database","app.core.auth","app.models.document","app.models.permissions","app.models.settings","app.services.permission_service","app.core.exceptions","app.core.config","app.models.permissions","app.models.permissions"],"app/api/templates.py":["fastapi","sqlalchemy.orm","app.core.database","app.models.template","app.models.schema","app.data.templates","logging"],"app/api/users.py":["fastapi","sqlalchemy.orm","typing","pydantic","datetime","logging","app.core.database","app.core.auth","app.models.settings","app.models.permissions","app.services.permission_service","app.core.exceptions","passlib.hash","app.models.permissions","datetime"],"app/api/verification.py":["fastapi","sqlalchemy.orm","sqlalchemy","typing","app.core.database","app.core.config","app.models.document","app.models.verification","app.services.elastic_service","datetime","uuid","logging"],"app/core/auth.py":["datetime","typing","secrets","jwt","passlib.context","fastapi","fastapi.security","sqlalchemy.orm","app.core.config","app.core.database","app.models.settings","app.models.permissions"],"app/core/config.py":["pydantic_settings","typing","secrets"],"app/core/database.py":["sqlalchemy","sqlalchemy.ext.declarative","sqlalchemy.orm","app.core.config"],"app/core/error_handlers.py":["fastapi","fastapi.responses","fastapi.exceptions","starlette.exceptions","logging","typing"],"app/main.py":["fastapi","fastapi.middleware.cors","app.core.config","app.core.database","app.core.error_handlers","app.api","logging","app.services.elastic_service","app.core.database","app.services.settings_service","app.services.permission_service","app.api.templates","app.mcp"],"app/mcp/server.py":["mcp.server","mcp.types","typing","logging","json","app.services.elastic_service","app.services.elastic_service","app.core.database","app.models.document","app.core.database","app.models.verification","app.models.document","datetime","app.core.database","app.models.template","app.services.elastic_service","app.core.database","app.models.document","app.core.database","app.models.template","asyncio","mcp.server.stdio"],"app/migrations/migrate_settings.py":["sys","pathlib","sqlalchemy.orm","app.core.database","app.models.settings","logging","argparse"],"app/migrations/migrate_to_extractions.py":["sys","pathlib","sqlalchemy.orm","datetime","app.core.database","app.models.document","app.models.physical_file","app.models.extraction","app.models.batch","app.utils.hashing","logging","app.models.schema","app.models.template","app.models.template","argparse","traceback"],"app/models/batch.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database"],"app/models/document.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database"],"app/models/extraction.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database"],"app/models/extraction_schemas.py":["app.models.extraction_schemas","pydantic","typing","datetime","decimal","logging"],"app/models/permissions.py":["sqlalchemy","sqlalchemy.orm","datetime","typing","enum","app.core.database"],"app/models/physical_file.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database"],"app/models/query_history.py":["sqlalchemy","sqlalchemy.sql","datetime","app.core.database","uuid"],"app/models/query_pattern.py":["sqlalchemy","datetime","app.core.database"],"app/models/query_validation.py":["sqlalchemy","datetime","app.core.database"],"app/models/schema.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database"],"app/models/settings.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database","typing"],"app/models/template.py":["sqlalchemy","sqlalchemy.sql","app.core.database"],"app/models/verification.py":["sqlalchemy","sqlalchemy.orm","datetime","app.core.database"],"app/services/answer_cache.py":["hashlib","logging","datetime","typing"],"app/services/claude_service.py":["anthropic","typing","datetime","calendar","app.core.config","app.core.exceptions","json","logging","traceback","datetime","calendar","re"],"app/services/elastic_service.py":["elasticsearch","typing","app.core.config","datetime","logging","datetime"],"app/services/export_service.py":["typing","datetime","pandas","io","json","sqlalchemy.orm","sqlalchemy","app.models.document","app.models.template","app.models.schema","logging"],"app/services/extraction_service.py":["datetime","typing","sqlalchemy.orm","app.models.physical_file","app.models.extraction","app.models.template","app.models.schema","app.models.document","app.services.reducto_service","app.services.elastic_service","app.services.settings_service","app.services.validation_service","app.core.exceptions","logging","app.models.batch","sqlalchemy"],"app/services/field_normalizer.py":["typing","sqlalchemy.orm","logging"],"app/services/file_service.py":["os","typing","fastapi","sqlalchemy.orm","app.models.physical_file","app.utils.hashing","app.core.config","app.core.exceptions","logging","sqlalchemy","app.models.extraction"],"app/services/folder_service.py":["typing","sqlalchemy.orm","sqlalchemy","app.models.extraction","app.models.physical_file","app.models.template","logging","datetime"],"app/services/permission_service.py":["sqlalchemy.orm","sqlalchemy","typing","datetime","logging","secrets","app.models.permissions","app.models.settings","app.models.document","app.core.exceptions","passlib.hash","json"],"app/services/query_optimizer.py":["typing","datetime","re","logging"],"app/services/reducto_service.py":["reducto","typing","app.core.config","app.core.exceptions","logging","os","asyncio"],"app/services/schema_registry.py":["sqlalchemy.orm","typing","app.models.schema","app.models.template","logging"],"app/services/settings_service.py":["sqlalchemy.orm","app.models.settings","typing","json","logging"],"app/services/validation_service.py":["typing","datetime","decimal","dataclasses","logging","re","pydantic","pydantic_core","sqlalchemy.orm","app.models.extraction_schemas"],"app/utils/audit_helpers.py":["typing","sqlalchemy.orm","sqlalchemy","app.models.document","app.services.settings_service","logging"],"app/utils/bbox_utils.py":["typing"],"app/utils/file_organization.py":["os","shutil","pathlib","typing","app.core.config","logging","datetime","datetime"],"app/utils/hashing.py":["hashlib","typing"],"app/utils/query_field_extractor.py":["typing","logging"],"app/utils/reducto_validation.py":["re","logging","typing"],"app/utils/template_matching.py":["typing","sqlalchemy.orm","app.models.document","app.services.elastic_service","app.services.claude_service","app.services.settings_service","logging","re"],"diagnose_frontend.js":["puppeteer"],"fix_document_75.py":["asyncio","sys","json","sqlalchemy","sqlalchemy.orm","app.models.document","app.models.physical_file","app.models.schema","app.services.reducto_service","app.services.elastic_service","app.core.config","json","traceback"],"mcp_server/__main__.py":["sys","logging","pathlib","mcp_server.config","mcp_server.setup","mcp_server.health_check","mcp_server.server"],"mcp_server/config.py":["pydantic_settings","typing","os"],"mcp_server/health_check.py":["sys","pathlib","fastmcp","cachetools","mcp","mcp_server.services.db_service","sqlalchemy","asyncio","mcp_server.services.es_service","asyncio","mcp_server.server","mcp_server.config","mcp_server.services.db_service","app.models.schema","sqlalchemy","asyncio","json","pathlib"],"mcp_server/prompts/analysis.py":["typing","logging","mcp_server.services.db_service"],"mcp_server/resources/documents.py":["typing","logging","mcp_server.services.db_service"],"mcp_server/resources/stats.py":["typing","logging","mcp_server.services.db_service","mcp_server.services.es_service","mcp_server.services.cache_service"],"mcp_server/resources/templates.py":["typing","logging","mcp_server.services.db_service"],"mcp_server/server.py":["fastmcp","typing","logging","mcp_server.config","mcp_server.tools","mcp_server.resources","mcp_server.resources","mcp_server.resources","mcp_server.prompts","json","json","json","json","json","json"],"mcp_server/services/cache_service.py":["cachetools","typing","datetime","hashlib","json","logging","functools","mcp_server.config"],"mcp_server/services/db_service.py":["sqlalchemy","sqlalchemy.orm","sqlalchemy.ext.asyncio","typing","datetime","logging","app.core.database","app.models.document","app.models.schema","app.models.verification","mcp_server.config","mcp_server.services.cache_service","mcp_server.config"],"mcp_server/services/es_service.py":["elasticsearch","typing","datetime","logging","json","app.services.elastic_service","app.services.query_optimizer","mcp_server.config","mcp_server.services.cache_service","re","re"],"mcp_server/setup.py":["json","os","sys","shutil","pathlib","typing","fastmcp","cachetools","mcp","shutil","requests","mcp_server.server","mcp_server.config","traceback"],"mcp_server/tools/ai_search.py":["typing","httpx","logging","re"],"mcp_server/tools/analytics.py":["typing","datetime","logging","mcp_server.services.db_service","sqlalchemy","app.models.document"],"mcp_server/tools/audit.py":["typing","logging","mcp_server.services.db_service","mcp_server.config"],"mcp_server/tools/documents.py":["typing","datetime","logging","mcp_server.services.db_service","mcp_server.services.es_service","datetime"],"mcp_server/tools/templates.py":["typing","logging","mcp_server.services.db_service"],"migrations/add_complex_data_support.py":["sqlite3","os","datetime","sys"],"migrations/add_pipeline_fields.py":["sys","pathlib","sqlalchemy","app.core.database","sys"],"migrations/add_query_history.py":["sys","os","pathlib","sqlalchemy","app.core.config","logging","traceback"],"migrations/add_semantic_search_fields.py":["sqlite3","os","datetime","sys"],"migrations/add_validation_metadata.py":["sqlalchemy","sqlalchemy.sql","datetime","sys","app.core.database","sqlalchemy","sqlalchemy"],"migrations/link_documents_to_physical_files.py":["os","sys","argparse","pathlib","sqlalchemy.orm","app.core.database","app.models.document","app.models.physical_file","app.utils.hashing","logging"],"scripts/generate_test_data.py":["sys","os","app.core.database","app.models.document","app.models.schema","datetime","traceback"],"test_aggregation_fix.py":["asyncio","sys","os","app.services.claude_service","app.services.elastic_service","app.core.database","sqlalchemy.orm","app.services.answer_cache","app.utils.audit_helpers"],"test_askai_integration.py":["requests","json","typing"],"test_bbox_conversion.py":["sys","app.utils.bbox_utils"],"test_export_validation.py":["sys","json","io","pandas","openpyxl","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","traceback"],"test_mcp_api_responses.py":["requests","json","datetime","traceback"],"test_mcp_structured_urls.py":["asyncio","sys","pathlib","mcp_server.tools.audit","mcp_server.config","datetime","traceback","traceback"],"test_prompt_caching.py":["asyncio","time","datetime","app.services.claude_service","app.core.config"],"test_reducto_citations.py":["asyncio","json","reducto","app.core.config"],"test_reducto_debug.py":["asyncio","json","reducto","app.core.config"],"test_reducto_integration.py":["sys","os","app.utils.reducto_validation","app.data.templates","app.services.claude_service","inspect","app.utils.reducto_validation","app.utils.reducto_validation","traceback"],"test_reducto_simple.py":["asyncio","json","app.services.reducto_service"],"test_reducto_validation.py":["sys","os","app.utils.reducto_validation","traceback"],"test_search_mock.py":["fastapi","fastapi.middleware.cors","pydantic","typing","uvicorn"],"tests/conftest.py":["pytest","fastapi.testclient","sqlalchemy","sqlalchemy.orm","app.core.database","app.main"],"tests/test_analytics.py":["pytest","datetime","app.models.document","app.models.schema","app.models.verification"],"tests/test_audit_helpers.py":["pytest","sqlalchemy.orm","app.utils.audit_helpers","app.models.document","app.models.schema","app.models.settings"],"tests/test_claude_service.py":["pytest","json","unittest.mock","app.services.claude_service","app.core.exceptions"],"tests/test_field_validation.py":["pytest","sys","os","app.api.bulk_upload"],"tests/test_mcp_audit_integration.py":["pytest","fastapi.testclient","sqlalchemy.orm","app.main","app.models.document","app.models.schema"],"tests/test_query_field_extraction.py":["pytest","app.utils.query_field_extractor"],"tests/test_reducto_service.py":["pytest","unittest.mock","app.services.reducto_service","app.core.exceptions"],"tests/test_template_creation_integration.py":["pytest","httpx","asyncio","sqlalchemy.orm","app.main","app.core.database","app.models.schema","app.models.document","app.models.physical_file","requests"],"tests/test_validation_service.py":["pytest","datetime","app.services.validation_service"],"validate_builtin_templates.py":["sys","os","app.data.templates","app.utils.reducto_validation","traceback"]},"dir_purposes":{"app/models":"Data models and database schemas","app/services":"Business logic and external service integrations","migrations":"Database migration files","app/api":"API endpoints and route handlers","app/migrations":"Database migration files","app/utils":"Shared utility functions and helpers","mcp_server/services":"Business logic and external service integrations","scripts":"Build and utility scripts","tests":"Test files and test utilities"},"staleness":1762220344.625585}