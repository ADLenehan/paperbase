{"at":"2025-11-20T21:21:25.101240","root":".","tree":[".","\u251c\u2500\u2500 app/ (90 files)","\u2502   \u251c\u2500\u2500 api/ (27 files)","\u2502   \u251c\u2500\u2500 core/ (6 files)","\u2502   \u251c\u2500\u2500 data/ (1 files)","\u2502   \u251c\u2500\u2500 fonts/","\u2502   \u251c\u2500\u2500 mcp/ (2 files)","\u2502   \u251c\u2500\u2500 migrations/ (2 files)","\u2502   \u251c\u2500\u2500 models/ (17 files)","\u2502   \u251c\u2500\u2500 services/ (24 files)","\u2502   \u2514\u2500\u2500 utils/ (9 files)","\u251c\u2500\u2500 htmlcov/ (93 files)","\u251c\u2500\u2500 mcp_server/ (23 files)","\u2502   \u251c\u2500\u2500 prompts/ (2 files)","\u2502   \u251c\u2500\u2500 resources/ (4 files)","\u2502   \u251c\u2500\u2500 services/ (4 files)","\u2502   \u251c\u2500\u2500 tools/ (7 files)","\u2502   \u2514\u2500\u2500 setup.py","\u251c\u2500\u2500 migrations/ (15 files)","\u251c\u2500\u2500 scripts/ (2 files)"],"stats":{"total_files":167,"total_directories":18,"fully_parsed":{"python":159,"javascript":1},"listed_only":{"sql":4,"json":1,"shell":2},"markdown_files":0},"f":{"app/api/canonical_fields.py":["p",["list_canonical_fields:80:async (include_system:bool = True, include_user:bool = True, db:Session = Depends(get_db), current_user:User = Depends(get_current_user))::","get_canonical_field:118:async (canonical_name:str, db:Session = Depends(get_db), current_user:User = Depends(get_current_user))::","create_canonical_field:151:async (data:CanonicalFieldCreate, db:Session = Depends(get_db), current_user:User = Depends(get_current_user))::","update_canonical_field:196:async (canonical_name:str, data:CanonicalFieldUpdate, db:Session = Depends(get_db), current_user:User = Depends(get_current_user))::","delete_canonical_field:240:async (canonical_name:str, db:Session = Depends(get_db), current_user:User = Depends(get_current_user))::","add_alias:264:async (canonical_name:str, data:AliasCreate, db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):add_alias:","remove_alias:293:async (canonical_name:str, alias:str, db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):remove_alias:","refresh_cache:316:async (db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):refresh_cache:","resolve_canonical_field:337:async (canonical_name:str, template_name:Optional[str] = None, db:Session = Depends(get_db), current_user:User = Depends(get_current_user))::"],{"CanonicalFieldCreate":["23",[]],"CanonicalFieldUpdate":["45",[]],"AliasCreate":["52",[]],"CanonicalFieldResponse":["57",[]]}],"app/api/comparisons.py":["p",["compare_periods:101:async (request:ComparePeriodsRequest, db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):compare_periods:","compare_groups:137:async (request:CompareGroupsRequest, db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):compare_groups:","get_trend:171:async (request:TrendRequest, db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):get_trend:","quick_comparison:208:async (comparison_type:str, field:str, aggregation_type:str = \"sum\", db:Session = Depends(get_db), current_user:User = Depends(get_current_user)):compare_periods:"],{"PeriodRange":["22",[]],"ComparePeriodsRequest":["31",[]],"CompareGroupsRequest":["54",[]],"TrendRequest":["73",[]]}],"app/models/canonical_mapping.py":["p",{"CanonicalFieldMapping":["14",["get_field_for_template:55:(self, template_name:str)>str | None::Get the mapped field name for a specific template.","get_all_fields:59:(self)>list[str]::Get all field names across all templates.","get_templates:63:(self)>list[str]::Get all template names in this mapping."]],"CanonicalAlias":["68",[]]}],"app/services/canonical_field_service.py":["p",{"CanonicalFieldService":["19",["__init__:22:(self, db:Session):_load_cache:","_load_cache:28:(self)::Load canonical mappings and aliases into memory cache.","resolve_canonical_name:57:(self, name_or_alias:str)>Optional[str]::","get_mapping:77:(self, canonical_name:str)>Optional[CanonicalFieldMapping]::","expand_field_for_template:89:(self, canonical_name:str, template_name:str)>Optional[str]:get_mapping:","expand_field_all_templates:106:(self, canonical_name:str)>Dict[str, str]:get_mapping:","get_all_fields_for_canonical:122:(self, canonical_name:str)>List[str]:get_mapping:","get_aggregation_type:138:(self, canonical_name:str)>Optional[str]:get_mapping:","is_canonical_field:154:(self, name:str)>bool::","create_mapping:173:(self, canonical_name:str, field_mappings:Dict[str, str], aggregation_type:str, description:Optional[str] = None, created_by:Optional[int] = None)>CanonicalFieldMapping::","update_mapping:225:(self, canonical_name:str, field_mappings:Optional[Dict[str, str]] = None, description:Optional[str] = None, aggregation_type:Optional[str] = None)>CanonicalFieldMapping::","delete_mapping:271:(self, canonical_name:str)>None::","add_alias:301:(self, canonical_name:str, alias:str)>CanonicalAlias::","remove_alias:348:(self, alias:str)>None::","list_mappings:379:(self, include_system:bool = True, include_user:bool = True)>List[CanonicalFieldMapping]::","get_aliases_for_canonical:402:(self, canonical_name:str)>List[str]::","refresh_cache:426:(self):_load_cache:Refresh the in-memory cache from database."]]}],"app/services/comparison_service.py":["p",{"ComparisonService":["20",["__init__:23:(self, db:Session)::","compare_periods:36:async (self, field:str, agg_type:str, period1:Dict[str, str], period2:Dict[str, str], filters:Optional[Dict[str, Any]] = None, period1_name:Optional[str] = None, period2_name:Optional[str] = None)>Dict[str, Any]:_format_period_name,_merge_filters:","compare_groups:140:async (self, field:str, agg_type:str, group_field:str, groups:List[str], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_merge_filters:","_merge_filters:242:(self, base_filters:Optional[Dict[str, Any]], additional_filters:Dict[str, Any])>Dict[str, Any]::Merge two filter dictionaries.","_format_period_name:251:(self, period:Dict[str, str])>str:_is_month,_is_quarter,_is_year:Generate human-readable period name from date range.","_is_quarter:282:(self, from_dt:datetime, to_dt:datetime)>bool::Check if date range represents a full quarter.","_is_month:299:(self, from_dt:datetime, to_dt:datetime)>bool::Check if date range represents a full month.","_is_year:307:(self, from_dt:datetime, to_dt:datetime)>bool::Check if date range represents a full year.","get_trend:323:async (self, field:str, agg_type:str, interval:str = \"month\", start_date:Optional[str] = None, end_date:Optional[str] = None, filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]::"]]}],"app/services/postgres_service_enhanced.py":["p",{"PostgresServiceEnhanced":["23",["__init__:34:(self, db:Session)::","create_index:41:async (self, schema:Dict[str, Any])>None::","index_document:57:async (self, document_id:int, filename:str, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], full_text:str = \"\", schema:Optional[Dict[str, Any]] = None, field_metadata:Optional[Dict[str, Any]] = None)>int:_build_canonical_fields:","_build_canonical_fields:159:(self, extracted_fields:Dict[str, Any], field_metadata:Dict[str, Any])>Dict[str, Any]::Build comprehensive canonical field mapping for cross-template queries.","search:202:async (self, query:Optional[str] = None, filters:Optional[Dict[str, Any]] = None, min_confidence:Optional[float] = None, custom_query:Optional[Dict[str, Any]] = None, page:int = 1, size:int = 10, use_weighted_tsv:bool = True # NEW:Use weighted tsvector by default)>Dict[str, Any]:_apply_custom_query:","_apply_custom_query:343:(self, stmt, custom_query:Dict[str, Any])>Tuple[Any, Optional[str]]:_apply_sql_conditions,_translate_es_query:","_apply_sql_conditions:358:(self, stmt, sql_conditions:Dict[str, Any])>Any::Apply SQL conditions from Claude's SQL generation.","_translate_es_query:375:(self, stmt, es_query:Dict[str, Any])>Tuple[Any, Optional[str]]:_translate_es_clause:","_translate_es_clause:414:(self, stmt, clause:Dict[str, Any])>Tuple[Any, Optional[str]]:_apply_field_boosting:","_apply_field_boosting:510:(self, stmt, query_text:str, fields:List[str])>Tuple[Any, str]::","get_aggregations:594:async (self, field:Optional[str] = None, agg_type:str = \"stats\", filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]::Get aggregations on a field (unchanged from original)","get_index_stats:600:async (self)>Dict[str, Any]::Get index statistics (unchanged from original)"]]}],"app/services/postgres_service_original.py":["p",{"PostgresService":["18",["__init__:24:(self, db:Session)::","create_index:27:async (self, schema:Dict[str, Any])>None::","index_document:44:async (self, document_id:int, filename:str, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], full_text:str = \"\", schema:Optional[Dict[str, Any]] = None, field_metadata:Optional[Dict[str, Any]] = None)>int:_build_canonical_fields:","_build_canonical_fields:160:(self, extracted_fields:Dict[str, Any], field_metadata:Dict[str, Any])>Dict[str, Any]::","search:204:async (self, query:Optional[str] = None, filters:Optional[Dict[str, Any]] = None, min_confidence:Optional[float] = None, custom_query:Optional[Dict[str, Any]] = None, page:int = 1, size:int = 10)>Dict[str, Any]:_apply_custom_query:","_apply_custom_query:289:(self, stmt, custom_query:Dict[str, Any]):_apply_sql_conditions,_translate_es_query:","_apply_sql_conditions:311:(self, stmt, sql_conditions:Dict[str, Any])::","_translate_es_query:333:(self, stmt, es_query:Dict[str, Any]):_translate_es_clause:","_translate_es_clause:366:(self, stmt, clause:Dict[str, Any])::Translate a single ES clause to SQLAlchemy","get_document:449:async (self, document_id:int)>Optional[Dict[str, Any]]::Get document by ID","update_document:483:async (self, document_id:int, updated_fields:Dict[str, Any])>None::Update document fields (e.g., after verification)","delete_document:502:async (self, document_id:int)>None::Delete a document from search index","get_aggregations:521:async (self, field:str = None, agg_type:str = \"terms\", agg_config:Optional[Dict[str, Any]] = None, filters:Optional[Dict[str, Any]] = None, custom_aggs:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_apply_filters:","_apply_filters:612:(self, stmt, filters:Dict[str, Any])::Apply filters to query","get_multi_aggregations:637:async (self, aggregations:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:get_aggregations:","get_nested_aggregations:679:async (self, parent_agg:Dict[str, Any], sub_aggs:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:get_aggregations:","health_check:699:async (self)>bool::Check PostgreSQL connection","close:708:async (self):close:Close database connection","optimize_for_bulk_indexing:712:async (self, enable:bool = True)::","refresh_index:722:async (self)::","get_index_stats:733:async (self)>Dict[str, Any]::","create_template_signatures_index:757:async (self)>None::","index_template_signature:771:async (self, template_id:int, template_name:str, field_names:List[str], sample_text:str = \"\", category:str = \"general\")>int::","cluster_uploaded_documents:819:async (self, documents:List[Any], similarity_threshold:float = 0.75)>List[Dict[str, Any]]:_calculate_text_similarity:","_calculate_text_similarity:897:(self, text1:str, text2:str)>float::","find_similar_templates:922:async (self, document_text:str, document_fields:List[str], min_score:float = 0.4)>List[Dict[str, Any]]::"]]}],"app/services/query_expansion_service.py":["p",["get_query_expander:245:()>QueryExpansionService::Get singleton instance of QueryExpansionService."],{"QueryExpansionService":["16",["__init__:71:(self)::","expand_query:80:(self, query:str, max_expansions:int = 3)>str:_find_synonyms,_tokenize:","expand_simple:121:(self, query:str)>str:_find_synonyms,_tokenize:","_tokenize:144:(self, text:str)>List[str]::Tokenize text into words.","_find_synonyms:151:(self, word:str, max_count:int = 3)>List[str]::","suggest_corrections:182:(self, query:str, available_terms:List[str], threshold:float = 0.6)>Optional[str]::","expand_with_llm:205:async (self, query:str, claude_service, num_variations:int = 3)>List[str]::"]]}],"fix_document_indexing.py":["p",["fix_document_indexing:30:()::Fix document indexing issues."]],"migrations/add_canonical_field_mappings.py":["p",["run_migration:15:()::Run the canonical field mappings migration"]],"app/api/aggregations.py":["p",["get_single_aggregation:52:async (request:AggregationRequest)::","get_multi_aggregations:87:async (request:MultiAggregationRequest):get_multi_aggregations:","get_nested_aggregations:126:async (request:NestedAggregationRequest):get_nested_aggregations:","get_dashboard_aggregations:166:async ():get_multi_aggregations:","get_field_insights:233:async (field:str)::","execute_custom_aggregation:299:async (custom_query:Dict[str, Any])::","get_preset_aggregation:358:async (preset_name:str, filters:Optional[Dict[str, Any]] = None):get_multi_aggregations:"],{"AggregationRequest":["20",[]],"MultiAggregationRequest":["29",[]],"NestedAggregationRequest":["38",[]]}],"app/api/analytics.py":["p",["get_dashboard_metrics:18:async (db:Session = Depends(get_db))::Get dashboard metrics","get_schema_stats:100:async (db:Session = Depends(get_db))::Get statistics for each schema","get_trends:135:async (days:int = 7, db:Session = Depends(get_db))::Get processing trends over time"]],"app/api/audit.py":["p",["get_audit_queue:70:async (template_id:Optional[int] = Query(None, description=\"Filter by template ID\"), priority:Optional[str] = Query(None, description=\"Filter by priority:critical, high, medium, low\"), min_confidence:float = Query(0.0, ge=0.0, le=1.0), max_confidence:Optional[float] = Query(None, ge=0.0, le=1.0, description=\"Max confidence threshold (uses settings default if not provided)\"), include_validation_errors:bool = Query(True, description=\"Include fields with validation errors\"), page:int = Query(1, ge=1), size:int = Query(20, ge=1, le=100), count_only:bool = Query(False, description=\"Return only count\"), db:Session = Depends(get_db))::","get_document_audit_fields:200:async (document_id:int, max_confidence:Optional[float] = Query(None, ge=0.0, le=1.0, description=\"Max confidence threshold (uses settings default if not provided)\"), db:Session = Depends(get_db))::","verify_field:265:async (request:VerifyFieldRequest, db:Session = Depends(get_db))::","verify_field_and_regenerate_answer:372:async (request:VerifyAndRegenerateRequest, db:Session = Depends(get_db))::","get_audit_stats:530:async (template_id:Optional[int] = None, db:Session = Depends(get_db))::Get audit statistics","bulk_verify_fields:613:async (request:BulkVerifyRequest, db:Session = Depends(get_db))::","bulk_verify_and_regenerate:748:async (request:BulkVerifyAndRegenerateRequest, db:Session = Depends(get_db))::"],{"AuditFieldResponse":["22",[]],"VerifyFieldRequest":["36",[]],"BulkVerifyRequest":["44",[]],"VerifyAndRegenerateRequest":["49",[]],"BulkVerifyAndRegenerateRequest":["737",[]]}],"app/api/auth.py":["p",["login:91:(credentials:LoginRequest, db:Session = Depends(get_db))::","logout:144:(current_user:User = Depends(get_current_user))::","get_current_user_info:156:(current_user:User = Depends(get_current_user))::Get current authenticated user information","change_password:174:(request:ChangePasswordRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::Change current user's password","create_user_api_key:213:(request:CreateAPIKeyRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","list_user_api_keys:257:(current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::List all API keys for the current user","revoke_api_key:281:(key_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","create_api_key_for_user:318:(user_id:int, request:CreateAPIKeyRequest, current_user:User = Depends(get_current_active_admin), db:Session = Depends(get_db))::","list_user_api_keys_admin:371:(user_id:int, current_user:User = Depends(get_current_active_admin), db:Session = Depends(get_db))::Admin: List API keys for any user"],{"LoginRequest":["39",[]],"LoginResponse":["45",[]],"ChangePasswordRequest":["52",[]],"CreateAPIKeyRequest":["58",[]],"APIKeyResponse":["64",[]],"APIKeyListItem":["73",[]]}],"app/api/bulk_upload.py":["p",["_validate_and_normalize_fields:50:(fields:List[Dict[str, Any]])>List[Dict[str, Any]]::","upload_and_analyze:139:async (files:List[UploadFile] = File(...), background_tasks:BackgroundTasks = None, auto_process:bool = False, auto_process_threshold:float = 0.85, db:Session = Depends(get_db))::","confirm_template:511:async (request:ConfirmTemplateRequest, db:Session = Depends(get_db))::","quick_analyze:614:async (request:QuickAnalyzeRequest, db:Session = Depends(get_db))::","generate_schema:679:async (request:GenerateSchemaRequest, db:Session = Depends(get_db))::","create_new_template:791:async (request:CreateTemplateRequest, db:Session = Depends(get_db)):_validate_and_normalize_fields:","bulk_verify:1083:async (verifications:List[Dict[str, Any]], db:Session = Depends(get_db))::","validate_schema:1155:async (request:ValidateSchemaRequest)::"],{"ConfirmTemplateRequest":["29",[]],"CreateTemplateRequest":["34",[]],"GenerateSchemaRequest":["40",[]],"QuickAnalyzeRequest":["46",[]],"ValidateSchemaRequest":["1148",[]]}],"app/api/documents.py":["p",["upload_documents:27:async (schema_id:int, files:List[UploadFile] = File(...), db:Session = Depends(get_db))::Upload documents for processing","process_documents:79:async (request:dict, background_tasks:BackgroundTasks, db:Session = Depends(get_db))::Process uploaded documents with Reducto extraction","process_single_document:103:async (document_id:int)::Background task to process a single document","list_documents:446:async (schema_id:Optional[int] = None, status:Optional[str] = None, query_id:Optional[str] = None, page:int = 1, size:int = 100, db:Session = Depends(get_db))::","get_document:555:async (document_id:int, db:Session = Depends(get_db))::Get document details with extractions","assign_template:621:async (document_id:int, request:dict, db:Session = Depends(get_db))::Assign a template/schema to a document with optional custom fields","delete_document:679:async (document_id:int, db:Session = Depends(get_db)):delete_document:Delete a document and its associated data","mark_document_verified:778:async (document_id:int, request:dict, db:Session = Depends(get_db))::"]],"app/api/export.py":["p",["list_exportable_templates:42:async (db:Session = Depends(get_db))::","get_export_summary:84:async (template_id:Optional[int] = Query(None), date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), db:Session = Depends(get_db)):get_export_summary:","analyze_template_compatibility:117:async (request:AnalyzeTemplatesRequest, db:Session = Depends(get_db)):analyze_template_compatibility:","export_template_csv:152:async (template_id:int, date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), confidence_min:float = Query(0.0, ge=0.0, le=1.0), verified_only:bool = Query(False), include_metadata:bool = Query(True), db:Session = Depends(get_db))::","export_template_excel:207:async (template_id:int, date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), confidence_min:float = Query(0.0, ge=0.0, le=1.0), verified_only:bool = Query(False), include_metadata:bool = Query(True), expand_complex_fields:bool = Query(True, description=\"Create separate sheets for tables/arrays\"), db:Session = Depends(get_db))::","export_template_json:267:async (template_id:int, date_from:Optional[date] = Query(None), date_to:Optional[date] = Query(None), confidence_min:float = Query(0.0, ge=0.0, le=1.0), verified_only:bool = Query(False), format_type:str = Query(\"pretty\", description=\"pretty, compact, or records (JSON Lines)\"), db:Session = Depends(get_db))::","export_custom:318:async (request:ExportRequest, format:str = Query(\"excel\", description=\"csv, excel, or json\"), db:Session = Depends(get_db)):analyze_template_compatibility:","export_documents:450:async (document_ids:str = Query(..., description=\"Comma-separated document IDs\"), format:str = Query(\"excel\", description=\"csv, excel, or json\"), include_metadata:bool = Query(True), expand_complex_fields:bool = Query(True, description=\"Create separate sheets for tables/arrays\"), db:Session = Depends(get_db))::"],{"ExportRequest":["21",[]],"AnalyzeTemplatesRequest":["36",[]]}],"app/api/extractions.py":["p",["upload_and_extract:44:async (files:List[UploadFile] = File(...), template_ids:List[int] = None, background_tasks:BackgroundTasks = None, db:Session = Depends(get_db))::","batch_extract:120:async (request:BatchExtractRequest, background_tasks:BackgroundTasks, db:Session = Depends(get_db)):batch_extract:","list_extractions:156:async (physical_file_id:int, db:Session = Depends(get_db)):list_extractions:","get_extraction_detail:204:async (extraction_id:int, db:Session = Depends(get_db))::","reprocess_extraction:252:async (extraction_id:int, request:ReprocessRequest = None, background_tasks:BackgroundTasks = None, db:Session = Depends(get_db))::","get_extraction_stats:308:async (db:Session = Depends(get_db)):get_extraction_stats:","delete_extraction:328:async (extraction_id:int, db:Session = Depends(get_db))::"],{"UploadAndExtractRequest":["24",[]],"BatchExtractRequest":["28",[]],"ReprocessRequest":["34",[]]}],"app/api/files.py":["p",["get_document_preview:20:async (document_id:int = Path(..., description=\"Document ID\"), db:Session = Depends(get_db))::","download_document:95:async (document_id:int = Path(..., description=\"Document ID\"), db:Session = Depends(get_db))::"]],"app/api/folders.py":["p",["browse_folders:33:async (path:str = \"\", db:Session = Depends(get_db))::","reorganize_files:61:async (request:ReorganizeRequest, db:Session = Depends(get_db))::","get_folder_stats:95:async (path:str = \"\", db:Session = Depends(get_db)):get_folder_stats:","search_in_folder:121:async (path:str = \"\", q:str = \"\", db:Session = Depends(get_db)):search_in_folder:","get_breadcrumbs:154:async (path:str = \"\"):get_breadcrumbs:","get_folder_tree:183:async (max_depth:int = 3, db:Session = Depends(get_db)):get_folder_tree:","get_template_folders:213:async (db:Session = Depends(get_db))::"],{"ReorganizeRequest":["20",[]],"SearchRequest":["25",[]]}],"app/api/mcp_search.py":["p",["search_documents_mcp:51:async (request:MCPSearchRequest)::","get_document_mcp:228:async (document_id:int)::","aggregate_mcp:265:async (request:MCPAggregationRequest)::","list_available_fields:310:async ()::","list_templates:372:async ()::","get_search_stats:414:async ()::","explain_query:451:async (query:str = Query(..., description=\"Natural language query to explain\"))::","get_document_content_mcp:521:async (document_id:int)::","get_document_chunks_mcp:596:async (document_id:int, chunk_size:int = Query(default=2000, ge=100, le=10000, description=\"Characters per chunk\"), page:int = Query(default=1, ge=1, description=\"Page number (1-indexed)\"), overlap:int = Query(default=200, ge=0, le=1000, description=\"Character overlap between chunks\"))::"],{"MCPSearchRequest":["22",[]],"MCPAggregationRequest":["31",[]],"MCPSearchResponse":["39",[]]}],"app/api/nl_query.py":["p",["natural_language_query:43:async (request:NLQueryRequest, db:Session = Depends(get_db)):_format_result,_generate_suggested_actions,_handle_aggregation_query,_hash_query:","_handle_aggregation_query:229:async (parsed_query:Dict[str, Any], postgres_service, results:List[Dict[str, Any]])>Dict[str, Any]::Handle aggregation queries like totals, averages, grouping.","_format_result:286:(result:Dict[str, Any])>Dict[str, Any]::Format a single result for frontend display.","_generate_suggested_actions:301:(query_type:str, total_count:int, results:List[Dict[str, Any]])>List[str]::Generate contextual suggested actions based on results.","_hash_query:343:(query:str)>str::Generate a hash for query caching.","get_cache_stats:351:async (db:Session = Depends(get_db))::","clear_cache:390:async (db:Session = Depends(get_db))::","get_query_suggestions:405:async (db:Session = Depends(get_db))::"],{"NLQueryRequest":["23",[]],"NLQueryResponse":["28",[]]}],"app/api/oauth.py":["p",["oauth_authorize:74:async (provider:str, request:Request, oauth_service:OAuthService = Depends(get_oauth_service))::","oauth_callback:129:async (provider:str, callback_data:OAuthCallbackRequest, db:Session = Depends(get_db), oauth_service:OAuthService = Depends(get_oauth_service))::","link_oauth_provider:243:async (link_request:LinkProviderRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), oauth_service:OAuthService = Depends(get_oauth_service))::","refresh_oauth_tokens:331:async (current_user:User = Depends(get_current_user), db:Session = Depends(get_db), oauth_service:OAuthService = Depends(get_oauth_service))::","unlink_oauth_provider:389:async (current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::"],{"OAuthCallbackRequest":["42",[]],"OAuthResponse":["49",[]],"LinkProviderRequest":["58",[]]}],"app/api/onboarding.py":["p",["analyze_samples:32:async (files:List[UploadFile] = File(...), db:Session = Depends(get_db))::","list_schemas:160:async (db:Session = Depends(get_db))::List all available schemas","create_schema:181:async (schema_data:dict, db:Session = Depends(get_db))::Create a new schema (e.g., when saving as new template)","get_schema:249:async (schema_id:int, db:Session = Depends(get_db))::Get schema details","get_schema_document_count:265:async (schema_id:int, db:Session = Depends(get_db))::Get count of documents using this schema","update_schema:287:async (schema_id:int, schema_data:dict, db:Session = Depends(get_db))::Update schema fields (after manual editing)","re_extract_documents:318:async (schema_id:int, db:Session = Depends(get_db))::","add_field_from_description:377:async (schema_id:int, description:dict, db:Session = Depends(get_db)):suggest_field_from_description:Add a field using natural language description","modify_schema_with_prompt:437:async (request:ModifySchemaRequest, db:Session = Depends(get_db)):modify_schema_with_prompt:","suggest_field_from_description:467:async (schema_id:int, request:dict, db:Session = Depends(get_db))::","add_field_and_extract:554:async (schema_id:int, request:dict, db:Session = Depends(get_db))::","get_job_status:648:async (job_id:int, db:Session = Depends(get_db)):get_job_status:","cancel_job:678:async (job_id:int, db:Session = Depends(get_db)):cancel_job:"],{"ModifySchemaRequest":["23",[]]}],"app/api/organizations.py":["p",["create_organization:105:(org_request:CreateOrganizationRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):create_organization,get_organization_members:","get_my_organization:165:(current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):get_organization_members:","get_organization:211:(org_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):get_organization_members:","update_organization:261:(org_id:int, org_request:CreateOrganizationRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):get_organization_members:","delete_organization:328:(org_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):delete_organization:","get_organization_members:372:(org_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):get_organization_members:","remove_member:422:(org_id:int, user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):remove_member:","update_member_role:479:(org_id:int, user_id:int, role_request:UpdateMemberRoleRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):update_member_role:","transfer_ownership:539:(org_id:int, transfer_request:TransferOwnershipRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):transfer_ownership:","create_invite:601:(org_id:int, invite_request:CreateInviteRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):create_invite:","list_invites:660:(org_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","accept_invite:714:(invite_request:AcceptInviteRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db), org_service:OrganizationService = Depends(get_organization_service)):accept_invite,get_organization_members:","revoke_invite:759:(org_id:int, invite_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::"],{"CreateOrganizationRequest":["30",[]],"OrganizationResponse":["36",[]],"CreateInviteRequest":["47",[]],"InviteResponse":["55",[]],"AcceptInviteRequest":["69",[]],"MemberResponse":["74",[]],"UpdateMemberRoleRequest":["85",[]],"TransferOwnershipRequest":["90",[]]}],"app/api/query_suggestions.py":["p",["get_query_suggestions:20:async (template_id:Optional[int] = None, folder_path:Optional[str] = None, db:Session = Depends(get_db)):_get_context_suggestions,get_query_suggestions:","_get_context_suggestions:168:(context:str)>List[str]::Generate context-aware suggestions based on folder name"]],"app/api/rematch.py":["p",["rematch_all_documents:25:async (db:Session = Depends(get_db))>Dict[str, Any]::","rematch_single_document:146:async (document_id:int, db:Session = Depends(get_db))>Dict[str, Any]::"]],"app/api/roles.py":["p",["list_permissions:102:async (resource_type:Optional[str] = Query(None, description=\"Filter by resource type\"), current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","list_roles:145:async (org_id:Optional[int] = Query(None, description=\"Filter by organization\"), role_type:Optional[str] = Query(None, description=\"Filter by role type\"), include_inactive:bool = Query(False, description=\"Include inactive roles\"), current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_role:229:async (role_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","create_role:281:async (role_data:RoleCreate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","update_role:377:async (role_id:int, role_data:RoleUpdate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","delete_role:452:async (role_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","add_permissions_to_role:506:async (role_id:int, request:AddPermissionsRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","remove_permission_from_role:566:async (role_id:int, permission_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","initialize_default_roles_and_permissions:621:async (current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::"],{"PermissionResponse":["38",[]],"RoleCreate":["50",[]],"RoleUpdate":["59",[]],"RoleResponse":["66",[]],"RoleListResponse":["84",[]],"AddPermissionsRequest":["90",[]]}],"app/api/search.py":["p",["search_documents:35:async (request:SearchRequest, db:Session = Depends(get_db)):_add_folder_filter,_add_template_filter,_get_template_context:","_add_folder_filter:595:(es_query:Dict[str, Any], folder_path:str)>Dict[str, Any]::Add folder_path filter to ES query using prefix match","_get_template_context:625:(template_id:str, db:Session)>Optional[Dict[str, Any]]::","_add_template_filter:671:(es_query:Dict[str, Any], template_id:str, db:Session)>Dict[str, Any]::","get_available_filters:748:async (db:Session = Depends(get_db))::Get available filter options and value distributions","get_index_statistics:783:async (db:Session = Depends(get_db)):_get_index_recommendations:","_get_index_recommendations:821:(stats:Dict[str, Any])>List[str]::Generate recommendations based on index statistics"],{"SearchRequest":["24",[]]}],"app/api/settings.py":["p",["get_default_context:53:(db:Session)::","get_all_settings:69:async (include_metadata:bool = Query(True, description=\"Include metadata like source, description, etc.\"), db:Session = Depends(get_db))>SettingsListResponse:get_all_settings,get_default_context:","get_setting:112:async (key:str, db:Session = Depends(get_db))>SettingResponse:get_default_context,get_setting:","update_setting:173:async (key:str, request:SettingUpdateRequest, level:str = Query(\"organization\", pattern=\"^(system|organization|user)$\", description=\"Setting level\"), db:Session = Depends(get_db)):get_default_context:","delete_setting:251:async (key:str, level:str = Query(\"organization\", pattern=\"^(system|organization|user)$\", description=\"Setting level\"), db:Session = Depends(get_db)):delete_setting,get_default_context:","initialize_defaults:292:async (db:Session = Depends(get_db)):initialize_defaults:","get_categories:314:async ()::","get_settings_by_category:334:async (category:str, db:Session = Depends(get_db)):get_all_settings,get_default_context:"],{"SettingUpdateRequest":["24",[]],"SettingResponse":["32",[]],"SettingsListResponse":["44",[]]}],"app/api/sharing.py":["p",["build_share_url:119:(token:str)>str::Build public share link URL","share_document:134:async (document_id:int, request:ShareDocumentRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_document_permissions:247:async (document_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):build_share_url:","revoke_document_access:383:async (document_id:int, user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):revoke_document_access:","create_share_link:418:async (document_id:int, request:ShareLinkRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):build_share_url,create_share_link:","revoke_share_link:491:async (link_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):revoke_share_link:","share_folder:522:async (folder_path:str, request:FolderShareRequest, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_folder_permissions:661:async (folder_path:str, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::"],{"ShareDocumentRequest":["43",[]],"ShareLinkRequest":["55",[]],"FolderShareRequest":["63",[]],"DocumentPermissionResponse":["75",[]],"ShareLinkResponse":["90",[]],"DocumentAccessResponse":["106",[]]}],"app/api/templates.py":["p",["list_templates:16:async (db:Session = Depends(get_db)):seed_builtin_templates:","get_template:75:async (template_id:int, db:Session = Depends(get_db))::Get full template details including all fields","get_templates_by_category:95:async (category:str, db:Session = Depends(get_db))::Get all templates in a specific category","track_template_usage:117:async (template_id:int, db:Session = Depends(get_db))::Increment usage count when template is selected","seed_templates:131:async (db:Session = Depends(get_db)):seed_builtin_templates:","seed_builtin_templates:145:(db:Session)>list[SchemaTemplate]::Helper function to seed built-in templates"]],"app/api/users.py":["p",["require_permission:92:async (action:PermissionAction, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):require_permission:Dependency to require a specific permission","create_user:105:async (user_data:UserCreate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):require_permission:","list_users:173:async (org_id:Optional[int] = Query(None, description=\"Filter by organization\"), is_active:Optional[bool] = Query(None, description=\"Filter by active status\"), search:Optional[str] = Query(None, description=\"Search by name or email\"), page:int = Query(1, ge=1), page_size:int = Query(20, ge=1, le=100), current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:","get_user:243:async (user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:","update_user:287:async (user_id:int, user_data:UserUpdate, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:","deactivate_user:359:async (user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):require_permission:","assign_role_to_user:404:async (user_id:int, assignment:RoleAssignment, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","revoke_role_from_user:464:async (user_id:int, role_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","get_user_permissions:499:async (user_id:int, current_user:User = Depends(get_current_user), db:Session = Depends(get_db)):get_user_permissions,require_permission:"],{"UserCreate":["35",[]],"UserUpdate":["44",[]],"RoleAssignment":["51",[]],"UserResponse":["60",[]],"UserListResponse":["78",[]]}],"app/api/verification.py":["p",["get_verification_queue:25:async (schema_id:Optional[int] = None, page:int = 1, size:int = 20, db:Session = Depends(get_db))::Get items that need verification (low confidence)","verify_field:70:async (field_id:int, verification_data:dict, db:Session = Depends(get_db))::","get_verification_stats:160:async (schema_id:Optional[int] = None, db:Session = Depends(get_db))::Get verification statistics","create_verification_session:212:async (schema_id:int, db:Session = Depends(get_db))::Create a new verification session","complete_verification_session:243:async (session_id:str, db:Session = Depends(get_db))::Mark verification session as complete"]],"app/core/auth.py":["p",["hash_password:38:(password:str)>str::Hash a password using bcrypt","verify_password:43:(plain_password:str, hashed_password:str)>bool::Verify a password against its hash","create_access_token:52:(user_id:int, expires_delta:Optional[timedelta] = None)>str::","decode_access_token:83:(token:str)>Optional[int]::","create_api_key:118:(user_id:int, name:str = \"Default\")>Tuple[str, str]:hash_password:","verify_api_key:140:(db:Session, key:str)>Optional[User]:verify_password:","get_current_user:189:async (credentials:HTTPAuthorizationCredentials = Depends(security), db:Session = Depends(get_db))>User:decode_access_token,verify_api_key:","get_current_active_admin:235:async (current_user:User = Depends(get_current_user))>User::","get_current_user_optional:263:async (credentials:Optional[HTTPAuthorizationCredentials] = Depends(HTTPBearer(auto_error=False)), db:Session = Depends(get_db))>Optional[User]:get_current_user:"]],"app/core/config.py":["p",{"Settings":["6",[]]}],"app/core/database.py":["p",["get_db:21:()::"]],"app/core/error_handlers.py":["p",["paperbase_exception_handler:18:async (request:Request, exc:PaperbaseException)>JSONResponse::","validation_exception_handler:49:async (request:Request, exc:RequestValidationError)>JSONResponse::","http_exception_handler:84:async (request:Request, exc:StarletteHTTPException)>JSONResponse::","general_exception_handler:109:async (request:Request, exc:Exception)>JSONResponse::","register_error_handlers:140:(app)::"]],"app/core/exceptions.py":["p",{"PaperbaseException":["6",["__init__:8:(self, message:str, status_code:int = 500):__init__:"]],"ValidationError":["14",["__init__:16:(self, message:str):__init__:"]],"NotFoundError":["20",["__init__:22:(self, resource:str, identifier:str):__init__:"]],"ExternalServiceError":["27",["__init__:29:(self, service:str, message:str, original_error:Exception = None):__init__:"]],"ReductoError":["38",["__init__:40:(self, message:str, original_error:Exception = None):__init__:"]],"ClaudeError":["44",["__init__:46:(self, message:str, original_error:Exception = None):__init__:"]],"ElasticsearchError":["50",["__init__:52:(self, message:str, original_error:Exception = None):__init__:"]],"ProcessingError":["56",["__init__:58:(self, document_id:str, message:str):__init__:"]],"SchemaError":["64",["__init__:66:(self, message:str):__init__:"]],"FileUploadError":["70",["__init__:72:(self, message:str):__init__:"]],"ConfigurationError":["76",["__init__:78:(self, message:str):__init__:"]],"PermissionDeniedError":["82",["__init__:84:(self, message:str = \"Permission denied\"):__init__:"]],"ResourceNotFoundError":["88",["__init__:90:(self, resource_type:str, resource_id:any):__init__:"]]}],"app/main.py":["p",["startup_event:102:async ()::","health_check:199:async ()::","mcp_status:210:async ()::","toggle_mcp:238:async (request:dict)::","root:255:async ()::"]],"app/mcp/server.py":["p",["list_tools:28:async ()>List[Tool]::","call_tool:191:async (name:str, arguments:Dict[str, Any])>List[TextContent]:_get_audit_queue,_get_document,_get_statistics,_get_templates,_search_documents,_verify_extraction:","_search_documents:235:async (args:Dict[str, Any])>List[TextContent]::","_get_document:298:async (args:Dict[str, Any])>List[TextContent]::","_get_audit_queue:346:async (args:Dict[str, Any])>List[TextContent]::","_verify_extraction:402:async (args:Dict[str, Any])>List[TextContent]::","_get_templates:462:async (args:Dict[str, Any])>List[TextContent]::","_get_statistics:508:async (args:Dict[str, Any])>List[TextContent]::","list_resources:559:async ()>List[EmbeddedResource]::","read_resource:581:async (uri:str)>str:_get_statistics:Read a resource by URI"]],"app/migrations/migrate_settings.py":["p",["migrate_settings:30:(db:Session, dry_run:bool = False)::","rollback_settings:105:(db:Session)::"]],"app/migrations/migrate_to_extractions.py":["p",["infer_template_from_schema:30:(schema_id:int, db:Session)>int::","generate_organized_path:60:(doc:Document, template_id:int, db:Session)>str::","migrate_documents_to_extractions:79:(db:Session, dry_run:bool = False):generate_organized_path,infer_template_from_schema:","rollback_migration:180:(db:Session)::"]],"app/models/background_job.py":["p",{"BackgroundJob":["9",["progress_percentage:46:(self)>float::Calculate progress as percentage (0.0 - 1.0)","to_dict:52:(self)>dict::Convert to dictionary for API responses"]]}],"app/models/batch.py":["p",{"Batch":["17",[]]}],"app/models/document.py":["p",{"Document":["9",["actual_file_path:63:(self)>str::Get actual file path, preferring PhysicalFile over legacy field.","actual_parse_result:70:(self)::Get actual parse result, preferring PhysicalFile over legacy field.","actual_job_id:77:(self)>str::Get actual job ID, preferring PhysicalFile over legacy field."]],"ExtractedField":["84",["audit_priority:127:(self)>int::","priority_label:155:(self)>str::Get human-readable priority label"]]}],"app/models/extraction.py":["p",{"Extraction":["9",[]]}],"app/models/extraction_schemas.py":["p",["get_validation_schema:296:(template_name:str)>Optional[type[BaseModel]]::","validate_field_value:313:(field_name:str, field_value:Any, template_name:str)>tuple[bool, Optional[str]]:get_validation_schema:"],{"ExtractedFieldBase":["24",[]],"InvoiceExtraction":["44",["validate_invoice_number:64:(cls, v:str)>str::Validate invoice number format","validate_amount:80:(cls, v:Decimal)>Decimal::Validate total amount is positive and reasonable","validate_invoice_date:93:(cls, v:date)>date::Validate invoice date is reasonable","validate_vendor_name:109:(cls, v:str)>str::Validate vendor name presence","validate_due_date:117:(self)>'InvoiceExtraction'::Validate due date is after invoice date"]],"ContractExtraction":["125",["validate_contract_id:144:(cls, v:str)>str::Validate contract ID format","validate_parties:153:(cls, v:List[str])>List[str]::Validate parties list","validate_dates:167:(self)>'ContractExtraction'::Validate expiration date is after effective date"]],"ReceiptExtraction":["179",["validate_merchant_name:196:(cls, v:str)>str::Validate merchant name","validate_amount:205:(cls, v:Decimal)>Decimal::Validate total amount","validate_receipt_date:217:(cls, v:date)>date::Validate receipt date is reasonable"]],"PurchaseOrderExtraction":["232",["validate_po_number:251:(cls, v:str)>str::Validate PO number","validate_vendor_name:260:(cls, v:str)>str::Validate vendor name","validate_amount:269:(cls, v:Decimal)>Decimal::Validate total amount","validate_delivery_date:277:(self)>'PurchaseOrderExtraction'::Validate delivery date is after PO date"]]}],"app/models/permissions.py":["p",{"Role":["114",[]],"Permission":["155",[]],"UserRole":["185",[]],"DocumentPermission":["226",[]],"FolderPermission":["266",[]],"ShareLink":["309",["is_expired:349:(self)>bool::Check if share link has expired"]],"ShareLinkAccessLog":["358",[]],"PermissionAuditLog":["378",[]],"APIKey":["418",[]]}],"app/models/physical_file.py":["p",{"PhysicalFile":["9",[]]}],"app/models/query_history.py":["p",{"QueryHistory":["16",["is_expired:47:(self)>bool::Check if this query has expired","create_from_search:61:(cls, query:str, answer:str, document_ids:list, source:str = \"ask_ai\", ttl_days:int = 30)::"]]}],"app/models/query_pattern.py":["p",{"QueryPattern":["8",[]],"QueryCache":["46",[]]}],"app/models/query_validation.py":["p",{"QueryValidation":["16",[]],"QueryImprovement":["88",[]],"FieldAliasLearning":["134",["update_confidence:180:(self)::Recalculate confidence score based on success/failure counts."]]}],"app/models/schema.py":["p",{"Schema":["9",[]],"ComplexityOverride":["39",[]],"FieldDefinition":["69",[]]}],"app/models/search_index.py":["p",{"DocumentSearchIndex":["24",[]],"TemplateSignature":["68",[]]}],"app/models/settings.py":["p",{"Organization":["34",[]],"User":["63",[]],"Settings":["116",[]],"OrganizationInvite":["155",["is_expired:198:(self)>bool::Check if invite has expired","remaining_uses:209:(self)>Optional[int]::Get remaining uses (None if unlimited)"]]}],"app/models/template.py":["p",{"SchemaTemplate":["7",[]]}],"app/models/verification.py":["p",{"Verification":["9",[]],"VerificationSession":["34",[]]}],"app/services/answer_cache.py":["p",["get_answer_cache:209:()>AnswerCache::"],{"AnswerCache":["16",["__init__:19:(self, ttl_seconds:int = 3600, max_size:int = 1000)::","_generate_cache_key:34:(self, query:str, result_ids:List[int], filters:Optional[Dict] = None)>str::","get:62:(self, query:str, result_ids:List[int], filters:Optional[Dict] = None)>Optional[Dict[str, Any]]:_generate_cache_key,get:","set:105:(self, query:str, result_ids:List[int], answer:Dict[str, Any], filters:Optional[Dict] = None)>None:_evict_oldest,_generate_cache_key:","_evict_oldest:133:(self, count:int = 100)>None::","clear:155:(self)>None:clear:Clear all cached entries.","get_stats:161:(self)>Dict[str, Any]::","remove_expired:181:(self)>int::"]]}],"app/services/claude_service.py":["p",{"ClaudeService":["360",["__init__:372:(self)::","analyze_sample_documents:382:async (self, parsed_documents:List[Dict[str, Any]], user_context:Optional[str] = None)>Dict[str, Any]:_build_schema_generation_prompt:","quick_analyze_document:509:async (self, parsed_document:Dict[str, Any])>Dict[str, Any]::"]]}],"app/services/elastic_service.py":["p",{"ElasticsearchService":["12",["__init__:13:(self)::","create_index:18:async (self, schema:Dict[str, Any])>None:_build_complex_field_mapping,_get_es_field_type:Create Elasticsearch index with dynamic mapping based on schema","_get_es_field_type:164:(self, field_type:str)>str::Map schema field type to Elasticsearch type","_build_complex_field_mapping:175:(self, field:Dict[str, Any])>Dict[str, Any]:_get_es_field_type:","index_document:281:async (self, document_id:int, filename:str, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], full_text:str = \"\", schema:Optional[Dict[str, Any]] = None, field_metadata:Optional[Dict[str, Any]] = None)>str:_build_canonical_fields:","_build_canonical_fields:390:(self, extracted_fields:Dict[str, Any], field_metadata:Dict[str, Any])>Dict[str, Any]::","search:463:async (self, query:Optional[str] = None, filters:Optional[Dict[str, Any]] = None, min_confidence:Optional[float] = None, custom_query:Optional[Dict[str, Any]] = None, page:int = 1, size:int = 10)>Dict[str, Any]:search:Search documents with optional filters","get_document:542:async (self, document_id:int)>Optional[Dict[str, Any]]::Get document by ID","update_document:558:async (self, document_id:int, updated_fields:Dict[str, Any])>None::Update document fields (e.g., after verification)","delete_document:567:async (self, elasticsearch_id:str)>None::Delete a document from Elasticsearch by its ID","get_aggregations:586:async (self, field:str = None, agg_type:str = \"terms\", agg_config:Optional[Dict[str, Any]] = None, filters:Optional[Dict[str, Any]] = None, custom_aggs:Optional[Dict[str, Any]] = None)>Dict[str, Any]:search:","get_multi_aggregations:718:async (self, aggregations:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:search:","get_nested_aggregations:830:async (self, parent_agg:Dict[str, Any], sub_aggs:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:search:","health_check:926:async (self)>bool::Check Elasticsearch connection","close:935:async (self):close:Close Elasticsearch connection","optimize_for_bulk_indexing:939:async (self, enable:bool = True)::","refresh_index:963:async (self)::","get_index_stats:972:async (self)>Dict[str, Any]::","create_template_signatures_index:994:async (self)>None::Create index for template signatures (for similarity matching)","index_template_signature:1044:async (self, template_id:int, template_name:str, field_names:List[str], sample_text:str = \"\", category:str = \"general\")>str::","cluster_uploaded_documents:1083:async (self, documents:List[Any], # List[Document] similarity_threshold:float = 0.75)>List[Dict[str, Any]]:_calculate_text_similarity:","_calculate_text_similarity:1192:(self, text1:str, text2:str)>float::","find_similar_templates:1229:async (self, document_text:str, document_fields:List[str], min_score:float = 0.4)>List[Dict[str, Any]]:search:"]]}],"app/services/export_service.py":["p",{"ExportService":["20",["build_export_query:34:(db:Session, template_id:Optional[int] = None, schema_id:Optional[int] = None, date_from:Optional[date] = None, date_to:Optional[date] = None, confidence_min:float = 0.0, verified_only:bool = False, status:Optional[str] = None, document_ids:Optional[List[int]] = None)::Build a query for extracting documents based on filters","documents_to_records:88:(documents:List[Document])>List[Dict[str, Any]]::","documents_to_long_format:129:(documents:List[Document])>List[Dict[str, Any]]::","_detect_complex_fields:170:(documents:List[Document])>Dict[str, List[str]]::","_serialize_complex_field:204:(field:ExtractedField, format_type:str, include_verified:bool = True)>Any::","_create_table_sheet:252:(documents:List[Document], field_name:str)>pd.DataFrame::","_create_array_of_objects_sheet:307:(documents:List[Document], field_name:str)>pd.DataFrame::","export_to_csv:357:(records:List[Dict[str, Any]], include_metadata:bool = True)>bytes::Export records to CSV format","export_to_excel:383:(records:List[Dict[str, Any]], include_metadata:bool = True, sheet_name:str = \"Extracted Data\", documents:Optional[List[Document]] = None, expand_complex_fields:bool = True)>bytes:_create_array_of_objects_sheet,_create_table_sheet,_detect_complex_fields:","export_to_json:480:(records:List[Dict[str, Any]], format_type:str = \"array\")>str::","get_export_summary:505:(db:Session, template_id:Optional[int] = None, date_from:Optional[date] = None, date_to:Optional[date] = None)>Dict[str, Any]::Get summary statistics for export using efficient database aggregations","export_by_template:565:(db:Session, template_id:int, format:str = \"excel\", date_from:Optional[date] = None, date_to:Optional[date] = None, expand_complex_fields:bool = True, **kwargs)>bytes:build_export_query,documents_to_records,export_to_csv,export_to_excel,export_to_json:","analyze_template_compatibility:621:(db:Session, template_ids:List[int])>Dict[str, Any]::","export_multi_template_merged:751:(db:Session, template_ids:List[int], format:str = \"excel\", date_from:Optional[date] = None, date_to:Optional[date] = None, expand_complex_fields:bool = True, **kwargs)>bytes:build_export_query,export_to_csv,export_to_excel,export_to_json:","export_multi_template_separated:844:(db:Session, template_ids:List[int], format:str = \"excel\", date_from:Optional[date] = None, date_to:Optional[date] = None, expand_complex_fields:bool = True, **kwargs)>bytes:_create_array_of_objects_sheet,_create_table_sheet,_detect_complex_fields,build_export_query,documents_to_records,export_multi_template_merged:"]]}],"app/services/extraction_service.py":["p",{"ExtractionService":["24",["__init__:30:(self, db=None)::","create_extraction:41:async (self, physical_file:PhysicalFile, template_id:int, db:Session, confidence:float = None)>Extraction::","process_extraction:98:async (self, extraction_id:int, db:Session)>Extraction::","batch_extract:252:async (self, physical_file_ids:List[int], template_id:int, batch_name:str, db:Session)>Dict[str, Any]:create_extraction,process_extraction:","list_extractions:337:(self, physical_file_id:Optional[int] = None, template_id:Optional[int] = None, status:Optional[str] = None, db:Session = None)>List[Extraction]::","get_extraction_stats:361:(self, db:Session)>Dict[str, Any]::Get extraction statistics."]]}],"app/services/field_extraction_service.py":["p",{"FieldExtractionService":["22",["__init__:30:(self, db=None)::","extract_field_from_all_docs:41:async (self, schema_id:int, field_config:Dict[str, Any], db:Session)>BackgroundJob:_extract_field_background:","_extract_field_background:95:async (self, background_job_id:int, # RENAMED to avoid collision documents:List[Document], field_config:Dict[str, Any])::","get_job_status:307:async (self, job_id:int, db:Session)>Dict[str, Any]::","cancel_job:324:async (self, job_id:int, db:Session)>bool::"]]}],"app/services/field_normalizer.py":["p",{"FieldNormalizer":["21",["__init__:29:(self, schema_registry)::","initialize:98:async (self):_infer_canonical_category:","_infer_canonical_category:150:(self, field_name:str)>Optional[str]::","get_canonical_name:170:(self, field_name:str)>str:_infer_canonical_category:","get_field_names:187:(self, canonical_name:str)>List[str]::","normalize_query_fields:206:(self, query:Dict[str, Any], mode:str = \"expand\")>Dict[str, Any]:_canonicalize_fields,_expand_canonical_fields:","_expand_canonical_fields:222:(self, query:Dict[str, Any])>Dict[str, Any]:_expand_canonical_fields,get_field_names:","_canonicalize_fields:306:(self, query:Dict[str, Any])>Dict[str, Any]::","build_canonical_document:320:(self, extracted_fields:Dict[str, Any], template_name:Optional[str] = None)>Dict[str, Any]:get_canonical_name:","get_search_fields_for_category:350:(self, canonical_name:str, boost_pattern:Optional[str] = None)>List[str]:get_field_names:","get_aggregation_field:380:(self, canonical_name:str, prefer_keyword:bool = True)>str:get_field_names:"]]}],"app/services/file_service.py":["p",{"FileService":["21",["__init__:26:(self, upload_dir:str = None)::","upload_file:33:async (self, file:UploadFile, db:Session)>tuple[PhysicalFile, bool]::","upload_multiple:112:async (self, files:list[UploadFile], db:Session)>list[tuple[PhysicalFile, bool]]:upload_file:","get_file:129:(self, file_id:int, db:Session)>Optional[PhysicalFile]::Get physical file by ID.","get_file_by_hash:133:(self, file_hash:str, db:Session)>Optional[PhysicalFile]::Get physical file by hash.","delete_file:137:(self, file_id:int, db:Session)>bool::","get_storage_stats:175:(self, db:Session)>dict::Get storage statistics."]]}],"app/services/folder_service.py":["p",{"FolderService":["19",["browse_folder:25:(self, path:str, db:Session)>Dict[str, Any]::","reorganize_extractions:94:(self, extraction_ids:List[int], target_path:str, db:Session)>int::","get_folder_stats:132:(self, path:str, db:Session)>Dict[str, Any]::","create_folder_path:184:(self, template_name:str, date_str:Optional[str] = None)>str::","search_in_folder:207:(self, path:str, query:str, db:Session)>List[Dict[str, Any]]::","get_breadcrumbs:249:(self, path:str)>List[Dict[str, str]]::","get_folder_tree:276:(self, db:Session, max_depth:int = 3)>Dict[str, Any]:_tree_to_list:","_tree_to_list:308:(self, tree:Dict[str, Any], parent_path:str = \"\")>List[Dict[str, Any]]:_tree_to_list:Convert tree dict to list format for frontend."]]}],"app/services/oauth_service.py":["p",["get_oauth_service:453:()>OAuthService::"],{"OAuthConfig":["37",[]],"OAuthService":["93",["__init__:105:(self)::","is_provider_configured:108:(self, provider:str)>bool::","generate_state:125:()>str::","generate_pkce_pair:135:()>Tuple[str, str]::","get_authorization_url:155:async (self, provider:str, redirect_uri:Optional[str] = None)>Dict[str, str]:generate_pkce_pair,generate_state,get_authorization_url:","exchange_code_for_token:210:async (self, provider:str, code:str, code_verifier:str, redirect_uri:Optional[str] = None)>Dict[str, Any]::","get_user_info:251:async (self, provider:str, access_token:str)>Dict[str, Any]:get_user_info:","refresh_access_token:305:async (self, provider:str, refresh_token:str)>Optional[Dict[str, Any]]:refresh_access_token:","store_tokens_on_user:335:(self, user:User, tokens:Dict[str, Any])>None:store_tokens_on_user:","get_tokens_from_user:357:(self, user:User)>Optional[Dict[str, Any]]:get_tokens_from_user:","find_or_create_user:383:async (self, db:Session, provider:str, user_info:Dict[str, Any], tokens:Dict[str, Any])>Tuple[User, bool]:store_tokens_on_user:"]]}],"app/services/organization_service.py":["p",["get_organization_service:495:()>OrganizationService::"],{"OrganizationService":["26",["generate_slug:38:(name:str)>str:generate_slug:","generate_invite_code:65:(length:int = 8)>str:generate_invite_code:","create_organization:88:(self, db:Session, name:str, owner:User, slug:Optional[str] = None)>Organization:create_organization,generate_slug:","create_invite:159:(self, db:Session, organization:Organization, created_by:User, role:str = \"member\", email:Optional[str] = None, expires_in_days:Optional[int] = 7, max_uses:int = 1)>OrganizationInvite:create_invite,generate_invite_code:","accept_invite:219:(self, db:Session, invite_code:str, user:User)>Organization:accept_invite:","get_organization_members:300:(self, db:Session, organization:Organization)>List[User]:get_organization_members:","remove_member:329:(self, db:Session, organization:Organization, user_to_remove:User, removed_by:User)>None:remove_member:","update_member_role:371:(self, db:Session, organization:Organization, user_to_update:User, new_role:str, updated_by:User)>None:update_member_role:","transfer_ownership:420:(self, db:Session, organization:Organization, new_owner:User, current_owner:User)>None:transfer_ownership:","delete_organization:461:(self, db:Session, organization:Organization, deleted_by:User)>None:delete_organization:"]]}],"app/services/permission_service.py":["p",{"PermissionService":["50",["__init__:53:(self, db:Session)::","check_permission:64:(self, user_id:int, action:PermissionAction, resource_type:Optional[str] = None, resource_id:Optional[int] = None)>bool:_has_permission_via_role:","_has_permission_via_role:97:(self, user_id:int, action:PermissionAction)>bool::Check if user has permission through their assigned roles","check_document_access:131:(self, user_id:int, document_id:int, required_permission:str = \"read\")>bool:check_permission:","check_folder_access:220:(self, user_id:int, folder_path:str, required_permission:str = \"read\")>bool:check_permission:","require_permission:299:(self, user_id:int, action:PermissionAction, error_message:Optional[str] = None):check_permission:","require_document_access:315:(self, user_id:int, document_id:int, required_permission:str = \"read\"):check_document_access:Require document access or raise PermissionDeniedError","get_user_permissions:332:(self, user_id:int, scope:Optional[PermissionScope] = None)>List[PermissionAction]::","get_user_roles:380:(self, user_id:int)>List[Dict[str, Any]]::","grant_document_access:433:(self, document_id:int, target_user_id:int, granted_by_user_id:int, can_read:bool = True, can_write:bool = False, can_delete:bool = False, can_share:bool = False, expires_at:Optional[datetime] = None, notes:Optional[str] = None)>DocumentPermission:_audit_log,check_document_access:","revoke_document_access:547:(self, document_id:int, target_user_id:int, revoked_by_user_id:int)>bool:_audit_log,check_document_access:","assign_role:596:(self, user_id:int, role_id:int, assigned_by_user_id:int, scope:PermissionScope = PermissionScope.GLOBAL, scope_org_id:Optional[int] = None, scope_folder_path:Optional[str] = None, expires_at:Optional[datetime] = None)>UserRole:_audit_log,require_permission:","revoke_role:675:(self, user_id:int, role_id:int, revoked_by_user_id:int)>bool:_audit_log,require_permission:","create_share_link:722:(self, document_id:int, created_by_user_id:int, access_level:ShareLinkAccessLevel = ShareLinkAccessLevel.READ, expires_in_days:Optional[int] = 7, max_accesses:Optional[int] = None, password:Optional[str] = None)>ShareLink:_audit_log,require_document_access:","revoke_share_link:788:(self, share_link_id:int, revoked_by_user_id:int)>bool:_audit_log,require_document_access:Revoke a share link","_audit_log:822:(self, user_id:int, action:str, resource_type:str, resource_id:Optional[int] = None, target_user_id:Optional[int] = None, details:Optional[Dict[str, Any]] = None, success:bool = True, error_message:Optional[str] = None)::Internal method to log permission changes","initialize_default_permissions:843:(db:Session)::Initialize default permissions and roles (run on first startup)"]]}],"app/services/postgres_service.py":["p",{"PostgresService":["18",["__init__:24:(self, db:Session)::","create_index:27:async (self, schema:Dict[str, Any])>None::","index_document:44:async (self, document_id:int, filename:str, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], full_text:str = \"\", schema:Optional[Dict[str, Any]] = None, field_metadata:Optional[Dict[str, Any]] = None)>int:_build_canonical_fields:","_build_canonical_fields:160:(self, extracted_fields:Dict[str, Any], field_metadata:Dict[str, Any])>Dict[str, Any]::","search:205:async (self, query:Optional[str] = None, filters:Optional[Dict[str, Any]] = None, min_confidence:Optional[float] = None, custom_query:Optional[Dict[str, Any]] = None, page:int = 1, size:int = 10, use_weighted_tsv:bool = True # Phase 1:Use weighted tsvector for better ranking)>Dict[str, Any]:_apply_custom_query:","_apply_custom_query:344:(self, stmt, custom_query:Dict[str, Any]):_apply_sql_conditions,_translate_es_query:","_apply_sql_conditions:366:(self, stmt, sql_conditions:Dict[str, Any])::","_translate_es_query:388:(self, stmt, es_query:Dict[str, Any]):_translate_es_clause:","_translate_es_clause:431:(self, stmt, clause:Dict[str, Any])::","get_document:521:async (self, document_id:int)>Optional[Dict[str, Any]]::Get document by ID","update_document:555:async (self, document_id:int, updated_fields:Dict[str, Any])>None::Update document fields (e.g., after verification)","delete_document:574:async (self, document_id:int)>None::Delete a document from search index","get_aggregations:593:async (self, field:str = None, agg_type:str = \"terms\", agg_config:Optional[Dict[str, Any]] = None, filters:Optional[Dict[str, Any]] = None, custom_aggs:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_apply_filters:","_apply_filters:808:(self, stmt, filters:Dict[str, Any])::Apply filters to query","get_multi_aggregations:833:async (self, aggregations:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:get_aggregations:","get_nested_aggregations:875:async (self, parent_agg:Dict[str, Any], sub_aggs:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:get_aggregations:","health_check:895:async (self)>bool::Check PostgreSQL connection","close:904:async (self):close:Close database connection","optimize_for_bulk_indexing:908:async (self, enable:bool = True)::","refresh_index:918:async (self)::","get_index_stats:929:async (self)>Dict[str, Any]::","create_template_signatures_index:953:async (self)>None::","index_template_signature:967:async (self, template_id:int, template_name:str, field_names:List[str], sample_text:str = \"\", category:str = \"general\")>int::","cluster_uploaded_documents:1015:async (self, documents:List[Any], similarity_threshold:float = 0.75)>List[Dict[str, Any]]:_calculate_text_similarity:","_calculate_text_similarity:1093:(self, text1:str, text2:str)>float::","find_similar_templates:1118:async (self, document_text:str, document_fields:List[str], min_score:float = 0.4)>List[Dict[str, Any]]::"]]}],"app/services/query_optimizer.py":["p",{"QueryOptimizer":["22",["__init__:30:(self, schema_registry=None)::","initialize_from_registry:57:async (self)::","understand_query_intent:85:(self, query:str, available_fields:List[str])>Dict[str, Any]:_extract_date_filters,_extract_numeric_filters,_extract_text_filters:","_extract_numeric_filters:176:(self, query:str, query_lower:str, available_fields:List[str], analysis:Dict[str, Any]):_find_target_field:Extract numeric range filters from query.","_extract_date_filters:225:(self, query_lower:str, analysis:Dict[str, Any])::Extract date range filters from query.","_extract_text_filters:258:(self, query:str, query_lower:str, available_fields:List[str], analysis:Dict[str, Any])::Extract text-based filters from query.","_find_target_field:286:(self, query_lower:str, available_fields:List[str], canonical_name:str)>Optional[str]:_resolve_field:","_resolve_field:309:(self, canonical_name:str, available_fields:List[str])>str::","build_optimized_query:341:(self, query:str, analysis:Dict[str, Any], available_fields:List[str])>Dict[str, Any]:_get_date_range:","_get_date_range:439:(self, range_name:str)>Dict[str, str]::Get Elasticsearch date range for common ranges.","should_use_claude:457:(self, analysis:Dict[str, Any])>bool::"]]}],"app/services/reducto_service.py":["p",{"ReductoService":["14",["__init__:23:(self)::","parse_document:30:async (self, file_path:str)>Dict[str, Any]:_extract_confidence_scores,upload_file:","upload_file:170:()::","extract_structured:119:async (self, schema:Dict[str, Any], file_path:str = None, job_id:str = None)>Dict[str, Any]:_convert_to_reducto_schema,_parse_citations,_parse_extraction_with_complex_types,parse_document,upload_file:","get_job_status:262:async (self, job_id:str)>Dict[str, Any]::Get status of async processing job","_extract_confidence_scores:274:(self, result:Dict[str, Any])>Dict[str, float]::Extract confidence scores from Reducto response blocks","get_confidence_label:286:(self, score:float)>str::","extract_field_from_chunks:304:(self, chunks:List[Dict[str, Any]], hints:List[str])>Optional[Dict[str, Any]]:_extract_value_after_hint:","_extract_value_after_hint:336:(self, text:str, hint:str)>str::Extract value that appears after the hint in text","_parse_extraction_with_bbox:355:(self, raw_extractions:Any)>Dict[str, Any]:_parse_extraction_with_bbox:","_convert_to_reducto_schema:450:(self, schema:Dict[str, Any])>Dict[str, Any]:map_type_to_json_schema:","map_type_to_json_schema:462:(field_type:str)>str::Map our internal types to JSON Schema types.","_parse_citations:558:(self, citations:Any)>Dict[str, Dict[str, Any]]::","_parse_extraction_with_complex_types:632:(self, raw_extractions:Any, schema:Dict[str, Any], citations_data:Optional[Dict[str, Dict[str, Any]]] = None)>Dict[str, Any]:_parse_extraction_with_complex_types:"]]}],"app/services/schema_registry.py":["p",{"SchemaRegistry":["11",["__init__:20:(self, db:Session)::","get_field_context:27:async (self, template_name:Optional[str] = None, schema_id:Optional[int] = None)>Dict[str, Any]:_generate_aliases,_generate_typical_queries,_get_default_context,_get_standard_field_description,_get_standard_field_type:","get_all_templates_context:116:async (self)>List[Dict[str, Any]]:get_field_context:","get_canonical_field_mapping:130:async (self)>Dict[str, List[str]]:_get_canonical_name:","_generate_aliases:160:(self, field_name:str, field_type:str)>List[str]::Generate semantic aliases for a field name.","_generate_typical_queries:196:(self, field_name:str, field_type:str)>List[str]::Generate typical query patterns for a field.","_get_canonical_name:227:(self, field_name:str, field_type:str)>str::Determine canonical category for a field.","_get_standard_field_type:259:(self, field_name:str)>str::Get type for standard metadata fields.","_get_standard_field_description:269:(self, field_name:str)>str::Get description for standard metadata fields.","_get_default_context:279:(self)>Dict[str, Any]::Return default context when no schema is found."]]}],"app/services/settings_service.py":["p",{"SettingsService":["22",["__init__:25:(self, db:Session)::","get_setting:34:(self, key:str, user_id:Optional[int] = None, org_id:Optional[int] = None, default:Any = None)>Any:_deserialize_value:","get_all_settings:92:(self, user_id:Optional[int] = None, org_id:Optional[int] = None, include_metadata:bool = False)>Dict[str, Any]:_deserialize_value:","set_setting:193:(self, key:str, value:Any, value_type:str, user_id:Optional[int] = None, org_id:Optional[int] = None, description:Optional[str] = None)>Settings:_serialize_value:","delete_setting:255:(self, key:str, user_id:Optional[int] = None, org_id:Optional[int] = None)>bool::","initialize_defaults:282:(self)>None:set_setting:","get_or_create_default_org:305:(self)>Organization::Get or create the default organization for MVP.","get_or_create_default_user:322:(self, org_id:int)>User::Get or create the default user for MVP.","_serialize_value:341:(self, value:Any, value_type:str)>str::Serialize value to string for storage.","_deserialize_value:350:(self, value:str, value_type:str)>Any::Deserialize value from string."]]}],"app/services/validation_service.py":["p",["should_flag_for_review:734:(confidence:float, validation_status:str)>bool::"],{"ValidationResult":["49",[]],"ExtractionValidator":["56",["__init__:79:(self)::","validate_extraction:89:async (self, extractions:Dict[str, Any], template:Optional[Any] = None, template_name:Optional[str] = None, schema_config:Dict[str, Any] = None)>Dict[str, ValidationResult]:_validate_cross_field_rules,_validate_field,_validate_with_dynamic_model:","_validate_with_dynamic_model:154:async (self, template:Any, extractions:Dict[str, Any])>Dict[str, ValidationResult]:_determine_status,_get_validation_model,_get_validation_type:","_get_validation_model:228:(self, template:Any)>Type[BaseModel]:_create_validation_model:Get or create a Pydantic validation model for the template.","_create_validation_model:241:(self, template:Any)>Type[BaseModel]:_get_field_kwargs,_get_pydantic_type:Dynamically create a Pydantic model from template schema.","_get_pydantic_type:261:(self, field_def:Dict[str, Any])>Any::Map template field types to Pydantic types.","_get_field_kwargs:286:(self, field_def:Dict[str, Any])>Dict[str, Any]::Get Pydantic Field kwargs from field definition.","_get_validation_type:317:(self, pydantic_error_type:str)>str::Map Pydantic error types to our validation types.","_validate_field:343:async (self, field_name:str, field_data:Dict[str, Any], template_name:str, schema_config:Dict[str, Any] = None)>ValidationResult:_determine_status,_get_field_config,_infer_field_type,_validate_business_rules,_validate_field_type,_validate_with_pydantic:","_validate_with_pydantic:417:(self, field_name:str, value:Any, validation_schema:type)>List[str]::","_validate_business_rules:455:async (self, field_name:str, value:Any, template_name:str)>List[str]:_validate_contract_field,_validate_invoice_field,_validate_po_field,_validate_receipt_field:","_validate_invoice_field:489:(self, field_name:str, value:Any)>List[str]::Invoice-specific field validation","_validate_contract_field:526:(self, field_name:str, value:Any)>List[str]::Contract-specific field validation","_validate_receipt_field:545:(self, field_name:str, value:Any)>List[str]::Receipt-specific field validation","_validate_po_field:574:(self, field_name:str, value:Any)>List[str]::Purchase Order-specific field validation","_validate_cross_field_rules:592:(self, extractions:Dict[str, Any], template_name:str)>Dict[str, List[str]]::","_validate_field_type:647:(self, field_name:str, value:Any, expected_type:str)>List[str]::","_infer_field_type:676:(self, field_name:str)>str::Infer expected type from field name","_determine_status:690:(self, errors:List[str], warnings:List[str], confidence:float)>str::","_get_field_config:722:(self, field_name:str, schema_config:Dict[str, Any])>Dict[str, Any]::Get field configuration from schema"]]}],"app/utils/audit_helpers.py":["p",["get_low_confidence_fields_for_documents:26:async (document_ids:List[int], db:Session, confidence_threshold:Optional[float] = None, include_verified:bool = False, field_names:Optional[List[str]] = None)>Dict[int, List[Dict[str, Any]]]:get_low_confidence_fields_for_documents:","get_confidence_summary:154:async (document_ids:List[int], db:Session, high_threshold:float = 0.8, medium_threshold:float = 0.6)>Dict[str, Any]::","build_audit_url:230:(field_id:int, document_id:int, source:str = \"ai_answer\", highlight:bool = True, query_id:Optional[str] = None)>str:build_audit_url:","prepare_citation_metadata:274:async (document_id:int, extracted_fields:Dict[str, Any], confidence_scores:Dict[str, float], db:Session, confidence_threshold:Optional[float] = None, query_id:Optional[str] = None)>Dict[str, Any]:build_audit_url,prepare_citation_metadata:"]],"app/utils/bbox_utils.py":["p",["normalize_bbox:11:(bbox:Any)>Optional[List[float]]:normalize_bbox:","format_bbox_for_frontend:76:(bbox:Any, page:Optional[int] = None)>Optional[dict]:normalize_bbox:"]],"app/utils/encryption.py":["p",["get_encryption_service:156:()>EncryptionService::","encrypt_oauth_tokens:170:(tokens:Dict[str, Any])>str:encrypt_dict,encrypt_oauth_tokens,get_encryption_service:","decrypt_oauth_tokens:191:(encrypted_str:str)>Optional[Dict[str, Any]]:decrypt_dict,decrypt_oauth_tokens,get_encryption_service:"],{"EncryptionService":["22",["__init__:33:(self, encryption_key:Optional[str] = None)::","encrypt_dict:54:(self, data:Dict[str, Any])>str:encrypt_dict:","decrypt_dict:83:(self, encrypted_str:str)>Optional[Dict[str, Any]]:decrypt_dict:","encrypt_string:111:(self, text:str)>str::","decrypt_string:131:(self, encrypted_str:str)>Optional[str]::"]]}],"app/utils/file_organization.py":["p",["get_template_folder:23:(template_name:Optional[str] = None)>str::","organize_document_file:52:(current_path:str, filename:str, template_name:Optional[str] = None)>str:get_template_folder:","organize_document_file_copy:88:(current_path:str, filename:str, template_name:Optional[str] = None)>str:get_template_folder:","get_template_document_count:123:(template_name:str)>int:get_template_folder:","list_template_folders:140:()>list[dict]::"]],"app/utils/hashing.py":["p",["calculate_file_hash:4:(file_path:str)>str::","calculate_content_hash:24:(content:bytes)>str::"]],"app/utils/organization_context.py":["p",["get_organization_context:163:(current_user:User = Depends(get_current_user), db:Session = Depends(get_db))>OrganizationContext:get_documents,query:","ensure_org_id:180:(obj, organization_id:int):ensure_org_id:","validate_org_access:198:(obj, organization_id:int):validate_org_access:"],{"OrganizationContext":["23",["get_documents:29:(org_ctx:OrganizationContext = Depends()):query:","__init__:38:(self, current_user:User = Depends(get_current_user), db:Session = Depends(get_db))::","organization:50:(self)>Optional[Organization]:query:Get the current organization","query:58:(self, model)>Query:query:","get_document:81:(self, document_id:int)>Optional[Document]:query:","get_schema:93:(self, schema_id:int)>Optional[Schema]:query:","get_physical_file:105:(self, file_id:int)>Optional[PhysicalFile]:query:","check_document_access:117:(self, document_id:int)>Document:get_document:","check_schema_access:138:(self, schema_id:int)>Schema:get_schema:"]]}],"app/utils/query_field_extractor.py":["p",["extract_fields_from_es_query:351:(es_query:Dict[str, Any])>Dict[str, Any]:extract_fields,extract_fields_from_es_query:","filter_audit_items_by_fields:374:(audit_items:List[Dict[str, Any]], queried_fields:List[str])>List[Dict[str, Any]]:filter_audit_items_by_fields:"],{"QueryFieldExtractor":["23",["__init__:62:(self, max_depth:int = 10):_reset:","_reset:72:(self)::Reset internal state for a new extraction.","extract_fields:79:(self, es_query:Dict[str, Any])>Dict[str, Any]:_extract_fields_recursive,_reset:","_extract_fields_recursive:149:(self, query_node:Any, depth:int, context:str, parent_clause:Optional[str] = None):_extract_fields_recursive,_handle_aggregations,_handle_bool_query,_handle_field_query,_handle_multi_field_query,_handle_nested_query:","_handle_bool_query:207:(self, bool_query:Dict[str, Any], depth:int, context:str):_extract_fields_recursive:Handle boolean query clauses (must/should/filter/must_not).","_handle_field_query:225:(self, query_type:str, query_value:Any, context:str, parent_clause:Optional[str]):_add_field:","_handle_multi_field_query:264:(self, query_type:str, query_value:Dict[str, Any], context:str, parent_clause:Optional[str]):_add_field:","_handle_nested_query:296:(self, nested_query:Dict[str, Any], depth:int, context:str):_extract_fields_recursive:Handle nested query with path.","_handle_aggregations:308:(self, aggs:Dict[str, Any], depth:int, context:str):_extract_fields_recursive:Handle aggregations (future support for field usage in aggs).","_add_field:321:(self, field_name:str, query_type:str, context:str, parent_clause:Optional[str], query_details:Any)::Add a field reference with context."]]}],"app/utils/reducto_validation.py":["p",["validate_field_description:42:(field:Dict[str, Any])>Tuple[bool, str]::","validate_field_name:75:(field:Dict[str, Any])>List[ReductoValidationWarning]::","detect_embedded_calculations:130:(field:Dict[str, Any])>List[ReductoValidationWarning]::","suggest_enum_fields:174:(field:Dict[str, Any])>List[ReductoValidationWarning]::","validate_extraction_hints:224:(field:Dict[str, Any])>List[ReductoValidationWarning]::","validate_schema_for_reducto:277:(schema_data:Dict[str, Any], strict:bool = False)>Dict[str, Any]:detect_embedded_calculations,suggest_enum_fields,to_dict,validate_extraction_hints,validate_field_description,validate_field_name:","format_validation_report:401:(validation_result:Dict[str, Any])>str::"],{"ReductoValidationError":["22",[]],"ReductoValidationWarning":["27",["__init__:29:(self, field_name:str, message:str, severity:str = \"warning\")::","to_dict:34:(self)>Dict[str, str]::"]]}],"app/utils/template_matching.py":["p",["hybrid_match_document:24:async (document:Document, postgres_service:PostgresService, claude_service:ClaudeService, available_templates:List[Dict[str, Any]], db:Optional[Session] = None)>Dict[str, Any]:_no_match_result,extract_field_names_from_parse:","auto_match_documents:154:async (db:Session, documents:List[Document], postgres_service:PostgresService, claude_service:ClaudeService, available_templates:List[Dict[str, Any]], threshold:float = 0.70)>List[Dict[str, Any]]:hybrid_match_document:","extract_field_names_from_parse:209:(parse_result:Dict[str, Any])>List[str]::","_no_match_result:239:(reasoning:str, error:str = None)>Dict[str, Any]::Helper to return no-match result"]],"create_admin_user.py":["p",["create_admin:16:()::"]],"diagnose_frontend.js":["j",["diagnoseFrontend:3:async ()::"]],"fix_document_75.py":["p",["fix_document_75:24:async ()::Re-extract document 75 using cached parse result."]],"mcp_server/__main__.py":["p",["show_help:33:()::Show help message","run_setup:56:()::Run setup wizard","run_health_check:62:()::Run health check","run_server:68:()::Run MCP server","main:86:():run_health_check,run_server,run_setup,show_help:Main entry point for MCP server"]],"mcp_server/config.py":["p",{"MCPConfig":["13",[]]}],"mcp_server/health_check.py":["p",["check_item:22:(name:str, check_func)>bool::Run a check and print result","check_dependencies:36:()>tuple::Check Python dependencies","check_database:63:()>tuple:test_connection:Check database connection","check_elasticsearch:88:()>tuple:test_es:Check Elasticsearch connection","check_server_load:106:()>tuple::Check if server module loads","check_templates:126:()>tuple:count_templates:Check if templates exist","check_claude_config:154:()>tuple::Check if Claude Desktop is configured","main:178:():check_item:"]],"mcp_server/prompts/analysis.py":["p",["analyze_low_confidence_prompt:15:async ()>Dict[str, Any]::","compare_templates_prompt:77:async (template_ids:str = \"\")>Dict[str, Any]::","document_summary_prompt:144:async (document_id:int = None)>Dict[str, Any]::"]],"mcp_server/resources/documents.py":["p",["get_document_fields_resource:15:async (document_id:int)>Dict[str, Any]::"]],"mcp_server/resources/stats.py":["p",["get_daily_stats_resource:17:async (days:int = 7)>Dict[str, Any]::","get_system_health_resource:50:async ()>Dict[str, Any]::","get_audit_summary_resource:93:async ()>Dict[str, Any]::"]],"mcp_server/resources/templates.py":["p",["get_all_templates_resource:16:async ()>Dict[str, Any]::","get_template_resource:51:async (template_id:int)>Dict[str, Any]::"]],"mcp_server/server.py":["p",["ask_ai:334:async (query:str, folder_path:Optional[str] = None, template_id:Optional[str] = None)>Dict[str, Any]:ask_ai:","search_documents:110:async (query:str, folder_path:Optional[str] = None, template_name:Optional[str] = None, status:Optional[str] = None, min_confidence:Optional[float] = None, limit:int = 20)>Dict[str, Any]:search_documents:","get_document_details:144:async (document_id:int)>Dict[str, Any]:get_document_details:","get_document_by_filename:167:async (filename:str, exact_match:bool = False)>Dict[str, Any]:get_document_by_filename:","list_templates:197:async ()>Dict[str, Any]:list_templates:","get_template_details:208:async (template_id:int)>Dict[str, Any]:get_template_details:","get_template_stats:225:async (template_id:Optional[int] = None, include_field_stats:bool = False)>Dict[str, Any]:get_template_stats:","compare_templates:240:async (template_ids:List[int])>Dict[str, Any]:compare_templates:","get_extraction_stats:257:async (days:int = 7, template_id:Optional[int] = None)>Dict[str, Any]:get_extraction_stats:","get_audit_queue:276:async (confidence_threshold:Optional[float] = None, template_id:Optional[int] = None, limit:int = 50)>Dict[str, Any]:get_audit_queue:","get_low_confidence_fields:300:async (min_confidence:float = 0.0, max_confidence:float = 0.6, field_name:Optional[str] = None, limit:int = 50)>Dict[str, Any]:get_low_confidence_fields:","get_audit_stats:319:async ()>Dict[str, Any]:get_audit_stats:","aggregate_field:397:async (field:str, aggregation_type:str = \"stats\", filters:Optional[Dict[str, Any]] = None, config:Optional[Dict[str, Any]] = None)>Dict[str, Any]:aggregate_field:","multi_aggregate:445:async (aggregations_list:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:multi_aggregate:","get_dashboard_stats:479:async ()>Dict[str, Any]:get_dashboard_stats:","get_field_insights:500:async (field:str)>Dict[str, Any]:get_field_insights:","templates_resource:526:async ()>str::All available document templates","template_resource:534:async (template_id:int)>str::Specific template details","daily_stats_resource:542:async ()>str::Daily processing statistics (last 7 days)","system_health_resource:550:async ()>str::System health status","audit_summary_resource:558:async ()>str::Audit queue summary statistics","document_fields_resource:566:async (document_id:int)>str::Extracted fields for a specific document","analyze_low_confidence:576:async ()>str::Analyze low-confidence extractions and identify improvement opportunities","compare_templates_prompt:583:async (template_ids:str = \"\")>str:compare_templates_prompt:Compare multiple document templates to understand similarities and differences","document_summary:590:async (document_id:Optional[int] = None)>str::Generate comprehensive document extraction summary"]],"mcp_server/services/cache_service.py":["p",["cached:194:(category:str = \"default\", key_prefix:str = \"\"):cached,decorator,get,get_all_templates,make_key,set,wrapper:"],{"CacheService":["21",["__init__:29:(self)::Initialize cache with configured max size","_get_cache_for_category:60:(self, category:str)>TTLCache:get:Get the appropriate cache based on category","get:69:(self, key:str, category:str = \"default\")>Optional[Any]:_get_cache_for_category,get:","set:93:(self, key:str, value:Any, category:str = \"default\")>None:_get_cache_for_category:","delete:109:(self, key:str, category:str = \"default\")>None:_get_cache_for_category:Delete value from cache","clear:119:(self, category:Optional[str] = None)>None:_get_cache_for_category,clear:","get_stats:140:(self)>dict::Get cache statistics","make_key:170:(*args, **kwargs)>str::"]]}],"mcp_server/services/db_service.py":["p",{"DatabaseService":["25",["__init__:33:(self)::Initialize database connection","get_session:65:async (self)>AsyncSession::Get database session","get_document:70:async (self, document_id:int)>Optional[Dict[str, Any]]::","search_documents:150:async (self, query:Optional[str] = None, template_id:Optional[int] = None, status:Optional[str] = None, min_confidence:Optional[float] = None, date_from:Optional[datetime] = None, date_to:Optional[datetime] = None, limit:int = 20, offset:int = 0)>Tuple[List[Dict[str, Any]], int]::","get_all_templates:235:async (self)>List[Dict[str, Any]]::","get_template:258:async (self, template_id:int)>Optional[Dict[str, Any]]::Get template by ID with usage statistics","get_audit_queue:301:async (self, confidence_threshold:Optional[float] = None, limit:int = 50)>List[Dict[str, Any]]::","get_daily_stats:349:async (self, days:int = 7)>Dict[str, Any]::","close:419:async (self)::Close database connections"]]}],"mcp_server/services/es_service.py":["p",{"QueryOptimizerLegacy":["26",["__init__:34:(self)::Initialize query optimizer with field mappings","understand_query_intent:53:(self, query:str, available_fields:List[str])>Dict[str, Any]:_resolve_field:","_resolve_field:152:(self, canonical_name:str, available_fields:List[str])>str::","build_optimized_query:184:(self, query:str, analysis:Dict[str, Any], available_fields:List[str])>Dict[str, Any]:_get_date_range:","_get_date_range:259:(self, range_name:str)>Dict[str, str]::Get Elasticsearch date range for common ranges"]],"ElasticsearchMCPService":["270",["__init__:276:(self)::Initialize ES service with query optimizer","search_with_context:289:async (self, query:str, available_fields:Optional[List[str]] = None, folder_path:Optional[str] = None, limit:int = 20, offset:int = 0)>Dict[str, Any]:_get_available_fields,build_optimized_query,understand_query_intent:","_get_available_fields:341:async (self)>List[str]::Get list of available fields from ES index mapping","get_document:353:async (self, document_id:int)>Optional[Dict[str, Any]]:get_document:Get document from ES by ID","get_aggregations:361:async (self, field:str, size:int = 10)>Dict[str, Any]:get_aggregations:Get aggregations for analytics","execute_custom_query:369:async (self, es_query:Dict[str, Any], limit:int = 20)>Dict[str, Any]::","health_check:392:async (self)>bool:health_check:Check ES connection health","close:396:async (self):close:Close ES connection"]]}],"mcp_server/setup.py":["p",["print_success:28:(msg:str)::","print_warning:32:(msg:str)::","print_error:36:(msg:str)::","print_info:40:(msg:str)::","check_dependencies:44:()>bool:print_error,print_info,print_success:Check if required dependencies are installed","get_claude_config_path:78:()>Optional[Path]::Get the Claude Desktop config file path","get_project_paths:103:()>dict::Auto-detect project paths","get_python_command:119:()>str::Detect the correct Python command","create_mcp_config:139:(paths:dict)>dict:get_python_command:Create the MCP server configuration","backup_config:157:(config_path:Path)>Optional[Path]::Backup existing config file","update_claude_config:167:(config_path:Path, mcp_config:dict)>bool:print_error:Update Claude Desktop config file","verify_setup:196:(paths:dict)>list::Verify setup is correct","test_mcp_server:220:()>bool:print_error,print_info,print_success:Test if MCP server can start","main:240:():backup_config,check_dependencies,create_mcp_config,get_claude_config_path,get_project_paths,print_error,print_info,print_success,print_warning,test_mcp_server,update_claude_config,verify_setup:Main setup function"]],"mcp_server/tools/aggregations.py":["p",["aggregate_field:23:async (field:str, aggregation_type:str = \"stats\", filters:Optional[Dict[str, Any]] = None, config:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_format_agg_summary,aggregate_field:","multi_aggregate:144:async (aggregations:List[Dict[str, Any]], filters:Optional[Dict[str, Any]] = None)>Dict[str, Any]:_format_multi_agg_summary,multi_aggregate:","get_dashboard_stats:230:async ()>Dict[str, Any]:_format_dashboard_summary,get_dashboard_stats:","get_field_insights:295:async (field:str)>Dict[str, Any]:_format_insights_summary,get_field_insights:","_format_agg_summary:366:(agg_type:str, results:Dict[str, Any])>str::Format aggregation results into human-readable summary.","_format_multi_agg_summary:390:(aggregations:List[Dict], results:Dict)>str:_format_agg_summary:Format multi-aggregation results.","_format_dashboard_summary:402:(results:Dict)>str::Format dashboard results.","_format_insights_summary:411:(field:str, insights:Dict)>str::Format field insights summary."]],"mcp_server/tools/ai_search.py":["p",["format_answer_for_claude:19:(answer_text:str, audit_items:list)>str:replace_marker:","ask_ai:78:async (query:str, folder_path:Optional[str] = None, template_id:Optional[str] = None)>Dict[str, Any]:ask_ai,format_answer_for_claude:"]],"mcp_server/tools/analytics.py":["p",["get_extraction_stats:19:async (days:int = 7, template_id:Optional[int] = None)>Dict[str, Any]:get_extraction_stats:","get_confidence_distribution:62:async (template_id:Optional[int] = None, days:Optional[int] = None)>Dict[str, Any]:get_confidence_distribution:","get_processing_timeline:123:async (days:int = 30, granularity:str = \"daily\")>Dict[str, Any]:get_processing_timeline:","get_field_accuracy_report:161:async (template_id:int, field_name:Optional[str] = None)>Dict[str, Any]:get_field_accuracy_report:"]],"mcp_server/tools/audit.py":["p",["get_audit_queue:20:async (confidence_threshold:Optional[float] = None, template_id:Optional[int] = None, limit:int = 50)>Dict[str, Any]:get_audit_queue:","get_low_confidence_fields:112:async (min_confidence:float = 0.0, max_confidence:float = 0.6, field_name:Optional[str] = None, limit:int = 50)>Dict[str, Any]:get_audit_queue,get_low_confidence_fields:","get_audit_stats:165:async ()>Dict[str, Any]:get_audit_queue,get_audit_stats:","get_verification_history:224:async (document_id:Optional[int] = None, days:int = 30, limit:int = 50)>Dict[str, Any]:get_verification_history:"]],"mcp_server/tools/documents.py":["p",["search_documents:24:async (query:str, folder_path:Optional[str] = None, template_name:Optional[str] = None, status:Optional[str] = None, min_confidence:Optional[float] = None, limit:int = 20)>Dict[str, Any]:search_documents:","get_document_details:111:async (document_id:int)>Dict[str, Any]:get_document_details:","get_document_by_filename:173:async (filename:str, exact_match:bool = False)>Dict[str, Any]:get_document_by_filename,search_documents:","get_recent_documents:239:async (days:int = 7, limit:int = 20, status:Optional[str] = None)>Dict[str, Any]:get_recent_documents,search_documents:"]],"mcp_server/tools/templates.py":["p",["list_templates:15:async ()>Dict[str, Any]:list_templates:","get_template_details:57:async (template_id:int)>Dict[str, Any]:get_template_details:","get_template_stats:112:async (template_id:Optional[int] = None, include_field_stats:bool = False)>Dict[str, Any]:get_template_stats:","compare_templates:177:async (template_ids:List[int])>Dict[str, Any]:compare_templates:"]],"migrations/add_background_jobs_table.py":["p",["run_migration:25:()::Create background_jobs table","rollback_migration:36:()::Drop background_jobs table"]],"migrations/add_complex_data_support.py":["p",["migrate:17:():rollback:Run the migration","rollback:175:():rollback:Rollback the migration (for development only)"]],"migrations/add_oauth_and_organizations.py":["p",["run_migration:40:()::"]],"migrations/add_pipeline_fields.py":["p",["migrate:18:()::Add pipeline fields to documents table","rollback:45:()::Remove pipeline fields (SQLite doesn't support DROP COLUMN easily)"]],"migrations/add_query_history.py":["p",["migrate:29:()::Add query_history table to database"]],"migrations/add_semantic_search_fields.py":["p",["migrate:19:():rollback:Run the migration","rollback:81:()::Rollback the migration (optional)"]],"migrations/add_validation_metadata.py":["p",["upgrade:16:(op, sa):add_column,execute:Add validation metadata columns to extracted_fields table","downgrade:51:(op, sa):drop_column:Remove validation metadata columns"]],"migrations/create_postgres_search_tables.py":["p",["create_extensions:18:()::Create required PostgreSQL extensions","create_tables:32:()::Create search index tables","create_generated_columns:44:()::Create generated tsvector columns","create_trigger_function:80:()::Create trigger function for updated_at","verify_setup:112:()::Verify the setup","main:141:():create_extensions,create_generated_columns,create_tables,create_trigger_function,verify_setup:Run the migration"]],"migrations/link_documents_to_physical_files.py":["p",["migrate_documents_to_physical_files:41:(db:Session, dry_run:bool = False, force:bool = False)::","main:193:():migrate_documents_to_physical_files:"]],"migrations/migrate_es_to_postgres.py":["p",["migrate_documents:21:async (batch_size:int = 100)::","migrate_template_signatures:114:async ()::","verify_migration:162:async ()::","main:197:async ():migrate_documents,migrate_template_signatures,verify_migration:Run the migration"]],"s/create_test_user.py":["p",["create_or_update_test_user:30:()::Create or update the test admin user."]],"s/generate_test_data.py":["p",["generate_test_data:15:()::Create 5 test documents with low-confidence fields"]],"test_aggregation_fix.py":["p",["test_aggregation_answer_generation:21:async ()::Test that _generate_aggregation_answer formats answers correctly.","test_answer_caching:116:async ()::Test that answer caching works correctly.","test_sql_filtering_optimization:179:async ()::Test that SQL filtering optimization works.","main:217:async ():test_aggregation_answer_generation,test_answer_caching,test_sql_filtering_optimization:Run all tests."]],"test_askai_integration.py":["p",["test_health:19:()::Test 1: Verify backend is running","test_elasticsearch:31:()::Test 2: Verify Elasticsearch is running","test_templates_endpoint:45:()::Test 3: Fetch templates for dropdown","test_search_without_filter:70:()::Test 4: Search without template filter","test_search_with_template_filter:106:(template_id:int, template_name:str)::Test 5: Search with template filter","test_error_handling:154:()::Test 6: Error handling scenarios","test_audit_metadata:184:()::Test 7: Verify audit metadata is included","test_frontend_compatibility:232:()::Test 8: Verify response format matches frontend expectations","run_integration_tests:279:():test_audit_metadata,test_elasticsearch,test_error_handling,test_frontend_compatibility,test_health,test_search_with_template_filter,test_search_without_filter,test_templates_endpoint:Run all integration tests"]],"test_bbox_conversion.py":["p",["test_bbox_conversion:15:()::Test various bbox format conversions"]],"test_export_validation.py":["p",["create_test_documents:43:():add_field:Create mock documents with various field types","test_detect_complex_fields:77:():create_test_documents:Test: Detect complex fields in documents","test_documents_to_records:100:():create_test_documents:Test: Convert documents with complex fields to records","test_create_table_sheet:131:():create_test_documents:Test: Create DataFrame for table field","test_create_array_of_objects_sheet:159:():create_test_documents:Test: Create DataFrame for array_of_objects field","test_excel_multi_sheet:187:():create_test_documents:Test: Export to Excel with multiple sheets","test_csv_export:240:():create_test_documents:Test: CSV export with complex fields as strings","test_json_export:277:():create_test_documents:Test: JSON export preserves complex structures","run_all_tests:309:()::Run all validation tests"],{"MockField":["18",["__init__:19:(self, name, field_type, value, value_json=None, verified=False, confidence=0.9)::"]],"MockDocument":["29",["__init__:30:(self, doc_id, filename, status=\"completed\")::","add_field:38:(self, field)::"]]}],"test_mcp_api_responses.py":["p",["test_mcp_rag_response:13:()::Test /api/mcp/rag endpoint returns structured URLs","main:133:():test_mcp_rag_response:Run MCP API response tests"]],"test_mcp_structured_urls.py":["p",["test_audit_queue_response:25:async ()::Test get_audit_queue returns structured URLs","test_audit_stats_response:125:async ()::Test get_audit_stats returns structured URLs","test_url_format:201:async ()::Test that URLs are properly formatted","main:268:async ():test_audit_queue_response,test_audit_stats_response,test_url_format:Run all MCP structured URL tests"]],"test_prompt_caching.py":["p",["test_parse_natural_language_query:18:async ()::Test prompt caching on NL query parsing (highest traffic)","test_answer_generation:85:async ()::Test prompt caching on answer generation (highest traffic)","main:173:async ():test_answer_generation,test_parse_natural_language_query:Run all tests"]],"test_reducto_citations.py":["p",["test_citations:9:async ():upload_file:Test extraction response structure."]],"test_reducto_debug.py":["p",["test_debug:9:async ():upload_file:Test with detailed debugging."]],"test_reducto_integration.py":["p",["test_claude_prompt_integration:21:()::Test that Claude's prompts enforce Reducto requirements","test_validation_helper_functions:59:()::Test individual validation helper functions","test_builtin_templates_validation:90:()::Test that all built-in templates are valid","test_schema_validation_edge_cases:118:()::Test edge cases and error handling","test_validation_report_formatting:192:()::Test that validation reports are properly formatted","test_integration_with_endpoints:228:()::Test that validation is called in all relevant endpoints"]],"test_reducto_simple.py":["p",["test_simple_extraction:8:async ()::Test with minimal schema - just one text field."]],"test_reducto_validation.py":["p",["test_valid_schema:19:()::Test a well-formed schema that should pass validation","test_invalid_schema:78:()::Test schema with missing required fields (descriptions)","test_schema_with_warnings:122:()::Test schema that's valid but has warnings","test_complex_data_schema:174:()::Test schema with complex types (arrays, tables)"]],"test_search_mock.py":["p",["search:27:async (request:SearchRequest)::Mock search endpoint that returns sample data with low-confidence fields","health:92:async ()::"],{"SearchRequest":["21",[]]}],"t/conftest.py":["p",["db_session:23:()::","client:37:(db_session):override_get_db:","sample_schema:54:()::","sample_reducto_response:90:()::","sample_extraction:117:()::"]],"t/test_analytics.py":["p",["test_get_dashboard_metrics_empty:12:(client, db_session)::Test dashboard metrics with no data","test_get_dashboard_metrics_with_data:24:(client, db_session)::Test dashboard metrics with sample data","test_get_schema_stats:106:(client, db_session)::Test schema statistics endpoint","test_get_trends:177:(client, db_session)::Test trends endpoint","test_get_trends_custom_days:224:(client, db_session)::Test trends endpoint with custom day range","test_dashboard_confidence_by_field:235:(client, db_session)::Test confidence aggregation by field"]],"t/test_api_audit.py":["p",["client:15:()::Create test client.","test_get_audit_queue_success:21:(client, db_session)::Test getting audit queue.","test_get_audit_queue_with_filters:55:(client, db_session)::Test getting audit queue with filters.","test_get_audit_queue_count_only:65:(client, db_session)::Test getting audit queue count only.","test_get_audit_queue_by_priority:76:(client, db_session)::Test getting audit queue filtered by priority.","test_get_document_audit_fields:86:(client, db_session)::Test getting audit fields for specific document.","test_get_document_audit_fields_not_found:120:(client)::Test getting audit fields for non-existent document.","test_verify_field_correct:128:(client, db_session)::Test verifying field as correct.","test_verify_field_incorrect:168:(client, db_session)::Test verifying field as incorrect with correction.","test_verify_field_not_found:210:(client, db_session)::Test verifying field as not found.","test_verify_field_invalid_action:250:(client, db_session)::Test verifying field with invalid action.","test_verify_field_missing_corrected_value:284:(client, db_session)::Test verifying field as incorrect without corrected value.","test_verify_and_regenerate:318:(client, db_session)::Test verify field and regenerate answer.","test_bulk_verify_fields:376:(client, db_session)::Test bulk field verification.","test_get_audit_stats:426:(client, db_session)::Test getting audit statistics.","test_verify_field_updates_elasticsearch:438:(client, db_session)::Test that field verification updates Elasticsearch.","test_verify_field_returns_next_item:478:(client, db_session)::Test that field verification returns next item in queue."]],"t/test_api_search.py":["p",["client:13:()::Create test client.","mock_services:19:()::Mock all external services.","test_search_documents_simple_query:47:(client, mock_services)::Test simple search query.","test_search_documents_with_filters:93:(client, mock_services)::Test search with filters.","test_search_documents_low_confidence_uses_claude:139:(client, mock_services)::Test that low confidence queries use Claude.","test_search_documents_with_folder_filter:184:(client, mock_services)::Test search with folder path filter.","test_search_documents_with_conversation_history:226:(client, mock_services)::Test search with conversation history.","test_search_documents_aggregation_query:276:(client, mock_services)::Test aggregation query.","test_search_documents_empty_results:326:(client, mock_services)::Test search with no results.","test_get_available_filters:368:(client)::Test getting available filters.","test_get_index_statistics:390:(client)::Test getting index statistics.","test_search_documents_invalid_request:410:(client)::Test search with invalid request.","test_search_documents_with_audit_metadata:418:(client, mock_services)::Test search returns audit metadata for low confidence fields."]],"t/test_audit_helpers.py":["p",["test_data:20:(db:Session)::Create test documents with varying confidence scores.","test_get_low_confidence_fields_returns_only_low_conf:131:async (db:Session, test_data)::Test that only fields below threshold are returned.","test_get_low_confidence_fields_includes_audit_url:152:async (db:Session, test_data)::Test that audit URLs are properly formatted.","test_get_low_confidence_fields_includes_bbox_metadata:175:async (db:Session, test_data)::Test that source page and bbox are included.","test_get_low_confidence_fields_excludes_verified:193:async (db:Session, test_data)::Test that verified fields are excluded by default.","test_get_low_confidence_fields_includes_verified_when_requested:215:async (db:Session, test_data)::Test that verified fields can be included if requested.","test_get_low_confidence_fields_empty_document_list:238:async (db:Session)::Test handling of empty document list.","test_get_confidence_summary_calculates_correctly:251:async (db:Session, test_data)::Test that confidence summary statistics are accurate.","test_get_confidence_summary_multiple_documents:273:async (db:Session, test_data)::Test confidence summary across multiple documents.","test_get_confidence_summary_empty_documents:294:async (db:Session)::Test confidence summary with no documents.","test_build_audit_url_basic:310:()::Test basic audit URL generation.","test_build_audit_url_with_custom_source:321:()::Test audit URL with custom source.","test_build_audit_url_with_query_id:333:()::Test audit URL with query ID for tracking.","test_build_audit_url_no_highlight:345:()::Test audit URL without auto-highlight.","test_get_low_confidence_fields_groups_by_document:358:async (db:Session, test_data)::Test that results are properly grouped by document_id.","test_get_low_confidence_fields_uses_settings_threshold:386:async (db:Session, test_data)::Test that default threshold comes from settings."]],"t/test_claude_service.py":["p",["test_analyze_sample_documents_success:13:async (sample_schema)::Test successful schema generation","test_analyze_sample_documents_no_docs:39:async ()::Test schema generation with no documents","test_analyze_sample_documents_invalid_json:51:async ()::Test handling invalid JSON response","test_analyze_sample_documents_missing_fields:75:async ()::Test handling schema with missing required fields","test_generate_reducto_config:101:async (sample_schema)::Test Reducto config generation from schema","test_improve_extraction_rules:115:async ()::Test extraction rule improvement","test_suggest_field_from_description:141:async ()::Test field suggestion from natural language","test_build_schema_generation_prompt:168:()::Test schema generation prompt building","test_schema_generation_includes_search_metadata:204:async ()::Test that generated schemas include search_metadata for each field","test_schema_generation_includes_aggregation_metadata:288:async ()::Test that numeric fields include aggregation_metadata","test_semantic_field_mapping_guide_uses_search_metadata:350:()::Test that semantic field mapping guide uses schema search_metadata","test_semantic_field_mapping_guide_fallback_without_metadata:443:()::Test that guide falls back gracefully when search_metadata is missing","test_schema_registry_prefers_schema_aliases:485:()::Test that SchemaRegistry uses schema-provided aliases","test_schema_registry_generates_aliases_fallback:514:()::Test that SchemaRegistry falls back to auto-generation when no aliases"]],"t/test_elasticsearch_service.py":["p",["es_service:13:()::Create ElasticsearchService instance with mocked client.","sample_schema:22:()::Sample schema for testing.","test_create_index_success:55:async (es_service, sample_schema)::Test successful index creation.","test_create_index_update_existing:70:async (es_service, sample_schema)::Test updating existing index.","test_get_es_field_type:82:(es_service)::Test field type mapping.","test_build_complex_field_mapping_array:93:(es_service)::Test array field mapping.","test_build_complex_field_mapping_array_of_objects:109:(es_service)::Test array_of_objects field mapping.","test_build_complex_field_mapping_table:131:(es_service)::Test table field mapping.","test_index_document_success:156:async (es_service, sample_schema)::Test successful document indexing.","test_index_document_with_low_confidence:198:async (es_service, sample_schema)::Test document indexing with low confidence fields.","test_build_canonical_fields:227:(es_service)::Test canonical field mapping.","test_search_with_query:249:async (es_service)::Test search with text query.","test_search_with_filters:287:async (es_service)::Test search with filters.","test_search_with_custom_query:312:async (es_service)::Test search with custom query.","test_get_document_success:335:async (es_service)::Test getting document by ID.","test_get_document_not_found:353:async (es_service)::Test getting non-existent document.","test_update_document:364:async (es_service)::Test updating document fields.","test_delete_document:379:async (es_service)::Test deleting document.","test_get_aggregations:390:async (es_service)::Test getting aggregations.","test_get_multi_aggregations:414:async (es_service)::Test multiple aggregations in one request.","test_health_check:440:async (es_service)::Test Elasticsearch health check.","test_optimize_for_bulk_indexing:451:async (es_service)::Test bulk indexing optimization.","test_refresh_index:462:async (es_service)::Test index refresh.","test_calculate_text_similarity:472:(es_service)::Test text similarity calculation.","test_find_similar_templates:485:async (es_service)::Test finding similar templates.","test_cluster_uploaded_documents:514:async (es_service)::Test document clustering."]],"t/test_field_validation.py":["p",{"TestArrayFieldValidation":["22",["test_array_field_with_item_type:25:(self)::Test that array fields with item_type are preserved.","test_array_field_missing_item_type_defaults_to_text:44:(self)::Test that array fields without item_type default to 'text'.","test_array_field_type_normalization:57:(self)::Test that 'ARR', 'arr', 'list' are normalized to 'array'."]],"TestTableFieldValidation":["81",["test_table_field_valid_schema:84:(self)::Test that table fields with complete schema are accepted.","test_table_field_missing_schema_raises_error:107:(self)::Test that table fields without table_schema raise ValueError.","test_table_field_missing_row_identifier_raises_error:123:(self)::Test that table schema without row_identifier raises ValueError.","test_table_field_missing_columns_raises_error:141:(self)::Test that table schema without columns raises ValueError.","test_table_field_missing_value_type_defaults_to_string:159:(self)::Test that table schema without value_type defaults to 'string'.","test_table_type_normalization:176:(self)::Test that 'TBL', 'tbl', 'grid' are normalized to 'table'."]],"TestArrayOfObjectsValidation":["203",["test_array_of_objects_valid_schema:206:(self)::Test that array_of_objects with object_schema are accepted.","test_array_of_objects_missing_object_schema_raises_error:228:(self)::Test that array_of_objects without object_schema raises ValueError."]],"TestStandardFieldNormalization":["245",["test_all_fields_get_required_property:248:(self)::Test that all fields get 'required' property with default False.","test_all_fields_get_description_property:261:(self)::Test that all fields get 'description' property with default empty string.","test_all_fields_get_extraction_hints_property:272:(self)::Test that all fields get 'extraction_hints' property with default empty list.","test_all_fields_get_confidence_threshold_property:283:(self)::Test that all fields get 'confidence_threshold' property with default 0.75.","test_existing_properties_are_preserved:294:(self)::Test that existing properties are not overwritten."]],"TestComplexFieldCombinations":["315",["test_mixed_field_types:318:(self)::Test validation with mix of simple and complex fields.","test_multiple_complex_fields:358:(self)::Test validation with multiple complex fields."]],"TestEdgeCases":["407",["test_empty_fields_list:410:(self)::Test that empty fields list returns empty list.","test_field_with_all_properties_already_set:418:(self)::Test that fields with all properties already set are not modified.","test_case_insensitive_type_normalization:443:(self)::Test that type normalization is case-insensitive."]]}],"t/test_mcp_audit_integration.py":["p",["client:17:()::Create test client.","test_documents_with_low_confidence:23:(db:Session)::Create test documents with low-confidence fields for RAG testing.","test_mcp_rag_includes_audit_items_for_low_confidence:139:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that RAG endpoint includes audit_items for low-confidence fields.","test_mcp_rag_confidence_summary_accurate:220:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that confidence_summary statistics are accurate.","test_mcp_rag_data_quality_object:264:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that data_quality provides quick overview.","test_mcp_rag_no_audit_items_for_high_confidence:306:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that no audit_items when all fields are high confidence.","test_mcp_rag_backward_compatible:346:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that all existing response fields are still present.","test_mcp_rag_next_steps_includes_audit_recommendation:394:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that next_steps includes audit recommendation when needed.","test_mcp_rag_audit_url_includes_correct_source:433:(client:TestClient, test_documents_with_low_confidence, mock_elasticsearch, mock_claude)::Test that audit URLs have source=mcp_rag for tracking."]],"t/test_oauth_integration.py":["p",["test_organization:369:(db:Session)>Organization::Create a test organization","test_invite:379:(db:Session, test_organization:Organization, test_user:User)>OrganizationInvite::Create a test invitation","generate_test_token:394:(user:User)>str::Generate a test JWT token for a user"],{"TestOAuthFlow":["16",["test_google_oauth_not_configured_returns_503:19:(self, client:TestClient)::Test that OAuth endpoints return 503 when not configured","test_unsupported_provider_returns_400:33:(self, client:TestClient)::Test that unsupported providers return 400"]],"TestOrganizationManagement":["39",["test_create_organization:42:(self, client:TestClient, auth_headers:dict)::Test creating a new organization","test_get_my_organization:57:(self, client:TestClient, auth_headers:dict, test_organization:Organization)::Test getting current user's organization","test_cannot_create_org_if_already_member:69:(self, client:TestClient, auth_headers:dict)::Test that users can't create org if already a member"]],"TestInvitationSystem":["89",["test_create_invitation:92:(self, client:TestClient, auth_headers:dict, test_organization:Organization)::Test creating an invitation","test_accept_invitation:117:(self, client:TestClient, db:Session, test_organization:Organization, test_invite:OrganizationInvite):generate_test_token:Test accepting an invitation","test_expired_invite_returns_400:147:(self, client:TestClient, auth_headers:dict, expired_invite:OrganizationInvite)::Test that expired invites cannot be accepted"]],"TestMultiTenancyIsolation":["159",["test_document_isolation:168:(self, client:TestClient, db:Session, test_user1:User, # Org 1 test_user2:User # Org 2):generate_test_token:Test that users can only access documents from their organization","test_schema_isolation:213:(self, client:TestClient, db:Session, test_user1:User, # Org 1 test_user2:User # Org 2):generate_test_token:Test that users can only access schemas from their organization","test_physical_file_isolation:254:(self, client:TestClient, db:Session, test_user1:User, test_user2:User)::Test that file deduplication works per-organization"]],"TestMemberManagement":["287",["test_list_members:290:(self, client:TestClient, auth_headers:dict, test_organization:Organization)::Test listing organization members","test_remove_member:310:(self, client:TestClient, db:Session, test_organization:Organization, owner_user:User, member_user:User):generate_test_token:Test removing a member from organization","test_cannot_remove_owner:330:(self, client:TestClient, test_organization:Organization, owner_user:User):generate_test_token:Test that organization owner cannot be removed","test_change_member_role:349:(self, client:TestClient, db:Session, test_organization:Organization, owner_user:User, member_user:User):generate_test_token:Test changing a member's role"]]}],"t/test_query_field_extraction.py":["p",{"TestSimpleQueries":["15",["test_match_query:18:(self)::Test field extraction from match query.","test_term_query:27:(self)::Test field extraction from term query.","test_range_query:35:(self)::Test field extraction from range query.","test_exists_query:43:(self)::Test field extraction from exists query.","test_prefix_query:50:(self)::Test field extraction from prefix query."]],"TestMultiFieldQueries":["58",["test_multi_match_query:61:(self)::Test field extraction from multi_match query.","test_query_string:77:(self)::Test field extraction from query_string.","test_multi_match_with_boost:89:(self)::Test field extraction with boost syntax."]],"TestBoolQueries":["103",["test_simple_bool_must:106:(self)::Test bool query with must clause.","test_bool_with_filter:121:(self)::Test bool query with filter clause.","test_nested_bool_queries:138:(self)::Test deeply nested bool queries.","test_bool_must_not:161:(self)::Test bool query with must_not clause."]],"TestComplexQueries":["175",["test_invoice_search_query:178:(self)::Test realistic invoice search query.","test_empty_query:205:(self)::Test extraction from empty query.","test_malformed_query:213:(self)::Test extraction from malformed query doesn't crash."]],"TestSyntheticFields":["223",["test_synthetic_field_detection:226:(self)::Test that synthetic fields are separated.","test_multiple_synthetic_fields:242:(self)::Test multiple synthetic fields are flagged."]],"TestFieldContexts":["258",["test_field_multiple_contexts:261:(self)::Test field used in multiple query contexts.","test_field_clause_details:277:(self)::Test detailed clause information is captured."]],"TestAuditItemFiltering":["289",["test_filter_audit_items:292:(self)::Test basic audit item filtering.","test_filter_no_matches:306:(self)::Test filtering when no fields match.","test_filter_all_match:318:(self)::Test filtering when all fields match.","test_filter_empty_audit_items:330:(self)::Test filtering with empty audit items list.","test_filter_empty_queried_fields:339:(self)::Test filtering with empty queried fields."]],"TestExtractorConfiguration":["351",["test_max_depth_limit:354:(self)::Test that max depth limit is respected.","test_extractor_reuse:365:(self)::Test that extractor can be reused for multiple queries."]],"TestEdgeCases":["380",["test_none_query:383:(self)::Test handling of None query.","test_string_query:388:(self)::Test handling of string instead of dict.","test_list_query:393:(self)::Test handling of list of queries.","test_query_with_null_values:404:(self)::Test query with null field values.","test_wildcard_in_field_name:417:(self)::Test handling of wildcard in field names."]],"TestStatistics":["431",["test_statistics_counts:434:(self)::Test that statistics are calculated correctly.","test_statistics_with_duplicates:451:(self)::Test statistics when same field appears multiple times."]]}],"t/test_query_optimizer.py":["p",["optimizer:11:()::Create QueryOptimizer instance.","available_fields:17:()::Sample available fields.","test_understand_query_intent_retrieve:30:(optimizer, available_fields)::Test intent detection for retrieve queries.","test_understand_query_intent_aggregate:41:(optimizer, available_fields)::Test intent detection for aggregate queries.","test_understand_query_intent_filter:52:(optimizer, available_fields)::Test intent detection for filter queries.","test_extract_numeric_filters_over:62:(optimizer, available_fields)::Test extracting 'over X' numeric filters.","test_extract_numeric_filters_under:76:(optimizer, available_fields)::Test extracting 'under X' numeric filters.","test_extract_numeric_filters_between:90:(optimizer, available_fields)::Test extracting 'between X and Y' numeric filters.","test_extract_date_filters_last_week:105:(optimizer, available_fields)::Test extracting 'last week' date filters.","test_extract_date_filters_last_month:118:(optimizer, available_fields)::Test extracting 'last month' date filters.","test_extract_date_filters_today:131:(optimizer, available_fields)::Test extracting 'today' date filters.","test_extract_text_filters_quoted:144:(optimizer, available_fields)::Test extracting quoted text filters.","test_extract_text_filters_status:157:(optimizer, available_fields)::Test extracting status filters.","test_detect_exact_match_requirement:171:(optimizer, available_fields)::Test detecting exact match requirements.","test_detect_full_text_requirement:181:(optimizer, available_fields)::Test detecting full text search requirement.","test_detect_sort_recent:191:(optimizer, available_fields)::Test detecting recent/latest sorting.","test_detect_sort_oldest:203:(optimizer, available_fields)::Test detecting oldest sorting.","test_detect_aggregation_sum:215:(optimizer, available_fields)::Test detecting sum aggregation.","test_detect_aggregation_average:227:(optimizer, available_fields)::Test detecting average aggregation.","test_detect_aggregation_count:239:(optimizer, available_fields)::Test detecting count aggregation.","test_resolve_field_exact_match:251:(optimizer, available_fields)::Test field resolution with exact match.","test_resolve_field_alias_match:259:(optimizer, available_fields)::Test field resolution with alias match.","test_find_target_field_with_context:268:(optimizer, available_fields)::Test finding target field with query context.","test_build_optimized_query_exact:278:(optimizer, available_fields)::Test building exact match query.","test_build_optimized_query_full_text:296:(optimizer, available_fields)::Test building full text search query.","test_build_optimized_query_with_range_filter:314:(optimizer, available_fields)::Test building query with range filter.","test_build_optimized_query_with_date_range:339:(optimizer, available_fields)::Test building query with date range filter.","test_build_optimized_query_with_term_filter:363:(optimizer, available_fields)::Test building query with term filter.","test_get_date_range_today:387:(optimizer)::Test getting date range for 'today'.","test_get_date_range_last_week:397:(optimizer)::Test getting date range for 'last week'.","test_get_date_range_last_30_days:406:(optimizer)::Test getting date range for 'last 30 days'.","test_should_use_claude_low_confidence:416:(optimizer)::Test Claude usage decision for low confidence.","test_should_use_claude_high_confidence:429:(optimizer)::Test Claude usage decision for high confidence.","test_should_use_claude_complex_aggregations:442:(optimizer)::Test Claude usage decision for complex aggregations.","test_complex_query_with_multiple_filters:458:(optimizer, available_fields)::Test complex query with multiple filters.","test_confidence_calculation:469:(optimizer, available_fields)::Test confidence score calculation.","test_initialize_from_registry:482:async (optimizer):get_canonical_field_mapping:Test initialization from schema registry."]],"t/test_reducto_service.py":["p",["test_parse_document_success:12:async ()::Test successful document parsing","test_parse_document_file_not_found:48:async ()::Test parsing with non-existent file","test_parse_document_api_error:60:async ()::Test handling Reducto API errors","test_extract_confidence_scores:77:()::Test confidence score extraction from chunks","test_get_confidence_label:99:()::Test confidence label generation","test_extract_field_from_chunks:109:()::Test field extraction from chunks using hints","test_extract_field_from_chunks_not_found:138:()::Test field extraction when hint not found","test_extract_value_after_hint:157:()::Test value extraction after hint"]],"t/test_template_creation_integration.py":["p",["db:25:()::Get database session for testing.","mock_document:40:(db:Session)::Create a mock document with PhysicalFile for testing."],{"TestArrayFieldValidation":["75",["test_array_field_with_item_type:78:(self, mock_document)::Test that array fields with item_type are accepted.","test_array_field_missing_item_type_defaults_to_text:105:(self, mock_document)::Test that array fields without item_type default to 'text'.","test_array_field_type_normalization:126:(self, mock_document)::Test that 'ARR' and 'list' are normalized to 'array'."]],"TestTableFieldValidation":["150",["test_table_field_valid_schema:153:(self, mock_document)::Test that table fields with complete schema are accepted.","test_table_field_missing_schema:181:(self, mock_document)::Test that table fields without table_schema are rejected.","test_table_field_missing_row_identifier:202:(self, mock_document)::Test that table schema without row_identifier is rejected.","test_table_field_missing_value_type_defaults_to_string:225:(self, mock_document)::Test that table schema without value_type defaults to 'string'."]],"TestArrayOfObjectsValidation":["249",["test_array_of_objects_valid_schema:252:(self, mock_document)::Test that array_of_objects with object_schema are accepted.","test_array_of_objects_missing_object_schema:280:(self, mock_document)::Test that array_of_objects without object_schema is rejected."]],"TestErrorHandling":["301",["test_duplicate_template_name:304:(self, mock_document, db:Session)::Test that duplicate template names return descriptive error.","test_missing_document_ids:331:(self)::Test error when document_ids are missing.","test_invalid_document_ids:343:(self)::Test error when document_ids don't exist."]],"TestComplexFieldCombinations":["358",["test_mixed_field_types:361:(self, mock_document)::Test template with mix of simple and complex fields."]],"TestFieldNormalization":["420",["test_all_fields_get_standard_properties:423:(self, mock_document)::Test that all fields get standard properties after normalization."]],"TestComplexityAssessment":["467",["test_simple_template_complexity:470:(self, mock_document)::Test that simple templates have low complexity scores.","test_complex_template_with_tables:491:(self, mock_document)::Test that templates with tables/arrays have higher complexity."]]}],"t/test_validation_service.py":["p",["validator:23:()::Create validator instance","invoice_template:29:()::Mock invoice template with validation rules"],{"MockTemplate":["13",["__init__:16:(self, name:str, extraction_fields:list)::"]],"TestDynamicModelGeneration":["84",["test_create_validation_model:88:async (self, validator, invoice_template)::Test creating a Pydantic model from template schema","test_model_caching:99:async (self, validator, invoice_template)::Test that validation models are cached","test_type_mapping:107:async (self, validator)::Test field type mapping to Pydantic types"]],"TestFieldValidation":["127",["test_valid_extraction:131:async (self, validator, invoice_template)::Test validation passes for valid data","test_required_field_missing:151:async (self, validator, invoice_template)::Test validation fails when required field is missing","test_pattern_validation:169:async (self, validator, invoice_template)::Test pattern validation for text fields","test_range_validation:186:async (self, validator, invoice_template)::Test min/max validation for numbers","test_length_validation:217:async (self, validator, invoice_template)::Test string length validation"]],"TestBusinessRulesValidation":["234",["test_invoice_business_rules:238:async (self, validator)::Test invoice-specific business rules","test_contract_business_rules:257:async (self, validator)::Test contract-specific business rules"]],"TestCrossFieldValidation":["273",["test_invoice_date_range:277:async (self, validator)::Test that due_date is after invoice_date","test_contract_date_range:295:async (self, validator)::Test that expiration_date is after effective_date"]],"TestConfidenceAdjustment":["311",["test_high_confidence_downgrade:315:async (self, validator)::Test that high confidence + error = warning (might be false positive)","test_low_confidence_error:340:async (self, validator)::Test that low confidence + error = error (likely correct)"]],"TestReviewFlagging":["364",["test_flag_validation_errors:367:(self)::Always flag validation errors","test_flag_low_confidence:372:(self)::Flag low confidence extractions","test_flag_medium_confidence_with_warning:377:(self)::Flag medium confidence with validation warning","test_dont_flag_high_confidence_valid:381:(self)::Don't flag high confidence valid extractions"]],"TestComplexDataTypes":["387",["test_array_validation:391:async (self, validator)::Test validation of array fields","test_table_validation:428:async (self, validator)::Test validation of table (array_of_objects) fields"]],"TestIntegration":["459",["test_validation_in_extraction_flow:463:async (self, validator, invoice_template)::Test validation integrates with extraction pipeline"]]}],"validate_builtin_templates.py":["p",["validate_all_builtin_templates:18:()::Validate all built-in templates"]]},"g":[["get_query_suggestions","get_query_suggestions"],["AnswerCache.get","AnswerCache.get"],["OAuthService.find_or_create_user","store_tokens_on_user"],["ElasticsearchError.__init__","ResourceNotFoundError.__init__"],["ExternalServiceError.__init__","FieldExtractionService.__init__"],["PermissionService.revoke_role","PermissionService._audit_log"],["ExternalServiceError.__init__","PermissionDeniedError.__init__"],["PermissionService.create_share_link","require_document_access"],["ConfigurationError.__init__","FieldNormalizer.__init__"],["update_setting","get_default_context"],["PermissionService.revoke_share_link","PermissionService.require_document_access"],["check_elasticsearch","test_es"],["ClaudeError.__init__","CacheService.__init__"],["FieldNormalizer._expand_canonical_fields","_expand_canonical_fields"],["PostgresService.get_multi_aggregations","ElasticsearchMCPService.get_aggregations"],["read_resource","_get_statistics"],["CacheService.set","CacheService._get_cache_for_category"],["ReductoService.parse_document","ReductoService.upload_file"],["ReductoService.extract_structured","FileService.upload_file"],["PaperbaseException.__init__","OAuthService.__init__"],["FileUploadError.__init__","__init__"],["ExternalServiceError.__init__","MockTemplate.__init__"],["test_debug","FileService.upload_file"],["multi_aggregate","multi_aggregate"],["ElasticsearchError.__init__","FieldExtractionService.__init__"],["ReductoError.__init__","QueryExpansionService.__init__"],["main","print_info"],["test_initialize_from_registry","get_canonical_field_mapping"],["PaperbaseException.__init__","ReductoValidationWarning.__init__"],["main","create_tables"],["get_organization_context","OrganizationContext.query"],["ElasticsearchService.create_index","_get_es_field_type"],["ExportService.export_by_template","ExportService.documents_to_records"],["SchemaError.__init__","SchemaError.__init__"],["migrate_documents_to_extractions","infer_template_from_schema"],["get_all_settings","get_all_settings"],["FileUploadError.__init__","AnswerCache.__init__"],["QueryFieldExtractor._extract_fields_recursive","_handle_aggregations"],["ResourceNotFoundError.__init__","QueryOptimizer.__init__"],["OrganizationContext.check_document_access","PostgresService.get_document"],["ValidationError.__init__","ClaudeService.__init__"],["create_api_key","hash_password"],["PaperbaseException.__init__","MockField.__init__"],["NotFoundError.__init__","ConfigurationError.__init__"],["ExtractionValidator._create_validation_model","ExtractionValidator._get_pydantic_type"],["ReductoService._parse_extraction_with_bbox","_parse_extraction_with_bbox"],["PaperbaseException.__init__","ElasticsearchMCPService.__init__"],["ExportService.export_by_template","ExportService.build_export_query"],["NotFoundError.__init__","QueryFieldExtractor.__init__"],["ExportService.export_multi_template_separated","ExportService._create_table_sheet"],["CanonicalFieldService.get_all_fields_for_canonical","CanonicalFieldService.get_mapping"],["ExternalServiceError.__init__","FileService.__init__"],["PostgresServiceEnhanced.index_document","PostgresService._build_canonical_fields"],["FileUploadError.__init__","QueryExpansionService.__init__"],["FileUploadError.__init__","ExtractionService.__init__"],["ExtractionValidator.validate_extraction","_validate_field"],["NotFoundError.__init__","SettingsService.__init__"],["ElasticsearchError.__init__","PermissionService.__init__"],["ProcessingError.__init__","ClaudeError.__init__"],["OAuthService.get_authorization_url","OAuthService.generate_state"],["PaperbaseException.__init__","ProcessingError.__init__"],["main","check_item"],["SchemaError.__init__","DatabaseService.__init__"],["ValidationError.__init__","QueryOptimizer.__init__"],["ConfigurationError.__init__","ElasticsearchService.__init__"],["remove_alias","CanonicalFieldService.remove_alias"],["ExternalServiceError.__init__","ReductoService.__init__"],["update_user","get_user_permissions"],["ProcessingError.__init__","PostgresService.__init__"],["QueryExpansionService.expand_simple","QueryExpansionService._tokenize"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_po_field"],["get_audit_stats","get_audit_stats"],["ValidationError.__init__","OAuthService.__init__"],["ProcessingError.__init__","PermissionDeniedError.__init__"],["cached","get_all_templates"],["get_multi_aggregations","get_multi_aggregations"],["ExportService.export_by_template","export_to_excel"],["OrganizationService.get_organization_members","get_organization_members"],["FileUploadError.__init__","ExternalServiceError.__init__"],["OrganizationContext.organization","OrganizationContext.query"],["ValidationError.__init__","ReductoValidationWarning.__init__"],["PaperbaseException.__init__","ElasticsearchError.__init__"],["ElasticsearchMCPService.close","close"],["SchemaError.__init__","PaperbaseException.__init__"],["ClaudeError.__init__","ValidationError.__init__"],["ExtractionValidator._validate_business_rules","_validate_po_field"],["ExportService.export_to_excel","ExportService._detect_complex_fields"],["PermissionDeniedError.__init__","ExtractionValidator.__init__"],["PostgresServiceEnhanced._translate_es_query","PostgresServiceEnhanced._translate_es_clause"],["OrganizationService.create_invite","OrganizationService.generate_invite_code"],["test_create_table_sheet","create_test_documents"],["ElasticsearchError.__init__","ReductoService.__init__"],["ReductoError.__init__","ClaudeService.__init__"],["accept_invite","OrganizationService.accept_invite"],["ProcessingError.__init__","MockTemplate.__init__"],["get_organization","OrganizationService.get_organization_members"],["PostgresService.cluster_uploaded_documents","ElasticsearchService._calculate_text_similarity"],["list_extractions","list_extractions"],["ElasticsearchService.create_index","ElasticsearchService._build_complex_field_mapping"],["get_user","require_permission"],["ask_ai","format_answer_for_claude"],["get_preset_aggregation","PostgresService.get_multi_aggregations"],["OrganizationService.generate_invite_code","OrganizationService.generate_invite_code"],["SchemaRegistry.get_field_context","SchemaRegistry._generate_aliases"],["ElasticsearchMCPService.get_aggregations","get_aggregations"],["ComparisonService.compare_periods","_format_period_name"],["ExternalServiceError.__init__","QueryOptimizerLegacy.__init__"],["ExternalServiceError.__init__","OrganizationContext.__init__"],["ElasticsearchMCPService.close","DatabaseService.close"],["OrganizationContext.query","query"],["ReductoError.__init__","QueryOptimizer.__init__"],["validate_schema_for_reducto","to_dict"],["create_invite","OrganizationService.create_invite"],["ExtractionValidator._validate_field","ExtractionValidator._determine_status"],["PaperbaseException.__init__","ConfigurationError.__init__"],["ElasticsearchService.get_nested_aggregations","PostgresServiceEnhanced.search"],["CanonicalFieldService.expand_field_for_template","CanonicalFieldService.get_mapping"],["ReductoError.__init__","OAuthService.__init__"],["FieldExtractionService.extract_field_from_all_docs","_extract_field_background"],["FieldNormalizer.get_aggregation_field","FieldNormalizer.get_field_names"],["PaperbaseException.__init__","QueryFieldExtractor.__init__"],["ReductoService._parse_extraction_with_complex_types","ReductoService._parse_extraction_with_complex_types"],["SchemaError.__init__","CanonicalFieldService.__init__"],["FileUploadError.__init__","ClaudeService.__init__"],["main","check_dependencies"],["ClaudeError.__init__","DatabaseService.__init__"],["PaperbaseException.__init__","SettingsService.__init__"],["ConfigurationError.__init__","__init__"],["ProcessingError.__init__","FileService.__init__"],["PermissionDeniedError.__init__","ClaudeError.__init__"],["QueryOptimizer._find_target_field","_resolve_field"],["main","show_help"],["PostgresService._translate_es_query","_translate_es_clause"],["ElasticsearchError.__init__","QueryOptimizerLegacy.__init__"],["initialize_defaults","initialize_defaults"],["get_index_statistics","_get_index_recommendations"],["get_audit_queue","DatabaseService.get_audit_queue"],["get_template_stats","get_template_stats"],["ElasticsearchMCPService.get_document","DatabaseService.get_document"],["ElasticsearchService.find_similar_templates","PostgresServiceEnhanced.search"],["ElasticsearchService.search","ElasticsearchService.search"],["ElasticsearchMCPService.search_with_context","QueryOptimizer.build_optimized_query"],["ComparisonService.compare_periods","ComparisonService._format_period_name"],["ElasticsearchService.get_multi_aggregations","PostgresServiceEnhanced.search"],["ConfigurationError.__init__","AnswerCache.__init__"],["PermissionDeniedError.__init__","FieldExtractionService.__init__"],["PermissionDeniedError.__init__","PermissionDeniedError.__init__"],["OrganizationService.accept_invite","accept_invite"],["ClaudeError.__init__","PaperbaseException.__init__"],["FileUploadError.__init__","OAuthService.__init__"],["FileUploadError.__init__","ReductoValidationWarning.__init__"],["ConfigurationError.__init__","QueryExpansionService.__init__"],["ReductoService._convert_to_reducto_schema","map_type_to_json_schema"],["add_alias","add_alias"],["ConfigurationError.__init__","ExtractionService.__init__"],["build_audit_url","build_audit_url"],["ExportService.export_multi_template_separated","_create_array_of_objects_sheet"],["PermissionDeniedError.__init__","MockTemplate.__init__"],["ReductoService._parse_extraction_with_complex_types","_parse_extraction_with_complex_types"],["CacheService.get","get"],["ValidationError.__init__","ConfigurationError.__init__"],["call_tool","_get_templates"],["NotFoundError.__init__","ExtractionValidator.__init__"],["SchemaRegistry.get_field_context","_get_standard_field_description"],["create_new_template","_validate_and_normalize_fields"],["ValidationError.__init__","QueryFieldExtractor.__init__"],["get_all_settings","get_default_context"],["ValidationError.__init__","SettingsService.__init__"],["ProcessingError.__init__","OrganizationContext.__init__"],["FileUploadError.__init__","ElasticsearchMCPService.__init__"],["AnswerCache.set","_evict_oldest"],["PaperbaseException.__init__","NotFoundError.__init__"],["ConfigurationError.__init__","ExternalServiceError.__init__"],["CacheService.clear","clear"],["cancel_job","cancel_job"],["CacheService.get","CacheService.get"],["analyze_template_compatibility","ExportService.analyze_template_compatibility"],["SchemaError.__init__","ReductoError.__init__"],["ComparisonService._format_period_name","_is_year"],["ConfigurationError.__init__","FileUploadError.__init__"],["PostgresServiceEnhanced._translate_es_query","PostgresService._translate_es_clause"],["PermissionDeniedError.__init__","FileService.__init__"],["QueryFieldExtractor.__init__","QueryFieldExtractor._reset"],["CanonicalFieldService.expand_field_all_templates","CanonicalFieldService.get_mapping"],["ReductoService.extract_structured","ReductoService.parse_document"],["OrganizationService.generate_slug","generate_slug"],["SchemaError.__init__","EncryptionService.__init__"],["ExtractionValidator._validate_field","_determine_status"],["ResourceNotFoundError.__init__","CanonicalFieldService.__init__"],["OrganizationService.create_organization","generate_slug"],["NotFoundError.__init__","ClaudeError.__init__"],["delete_setting","get_default_context"],["ProcessingError.__init__","MockDocument.__init__"],["get_multi_aggregations","PostgresService.get_multi_aggregations"],["ClaudeError.__init__","SchemaRegistry.__init__"],["PermissionDeniedError.__init__","ReductoService.__init__"],["validate_schema_for_reducto","validate_field_name"],["get_job_status","get_job_status"],["CanonicalFieldService.__init__","CanonicalFieldService._load_cache"],["QueryExpansionService.expand_query","QueryExpansionService._find_synonyms"],["call_tool","_get_statistics"],["ClaudeError.__init__","NotFoundError.__init__"],["FileUploadError.__init__","ElasticsearchError.__init__"],["compare_templates","compare_templates"],["batch_extract","ExtractionService.batch_extract"],["ReductoError.__init__","ConfigurationError.__init__"],["ElasticsearchError.__init__","ClaudeService.__init__"],["aggregate_field","aggregate_field"],["ReductoError.__init__","QueryFieldExtractor.__init__"],["ElasticsearchService.create_index","ElasticsearchService._get_es_field_type"],["SchemaError.__init__","ClaudeError.__init__"],["search_documents","_add_template_filter"],["test_debug","ReductoService.upload_file"],["NotFoundError.__init__","FieldExtractionService.__init__"],["ExtractionValidator._validate_field","ExtractionValidator._validate_business_rules"],["analyze_template_compatibility","analyze_template_compatibility"],["ReductoError.__init__","SettingsService.__init__"],["SchemaError.__init__","FieldNormalizer.__init__"],["NotFoundError.__init__","PermissionDeniedError.__init__"],["OrganizationContext.get_documents","OrganizationContext.query"],["ValidationError.__init__","CanonicalFieldService.__init__"],["PermissionService.revoke_share_link","require_document_access"],["PermissionService.check_permission","PermissionService._has_permission_via_role"],["SchemaError.__init__","PostgresService.__init__"],["ElasticsearchError.__init__","QueryOptimizer.__init__"],["PaperbaseException.__init__","ExtractionValidator.__init__"],["get_organization_context","OrganizationContext.get_documents"],["ElasticsearchMCPService.get_aggregations","PostgresService.get_aggregations"],["CacheService.clear","AnswerCache.clear"],["ProcessingError.__init__","PostgresServiceEnhanced.__init__"],["main","test_parse_natural_language_query"],["ExtractionValidator._validate_field","_get_field_config"],["ExtractionValidator._validate_field","_validate_business_rules"],["FileUploadError.__init__","ConfigurationError.__init__"],["NotFoundError.__init__","MockTemplate.__init__"],["ElasticsearchService.index_document","ElasticsearchService._build_canonical_fields"],["compare_periods","compare_periods"],["PermissionDeniedError.__init__","QueryOptimizerLegacy.__init__"],["PostgresService.get_multi_aggregations","PostgresServiceEnhanced.get_aggregations"],["natural_language_query","_hash_query"],["PermissionDeniedError.__init__","OrganizationContext.__init__"],["FileUploadError.__init__","QueryFieldExtractor.__init__"],["ExportService.export_multi_template_separated","ExportService._detect_complex_fields"],["get_document_details","get_document_details"],["ConfigurationError.__init__","OAuthService.__init__"],["ClaudeError.__init__","ComparisonService.__init__"],["FileUploadError.__init__","SettingsService.__init__"],["create_organization","create_organization"],["get_processing_timeline","get_processing_timeline"],["ClaudeError.__init__","ReductoError.__init__"],["QueryOptimizer.build_optimized_query","_get_date_range"],["ElasticsearchMCPService.health_check","PostgresService.health_check"],["ConfigurationError.__init__","ReductoValidationWarning.__init__"],["QueryOptimizer._find_target_field","QueryOptimizer._resolve_field"],["PaperbaseException.__init__","ResourceNotFoundError.__init__"],["call_tool","_get_audit_queue"],["QueryFieldExtractor.extract_fields","QueryFieldExtractor._extract_fields_recursive"],["ProcessingError.__init__","CacheService.__init__"],["ExternalServiceError.__init__","ValidationError.__init__"],["test_json_export","create_test_documents"],["ReductoError.__init__","CanonicalFieldService.__init__"],["NotFoundError.__init__","FileService.__init__"],["ElasticsearchService.search","PostgresService.search"],["accept_invite","OrganizationService.get_organization_members"],["SettingsService.set_setting","SettingsService._serialize_value"],["ConfigurationError.__init__","MockField.__init__"],["PermissionService.revoke_role","_audit_log"],["ExtractionValidator._validate_field","ExtractionValidator._validate_with_pydantic"],["ComparisonService.compare_groups","_merge_filters"],["ExportService.export_multi_template_separated","_create_table_sheet"],["ConfigurationError.__init__","ElasticsearchMCPService.__init__"],["ExternalServiceError.__init__","SchemaError.__init__"],["ClaudeError.__init__","FieldNormalizer.__init__"],["ElasticsearchMCPService.health_check","ElasticsearchMCPService.health_check"],["OrganizationService.create_organization","create_organization"],["delete_document","ElasticsearchService.delete_document"],["NotFoundError.__init__","ReductoService.__init__"],["get_nested_aggregations","PostgresService.get_nested_aggregations"],["PaperbaseException.__init__","FieldExtractionService.__init__"],["get_organization_members","OrganizationService.get_organization_members"],["ExportService.export_multi_template_merged","export_to_csv"],["ConfigurationError.__init__","ProcessingError.__init__"],["ClaudeError.__init__","ResourceNotFoundError.__init__"],["CacheService._get_cache_for_category","CacheService.get"],["get_document_by_filename","DatabaseService.search_documents"],["main","get_project_paths"],["ElasticsearchService.cluster_uploaded_documents","_calculate_text_similarity"],["ComparisonService._format_period_name","_is_month"],["check_templates","count_templates"],["get_dashboard_stats","get_dashboard_stats"],["ResourceNotFoundError.__init__","ClaudeError.__init__"],["CanonicalFieldService.refresh_cache","_load_cache"],["ElasticsearchService._build_complex_field_mapping","_get_es_field_type"],["remove_alias","remove_alias"],["get_document_permissions","build_share_url"],["ExternalServiceError.__init__","DatabaseService.__init__"],["QueryFieldExtractor._handle_multi_field_query","_add_field"],["get_low_confidence_fields","get_low_confidence_fields"],["ConfigurationError.__init__","ElasticsearchError.__init__"],["ResourceNotFoundError.__init__","PostgresService.__init__"],["QueryExpansionService.expand_query","QueryExpansionService._tokenize"],["QueryOptimizerLegacy.understand_query_intent","QueryOptimizer._resolve_field"],["PaperbaseException.__init__","PermissionService.__init__"],["format_bbox_for_frontend","normalize_bbox"],["ElasticsearchMCPService.get_document","ElasticsearchService.get_document"],["get_low_confidence_fields","DatabaseService.get_audit_queue"],["OrganizationService.generate_slug","OrganizationService.generate_slug"],["get_export_summary","ExportService.get_export_summary"],["ValidationError.__init__","ClaudeError.__init__"],["test_create_array_of_objects_sheet","create_test_documents"],["NotFoundError.__init__","QueryOptimizerLegacy.__init__"],["NotFoundError.__init__","OrganizationContext.__init__"],["OrganizationService.create_organization","OrganizationService.generate_slug"],["OrganizationContext.get_document","query"],["TestInvitationSystem.test_accept_invitation","generate_test_token"],["CacheService.get","_get_cache_for_category"],["ExternalServiceError.__init__","PaperbaseException.__init__"],["search_in_folder","FolderService.search_in_folder"],["main","verify_migration"],["QueryOptimizer.understand_query_intent","QueryOptimizer._extract_numeric_filters"],["SchemaError.__init__","OrganizationContext.__init__"],["get_user","PermissionService.require_permission"],["PermissionDeniedError.__init__","CacheService.__init__"],["ValidationError.__init__","PermissionDeniedError.__init__"],["QueryOptimizer.understand_query_intent","_extract_text_filters"],["create_mcp_config","get_python_command"],["ProcessingError.__init__","ValidationError.__init__"],["ClaudeError.__init__","ElasticsearchService.__init__"],["ClaudeError.__init__","PermissionService.__init__"],["PostgresService.index_document","PostgresServiceEnhanced._build_canonical_fields"],["ExtractionValidator._create_validation_model","ExtractionValidator._get_field_kwargs"],["ConfigurationError.__init__","QueryFieldExtractor.__init__"],["ExportService.export_multi_template_separated","export_multi_template_merged"],["PaperbaseException.__init__","ReductoService.__init__"],["ConfigurationError.__init__","SettingsService.__init__"],["ProcessingError.__init__","SchemaError.__init__"],["PermissionService.assign_role","PermissionService._audit_log"],["ExtractionValidator._validate_field","_validate_field_type"],["format_answer_for_claude","replace_marker"],["ValidationError.__init__","MockTemplate.__init__"],["FileUploadError.__init__","ExtractionValidator.__init__"],["PermissionService.grant_document_access","PermissionService.check_document_access"],["SchemaError.__init__","MockDocument.__init__"],["create_organization","OrganizationService.create_organization"],["get_setting","get_setting"],["run_integration_tests","test_search_with_template_filter"],["ExternalServiceError.__init__","CanonicalFieldService.__init__"],["ReductoError.__init__","ClaudeError.__init__"],["run_integration_tests","test_health"],["refresh_cache","refresh_cache"],["run_integration_tests","test_templates_endpoint"],["get_low_confidence_fields_for_documents","get_low_confidence_fields_for_documents"],["QueryOptimizer.understand_query_intent","_extract_numeric_filters"],["PostgresService.close","PostgresService.close"],["ProcessingError.__init__","DatabaseService.__init__"],["OrganizationService.delete_organization","OrganizationService.delete_organization"],["PostgresServiceEnhanced._apply_custom_query","PostgresServiceEnhanced._apply_sql_conditions"],["ExtractionValidator._validate_field","ExtractionValidator._get_field_config"],["ReductoError.__init__","PermissionDeniedError.__init__"],["OrganizationContext.check_document_access","get_document"],["get_current_user","verify_api_key"],["PaperbaseException.__init__","QueryOptimizerLegacy.__init__"],["AnswerCache.clear","clear"],["ValidationError.__init__","FileService.__init__"],["ElasticsearchError.__init__","CanonicalFieldService.__init__"],["get_audit_stats","get_audit_queue"],["SchemaError.__init__","PostgresServiceEnhanced.__init__"],["add_field_from_description","suggest_field_from_description"],["CacheService.get","CacheService._get_cache_for_category"],["ElasticsearchMCPService.get_document","ElasticsearchMCPService.get_document"],["ElasticsearchMCPService.close","ElasticsearchMCPService.close"],["ClaudeError.__init__","__init__"],["ExtractionValidator._validate_business_rules","_validate_receipt_field"],["ProcessingError.__init__","PaperbaseException.__init__"],["ValidationError.__init__","ReductoService.__init__"],["ElasticsearchService.index_document","PostgresService._build_canonical_fields"],["main","get_claude_config_path"],["PostgresService.search","PostgresService._apply_custom_query"],["OrganizationContext.get_schema","query"],["ReductoError.__init__","MockTemplate.__init__"],["cached","CacheService.set"],["SchemaError.__init__","FileUploadError.__init__"],["main","test_answer_generation"],["cached","CacheService.get"],["PostgresServiceEnhanced._apply_custom_query","_apply_sql_conditions"],["PermissionDeniedError.__init__","ValidationError.__init__"],["ConfigurationError.__init__","NotFoundError.__init__"],["get_setting","get_default_context"],["extract_fields_from_es_query","extract_fields"],["FileUploadError.__init__","FieldExtractionService.__init__"],["filter_audit_items_by_fields","filter_audit_items_by_fields"],["FileUploadError.__init__","PermissionDeniedError.__init__"],["ClaudeError.__init__","AnswerCache.__init__"],["PostgresServiceEnhanced.search","PostgresServiceEnhanced._apply_custom_query"],["ResourceNotFoundError.__init__","OrganizationContext.__init__"],["ElasticsearchMCPService.health_check","ElasticsearchService.health_check"],["PermissionDeniedError.__init__","SchemaError.__init__"],["ExportService.export_multi_template_merged","export_to_excel"],["FileService.upload_multiple","upload_file"],["SchemaError.__init__","CacheService.__init__"],["ClaudeError.__init__","QueryExpansionService.__init__"],["get_trend","ComparisonService.get_trend"],["FileUploadError.__init__","MockTemplate.__init__"],["ClaudeError.__init__","ExtractionService.__init__"],["EncryptionService.encrypt_dict","EncryptionService.encrypt_dict"],["ExtractionService.batch_extract","ExtractionService.process_extraction"],["ReductoError.__init__","FileService.__init__"],["PostgresService.get_aggregations","PostgresService._apply_filters"],["ExternalServiceError.__init__","ReductoError.__init__"],["ReductoService.extract_structured","ReductoService._parse_extraction_with_complex_types"],["AnswerCache.clear","AnswerCache.clear"],["encrypt_oauth_tokens","EncryptionService.encrypt_dict"],["ValidationError.__init__","QueryOptimizerLegacy.__init__"],["ValidationError.__init__","OrganizationContext.__init__"],["main","migrate_template_signatures"],["QueryExpansionService.expand_simple","QueryExpansionService._find_synonyms"],["PermissionService.check_permission","_has_permission_via_role"],["QueryOptimizer._extract_numeric_filters","QueryOptimizer._find_target_field"],["PermissionDeniedError.__init__","DatabaseService.__init__"],["ExternalServiceError.__init__","EncryptionService.__init__"],["ResourceNotFoundError.__init__","MockDocument.__init__"],["ExtractionService.batch_extract","create_extraction"],["ComparisonService.compare_periods","_merge_filters"],["ElasticsearchService.get_nested_aggregations","search"],["PostgresService.search","_apply_custom_query"],["PermissionService.check_folder_access","PermissionService.check_permission"],["create_share_link","create_share_link"],["FieldNormalizer.build_canonical_document","get_canonical_name"],["get_nested_aggregations","get_nested_aggregations"],["ExportService.export_multi_template_separated","ExportService._create_array_of_objects_sheet"],["get_folder_tree","FolderService.get_folder_tree"],["ClaudeError.__init__","ExternalServiceError.__init__"],["modify_schema_with_prompt","modify_schema_with_prompt"],["AnswerCache.get","_generate_cache_key"],["ConfigurationError.__init__","ExtractionValidator.__init__"],["ProcessingError.__init__","SchemaRegistry.__init__"],["FileUploadError.__init__","FileService.__init__"],["ExternalServiceError.__init__","ClaudeError.__init__"],["rollback","rollback"],["ExternalServiceError.__init__","FieldNormalizer.__init__"],["ValidationError.__init__","MockDocument.__init__"],["PermissionDeniedError.__init__","PaperbaseException.__init__"],["QueryExpansionService.expand_simple","_tokenize"],["migrate_documents_to_extractions","generate_organized_path"],["list_templates","list_templates"],["PaperbaseException.__init__","ClaudeService.__init__"],["ElasticsearchService.find_similar_templates","search"],["PostgresServiceEnhanced.search","PostgresService._apply_custom_query"],["get_setting","SettingsService.get_setting"],["ElasticsearchService.get_multi_aggregations","search"],["ExternalServiceError.__init__","PostgresService.__init__"],["FileUploadError.__init__","ReductoService.__init__"],["get_user","get_user_permissions"],["check_dependencies","print_success"],["main","test_aggregation_answer_generation"],["ResourceNotFoundError.__init__","PostgresServiceEnhanced.__init__"],["ReductoService.extract_structured","_parse_citations"],["ReductoError.__init__","QueryOptimizerLegacy.__init__"],["ReductoError.__init__","OrganizationContext.__init__"],["main","run_setup"],["ElasticsearchError.__init__","ClaudeError.__init__"],["NotFoundError.__init__","ValidationError.__init__"],["PaperbaseException.__init__","QueryOptimizer.__init__"],["SchemaError.__init__","MockField.__init__"],["ResourceNotFoundError.__init__","FileUploadError.__init__"],["ExtractionValidator._validate_field","ExtractionValidator._infer_field_type"],["ElasticsearchService._build_complex_field_mapping","ElasticsearchService._get_es_field_type"],["ConfigurationError.__init__","ResourceNotFoundError.__init__"],["main","test_audit_queue_response"],["FieldNormalizer.initialize","_infer_canonical_category"],["ElasticsearchService.close","close"],["get_user","PermissionService.get_user_permissions"],["PermissionService.grant_document_access","OrganizationContext.check_document_access"],["AnswerCache.set","_generate_cache_key"],["ClaudeError.__init__","ClaudeService.__init__"],["organize_document_file_copy","get_template_folder"],["ElasticsearchError.__init__","PostgresService.__init__"],["NotFoundError.__init__","SchemaError.__init__"],["get_trend","get_trend"],["PostgresService.close","close"],["SchemaError.__init__","ValidationError.__init__"],["cached","CacheService.make_key"],["QueryFieldExtractor._handle_field_query","QueryFieldExtractor._add_field"],["OrganizationService.create_invite","OrganizationService.create_invite"],["SchemaError.__init__","ProcessingError.__init__"],["ExportService.export_to_excel","_detect_complex_fields"],["ElasticsearchError.__init__","PermissionDeniedError.__init__"],["ProcessingError.__init__","ComparisonService.__init__"],["PermissionDeniedError.__init__","CanonicalFieldService.__init__"],["PostgresService.index_document","_build_canonical_fields"],["ProcessingError.__init__","ReductoError.__init__"],["SchemaRegistry.get_field_context","SchemaRegistry._get_standard_field_type"],["ResourceNotFoundError.__init__","CacheService.__init__"],["ConfigurationError.__init__","FieldExtractionService.__init__"],["ReductoError.__init__","MockDocument.__init__"],["validate_schema_for_reducto","BackgroundJob.to_dict"],["CacheService.clear","CacheService._get_cache_for_category"],["FileUploadError.__init__","QueryOptimizerLegacy.__init__"],["encrypt_oauth_tokens","encrypt_oauth_tokens"],["QueryOptimizer.build_optimized_query","QueryOptimizerLegacy._get_date_range"],["ProcessingError.__init__","EncryptionService.__init__"],["ElasticsearchService.close","DatabaseService.close"],["create_test_documents","MockDocument.add_field"],["PostgresServiceEnhanced.search","_apply_custom_query"],["TestMemberManagement.test_change_member_role","generate_test_token"],["FieldNormalizer._expand_canonical_fields","FieldNormalizer._expand_canonical_fields"],["ElasticsearchMCPService.get_document","OrganizationContext.get_document"],["ElasticsearchError.__init__","MockTemplate.__init__"],["ClaudeError.__init__","OAuthService.__init__"],["PostgresService.close","DatabaseService.close"],["CanonicalFieldService.__init__","_load_cache"],["ReductoService._parse_extraction_with_bbox","ReductoService._parse_extraction_with_bbox"],["NotFoundError.__init__","DatabaseService.__init__"],["PostgresService.get_multi_aggregations","ElasticsearchService.get_aggregations"],["ExternalServiceError.__init__","ElasticsearchService.__init__"],["CanonicalFieldService.expand_field_all_templates","get_mapping"],["PermissionDeniedError.__init__","SchemaRegistry.__init__"],["OAuthService.get_user_info","get_user_info"],["PostgresServiceEnhanced._translate_es_clause","PostgresServiceEnhanced._apply_field_boosting"],["ClaudeError.__init__","ReductoValidationWarning.__init__"],["ValidationError.__init__","CacheService.__init__"],["get_settings_by_category","get_all_settings"],["compare_templates_prompt","compare_templates_prompt"],["ProcessingError.__init__","FieldNormalizer.__init__"],["revoke_share_link","PermissionService.revoke_share_link"],["main","verify_setup"],["ConfigurationError.__init__","PermissionService.__init__"],["export_custom","ExportService.analyze_template_compatibility"],["NotFoundError.__init__","PaperbaseException.__init__"],["ClaudeError.__init__","MockField.__init__"],["ElasticsearchError.__init__","FileService.__init__"],["ClaudeError.__init__","ElasticsearchMCPService.__init__"],["OrganizationContext.query","OrganizationContext.query"],["search_documents","_get_template_context"],["OrganizationService.accept_invite","OrganizationService.accept_invite"],["revoke_document_access","revoke_document_access"],["test_citations","FileService.upload_file"],["ClaudeError.__init__","ProcessingError.__init__"],["QueryFieldExtractor._extract_fields_recursive","_handle_nested_query"],["ExtractionValidator._validate_field","_validate_with_pydantic"],["FolderService._tree_to_list","_tree_to_list"],["ExportService.export_multi_template_separated","documents_to_records"],["OrganizationService.transfer_ownership","OrganizationService.transfer_ownership"],["OrganizationService.create_invite","create_invite"],["OrganizationContext.check_document_access","DatabaseService.get_document"],["PostgresServiceEnhanced._apply_custom_query","PostgresService._translate_es_query"],["PermissionDeniedError.__init__","ReductoError.__init__"],["cached","AnswerCache.set"],["ConfigurationError.__init__","ReductoService.__init__"],["QueryOptimizerLegacy.build_optimized_query","_get_date_range"],["upgrade","add_column"],["ReductoError.__init__","CacheService.__init__"],["export_custom","analyze_template_compatibility"],["OrganizationService.get_organization_members","OrganizationService.get_organization_members"],["multi_aggregate","_format_multi_agg_summary"],["ResourceNotFoundError.__init__","ValidationError.__init__"],["NotFoundError.__init__","CanonicalFieldService.__init__"],["PermissionDeniedError.__init__","EncryptionService.__init__"],["ClaudeError.__init__","ElasticsearchError.__init__"],["AnswerCache.clear","CacheService.clear"],["PermissionService.revoke_role","PermissionService.require_permission"],["get_folder_stats","FolderService.get_folder_stats"],["OAuthService.refresh_access_token","refresh_access_token"],["ResourceNotFoundError.__init__","SchemaError.__init__"],["test_mcp_server","print_success"],["FolderService.get_folder_tree","_tree_to_list"],["ProcessingError.__init__","ElasticsearchService.__init__"],["OrganizationService.remove_member","remove_member"],["OAuthService.get_authorization_url","generate_state"],["ExternalServiceError.__init__","AnswerCache.__init__"],["ElasticsearchService.search","PostgresServiceEnhanced.search"],["ValidationError.__init__","ValidationError.__init__"],["ReductoService.parse_document","_extract_confidence_scores"],["ElasticsearchError.__init__","OrganizationContext.__init__"],["PermissionDeniedError.__init__","FieldNormalizer.__init__"],["search_in_folder","search_in_folder"],["PostgresServiceEnhanced._apply_custom_query","PostgresService._apply_sql_conditions"],["ReductoService._convert_to_reducto_schema","ReductoService.map_type_to_json_schema"],["ExternalServiceError.__init__","MockDocument.__init__"],["PermissionDeniedError.__init__","PostgresService.__init__"],["ElasticsearchMCPService.close","ElasticsearchService.close"],["FileUploadError.__init__","QueryOptimizer.__init__"],["ValidationError.__init__","SchemaError.__init__"],["ConfigurationError.__init__","QueryOptimizerLegacy.__init__"],["ClaudeError.__init__","ConfigurationError.__init__"],["SchemaRegistry.get_field_context","SchemaRegistry._get_standard_field_description"],["PermissionService.grant_document_access","check_document_access"],["SchemaError.__init__","SchemaRegistry.__init__"],["ElasticsearchService.get_nested_aggregations","ElasticsearchService.search"],["ResourceNotFoundError.__init__","DatabaseService.__init__"],["ClaudeError.__init__","QueryFieldExtractor.__init__"],["get_document_by_filename","search_documents"],["PermissionService.assign_role","_audit_log"],["QueryExpansionService.expand_simple","_find_synonyms"],["SchemaError.__init__","NotFoundError.__init__"],["get_extraction_stats","get_extraction_stats"],["ClaudeError.__init__","SettingsService.__init__"],["PostgresService._translate_es_query","PostgresServiceEnhanced._translate_es_clause"],["ElasticsearchError.__init__","MockDocument.__init__"],["ReductoService.parse_document","upload_file"],["delete_document","PostgresService.delete_document"],["SchemaRegistry.get_field_context","_generate_aliases"],["ask_ai","ask_ai"],["_format_multi_agg_summary","_format_agg_summary"],["PermissionService.revoke_document_access","PermissionService.check_document_access"],["ValidationError.__init__","DatabaseService.__init__"],["ExternalServiceError.__init__","PostgresServiceEnhanced.__init__"],["ResourceNotFoundError.__init__","PaperbaseException.__init__"],["ElasticsearchService.find_similar_templates","ElasticsearchService.search"],["test_csv_export","create_test_documents"],["OrganizationContext.get_physical_file","OrganizationContext.query"],["PostgresService._apply_custom_query","PostgresServiceEnhanced._apply_sql_conditions"],["PaperbaseException.__init__","CanonicalFieldService.__init__"],["ReductoError.__init__","ValidationError.__init__"],["ExternalServiceError.__init__","FileUploadError.__init__"],["NotFoundError.__init__","ReductoError.__init__"],["ProcessingError.__init__","__init__"],["QueryOptimizerLegacy.understand_query_intent","_resolve_field"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_contract_field"],["PostgresService._apply_custom_query","_translate_es_query"],["seed_templates","seed_builtin_templates"],["update_user","require_permission"],["update_claude_config","print_error"],["ReductoError.__init__","SchemaError.__init__"],["ExportService.export_multi_template_separated","_detect_complex_fields"],["NotFoundError.__init__","EncryptionService.__init__"],["SchemaError.__init__","ComparisonService.__init__"],["get_current_user","decode_access_token"],["ValidationError.__init__","PaperbaseException.__init__"],["PermissionDeniedError.__init__","ElasticsearchService.__init__"],["ElasticsearchError.__init__","PostgresServiceEnhanced.__init__"],["OrganizationService.update_member_role","update_member_role"],["get_settings_by_category","get_default_context"],["PostgresServiceEnhanced.index_document","_build_canonical_fields"],["ProcessingError.__init__","AnswerCache.__init__"],["get_field_accuracy_report","get_field_accuracy_report"],["ExternalServiceError.__init__","CacheService.__init__"],["ComparisonService._format_period_name","ComparisonService._is_quarter"],["test_initialize_from_registry","SchemaRegistry.get_canonical_field_mapping"],["PostgresService._apply_custom_query","_apply_sql_conditions"],["get_current_user_optional","get_current_user"],["test_detect_complex_fields","create_test_documents"],["NotFoundError.__init__","FieldNormalizer.__init__"],["ProcessingError.__init__","QueryExpansionService.__init__"],["ReductoError.__init__","DatabaseService.__init__"],["QueryFieldExtractor._handle_bool_query","_extract_fields_recursive"],["ProcessingError.__init__","ExtractionService.__init__"],["get_verification_history","get_verification_history"],["get_all_settings","SettingsService.get_all_settings"],["FileUploadError.__init__","SchemaError.__init__"],["test_excel_multi_sheet","create_test_documents"],["NotFoundError.__init__","PostgresService.__init__"],["OrganizationService.delete_organization","delete_organization"],["QueryOptimizer.understand_query_intent","_extract_date_filters"],["create_user","require_permission"],["decrypt_oauth_tokens","decrypt_oauth_tokens"],["QueryFieldExtractor._handle_aggregations","QueryFieldExtractor._extract_fields_recursive"],["ElasticsearchError.__init__","CacheService.__init__"],["PermissionService.assign_role","require_permission"],["ConfigurationError.__init__","ClaudeService.__init__"],["main","test_mcp_rag_response"],["PostgresService.index_document","ElasticsearchService._build_canonical_fields"],["AnswerCache.set","AnswerCache._evict_oldest"],["ReductoService.parse_document","ReductoService._extract_confidence_scores"],["create_share_link","build_share_url"],["ResourceNotFoundError.__init__","SchemaRegistry.__init__"],["SchemaError.__init__","ResourceNotFoundError.__init__"],["ExportService.export_by_template","ExportService.export_to_excel"],["FieldNormalizer.initialize","FieldNormalizer._infer_canonical_category"],["ResourceNotFoundError.__init__","NotFoundError.__init__"],["get_field_insights","get_field_insights"],["ReductoError.__init__","PaperbaseException.__init__"],["QueryExpansionService.expand_query","_tokenize"],["encrypt_oauth_tokens","get_encryption_service"],["get_job_status","ReductoService.get_job_status"],["ElasticsearchMCPService.search_with_context","QueryOptimizer.understand_query_intent"],["ProcessingError.__init__","ExternalServiceError.__init__"],["test_documents_to_records","create_test_documents"],["ConfigurationError.__init__","QueryOptimizer.__init__"],["FileUploadError.__init__","DatabaseService.__init__"],["ProcessingError.__init__","FileUploadError.__init__"],["PostgresService.get_multi_aggregations","get_aggregations"],["PermissionDeniedError.__init__","__init__"],["call_tool","_verify_extraction"],["ValidationError.__init__","SchemaRegistry.__init__"],["ExtractionValidator._create_validation_model","_get_pydantic_type"],["QueryFieldExtractor.extract_fields","QueryFieldExtractor._reset"],["ExternalServiceError.__init__","MockField.__init__"],["ClaudeError.__init__","ExtractionValidator.__init__"],["revoke_document_access","PermissionService.revoke_document_access"],["PostgresService._translate_es_query","PostgresService._translate_es_clause"],["create_share_link","PermissionService.create_share_link"],["OAuthService.get_authorization_url","OAuthService.get_authorization_url"],["PostgresService.get_aggregations","_apply_filters"],["FileUploadError.__init__","PaperbaseException.__init__"],["ExternalServiceError.__init__","ElasticsearchMCPService.__init__"],["PermissionDeniedError.__init__","AnswerCache.__init__"],["CacheService._get_cache_for_category","get"],["QueryFieldExtractor.extract_fields","_extract_fields_recursive"],["NotFoundError.__init__","ElasticsearchService.__init__"],["OrganizationService.update_member_role","OrganizationService.update_member_role"],["PaperbaseException.__init__","ClaudeError.__init__"],["OrganizationContext.get_documents","query"],["ResourceNotFoundError.__init__","ComparisonService.__init__"],["transfer_ownership","OrganizationService.transfer_ownership"],["extract_fields_from_es_query","QueryFieldExtractor.extract_fields"],["main","print_error"],["PermissionDeniedError.__init__","MockDocument.__init__"],["ExtractionValidator._validate_business_rules","_validate_contract_field"],["ResourceNotFoundError.__init__","ReductoError.__init__"],["ExternalServiceError.__init__","ProcessingError.__init__"],["PostgresService.cluster_uploaded_documents","_calculate_text_similarity"],["ElasticsearchService.get_nested_aggregations","PostgresService.search"],["PermissionDeniedError.__init__","ExtractionService.__init__"],["OrganizationContext.check_document_access","ElasticsearchService.get_document"],["SchemaError.__init__","ElasticsearchService.__init__"],["PaperbaseException.__init__","PostgresService.__init__"],["test_citations","ReductoService.upload_file"],["SchemaError.__init__","PermissionService.__init__"],["ResourceNotFoundError.__init__","EncryptionService.__init__"],["check_dependencies","print_error"],["PaperbaseException.__init__","PermissionDeniedError.__init__"],["ExportService.export_multi_template_separated","ExportService.export_multi_template_merged"],["PostgresServiceEnhanced._apply_custom_query","PostgresServiceEnhanced._translate_es_query"],["ElasticsearchError.__init__","ValidationError.__init__"],["ValidationError.__init__","ReductoError.__init__"],["ReductoError.__init__","SchemaRegistry.__init__"],["AnswerCache.get","get"],["SchemaRegistry.get_canonical_field_mapping","SchemaRegistry._get_canonical_name"],["FileUploadError.__init__","CanonicalFieldService.__init__"],["OrganizationService.remove_member","OrganizationService.remove_member"],["PermissionService.revoke_document_access","OrganizationContext.check_document_access"],["search_documents","DatabaseService.search_documents"],["ProcessingError.__init__","OAuthService.__init__"],["ElasticsearchService.find_similar_templates","PostgresService.search"],["decrypt_oauth_tokens","decrypt_dict"],["ElasticsearchError.__init__","SchemaError.__init__"],["ResourceNotFoundError.__init__","FieldNormalizer.__init__"],["ValidationError.__init__","EncryptionService.__init__"],["PermissionDeniedError.__init__","PostgresServiceEnhanced.__init__"],["PaperbaseException.__init__","MockTemplate.__init__"],["ElasticsearchService.get_multi_aggregations","PostgresService.search"],["ResourceNotFoundError.__init__","ResourceNotFoundError.__init__"],["QueryOptimizer._find_target_field","QueryOptimizerLegacy._resolve_field"],["ProcessingError.__init__","ReductoValidationWarning.__init__"],["ClaudeError.__init__","FieldExtractionService.__init__"],["ClaudeError.__init__","PermissionDeniedError.__init__"],["PermissionDeniedError.__init__","FileUploadError.__init__"],["ElasticsearchService.get_aggregations","PostgresServiceEnhanced.search"],["AnswerCache.get","CacheService.get"],["run_integration_tests","test_frontend_compatibility"],["hybrid_match_document","extract_field_names_from_parse"],["main","create_extensions"],["QueryFieldExtractor._handle_nested_query","QueryFieldExtractor._extract_fields_recursive"],["NotFoundError.__init__","__init__"],["ValidationError.__init__","FieldNormalizer.__init__"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_field_query"],["ProcessingError.__init__","MockField.__init__"],["ElasticsearchError.__init__","DatabaseService.__init__"],["validate_schema_for_reducto","ReductoValidationWarning.to_dict"],["TestMemberManagement.test_remove_member","generate_test_token"],["ClaudeError.__init__","MockTemplate.__init__"],["ValidationError.__init__","PostgresService.__init__"],["ProcessingError.__init__","ElasticsearchMCPService.__init__"],["PaperbaseException.__init__","FileService.__init__"],["SchemaError.__init__","__init__"],["SettingsService.get_all_settings","SettingsService._deserialize_value"],["PostgresService.close","ElasticsearchMCPService.close"],["get_job_status","FieldExtractionService.get_job_status"],["ReductoError.__init__","ReductoError.__init__"],["ConfigurationError.__init__","ConfigurationError.__init__"],["NotFoundError.__init__","AnswerCache.__init__"],["ProcessingError.__init__","ProcessingError.__init__"],["PermissionService.revoke_share_link","PermissionService._audit_log"],["deactivate_user","require_permission"],["TestMultiTenancyIsolation.test_schema_isolation","generate_test_token"],["PostgresService.search","PostgresServiceEnhanced._apply_custom_query"],["main","create_mcp_config"],["aggregate_field","_format_agg_summary"],["SettingsService.initialize_defaults","set_setting"],["revoke_share_link","revoke_share_link"],["ReductoError.__init__","EncryptionService.__init__"],["NotFoundError.__init__","MockDocument.__init__"],["OAuthService.store_tokens_on_user","OAuthService.store_tokens_on_user"],["ElasticsearchError.__init__","PaperbaseException.__init__"],["cached","DatabaseService.get_all_templates"],["SchemaError.__init__","AnswerCache.__init__"],["upgrade","execute"],["initialize_defaults","SettingsService.initialize_defaults"],["PermissionService.check_document_access","check_permission"],["ReductoService.extract_structured","upload_file"],["OrganizationContext.check_document_access","ElasticsearchMCPService.get_document"],["CacheService.get","AnswerCache.get"],["PermissionService.require_permission","PermissionService.check_permission"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_invoice_field"],["ComparisonService._format_period_name","ComparisonService._is_month"],["PostgresService._apply_custom_query","PostgresService._translate_es_query"],["ExtractionService.batch_extract","ExtractionService.create_extraction"],["ClaudeError.__init__","FileService.__init__"],["ResourceNotFoundError.__init__","ElasticsearchService.__init__"],["ProcessingError.__init__","ElasticsearchError.__init__"],["QueryOptimizerLegacy.build_optimized_query","QueryOptimizerLegacy._get_date_range"],["ResourceNotFoundError.__init__","PermissionService.__init__"],["OAuthService.refresh_access_token","OAuthService.refresh_access_token"],["ElasticsearchMCPService.get_aggregations","ElasticsearchMCPService.get_aggregations"],["SchemaRegistry.get_field_context","SchemaRegistry._generate_typical_queries"],["FileUploadError.__init__","ReductoError.__init__"],["ElasticsearchService.close","PostgresService.close"],["SchemaError.__init__","QueryExpansionService.__init__"],["ReductoError.__init__","FieldNormalizer.__init__"],["SchemaError.__init__","ExtractionService.__init__"],["OrganizationContext.get_schema","OrganizationContext.query"],["call_tool","_get_document"],["PostgresService.get_multi_aggregations","PostgresService.get_aggregations"],["ExtractionValidator._validate_field","_infer_field_type"],["ClaudeError.__init__","ReductoService.__init__"],["ElasticsearchMCPService.search_with_context","ElasticsearchMCPService._get_available_fields"],["PostgresService.cluster_uploaded_documents","PostgresService._calculate_text_similarity"],["FieldNormalizer.normalize_query_fields","FieldNormalizer._canonicalize_fields"],["ReductoError.__init__","PostgresService.__init__"],["FileUploadError.__init__","EncryptionService.__init__"],["get_my_organization","OrganizationService.get_organization_members"],["cached","get"],["NotFoundError.__init__","PostgresServiceEnhanced.__init__"],["require_permission","require_permission"],["PostgresService.index_document","PostgresService._build_canonical_fields"],["ValidationError.__init__","ElasticsearchService.__init__"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._extract_fields_recursive"],["PaperbaseException.__init__","OrganizationContext.__init__"],["ExportService.export_to_excel","ExportService._create_table_sheet"],["QueryExpansionService.expand_query","_find_synonyms"],["ExternalServiceError.__init__","SchemaRegistry.__init__"],["ExportService.export_multi_template_separated","build_export_query"],["NotFoundError.__init__","FileUploadError.__init__"],["PermissionService.create_share_link","_audit_log"],["PostgresServiceEnhanced._apply_custom_query","_translate_es_query"],["ExternalServiceError.__init__","NotFoundError.__init__"],["EncryptionService.decrypt_dict","decrypt_dict"],["ProcessingError.__init__","ConfigurationError.__init__"],["SchemaError.__init__","ExternalServiceError.__init__"],["FileUploadError.__init__","ClaudeError.__init__"],["main","test_answer_caching"],["ElasticsearchService.cluster_uploaded_documents","PostgresService._calculate_text_similarity"],["PermissionDeniedError.__init__","MockField.__init__"],["PostgresService._apply_custom_query","PostgresService._apply_sql_conditions"],["FileUploadError.__init__","FieldNormalizer.__init__"],["ProcessingError.__init__","QueryFieldExtractor.__init__"],["ConfigurationError.__init__","CanonicalFieldService.__init__"],["PermissionDeniedError.__init__","ElasticsearchMCPService.__init__"],["test_mcp_server","print_error"],["ProcessingError.__init__","SettingsService.__init__"],["FileUploadError.__init__","PostgresService.__init__"],["validate_org_access","validate_org_access"],["PermissionDeniedError.__init__","ProcessingError.__init__"],["AnswerCache.set","AnswerCache._generate_cache_key"],["ElasticsearchError.__init__","SchemaRegistry.__init__"],["ClaudeError.__init__","QueryOptimizerLegacy.__init__"],["NotFoundError.__init__","CacheService.__init__"],["get_breadcrumbs","FolderService.get_breadcrumbs"],["PaperbaseException.__init__","MockDocument.__init__"],["ElasticsearchService.create_index","_build_complex_field_mapping"],["update_organization","get_organization_members"],["delete_organization","delete_organization"],["create_organization","OrganizationService.get_organization_members"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_bool_query"],["ResourceNotFoundError.__init__","__init__"],["PermissionService.revoke_document_access","check_document_access"],["ExportService.export_by_template","documents_to_records"],["OAuthService.get_tokens_from_user","get_tokens_from_user"],["ComparisonService._format_period_name","ComparisonService._is_year"],["delete_document","delete_document"],["ExtractionService.batch_extract","process_extraction"],["get_folder_stats","get_folder_stats"],["get_user_permissions","require_permission"],["FieldNormalizer._expand_canonical_fields","get_field_names"],["ExtractionValidator._get_validation_model","ExtractionValidator._create_validation_model"],["ReductoError.__init__","ElasticsearchService.__init__"],["PermissionDeniedError.__init__","ElasticsearchError.__init__"],["ExternalServiceError.__init__","ComparisonService.__init__"],["SchemaError.__init__","ClaudeService.__init__"],["ResourceNotFoundError.__init__","AnswerCache.__init__"],["PostgresService.get_nested_aggregations","ElasticsearchMCPService.get_aggregations"],["CacheService.set","_get_cache_for_category"],["ValidationError.__init__","__init__"],["FieldNormalizer.get_search_fields_for_category","FieldNormalizer.get_field_names"],["SettingsService.set_setting","_serialize_value"],["ensure_org_id","ensure_org_id"],["main","backup_config"],["PaperbaseException.__init__","PostgresServiceEnhanced.__init__"],["batch_extract","batch_extract"],["OAuthService.store_tokens_on_user","store_tokens_on_user"],["ResourceNotFoundError.__init__","QueryExpansionService.__init__"],["ResourceNotFoundError.__init__","ExtractionService.__init__"],["get_export_summary","get_export_summary"],["ExportService.export_by_template","export_to_json"],["ElasticsearchError.__init__","ComparisonService.__init__"],["ElasticsearchError.__init__","ReductoError.__init__"],["PermissionService.assign_role","PermissionService.require_permission"],["ValidationError.__init__","AnswerCache.__init__"],["ElasticsearchService.search","search"],["OrganizationContext.check_schema_access","get_schema"],["CacheService._get_cache_for_category","AnswerCache.get"],["main","print_success"],["SchemaError.__init__","OAuthService.__init__"],["ProcessingError.__init__","NotFoundError.__init__"],["list_users","require_permission"],["QueryOptimizer.understand_query_intent","QueryOptimizer._extract_date_filters"],["get_audit_queue","get_audit_queue"],["ElasticsearchError.__init__","EncryptionService.__init__"],["get_template_details","get_template_details"],["SchemaError.__init__","ReductoValidationWarning.__init__"],["OAuthService.get_user_info","OAuthService.get_user_info"],["ExtractionValidator._validate_with_dynamic_model","ExtractionValidator._get_validation_model"],["ExternalServiceError.__init__","ResourceNotFoundError.__init__"],["PermissionService.require_document_access","PermissionService.check_document_access"],["NotFoundError.__init__","MockField.__init__"],["FieldNormalizer.get_canonical_name","_infer_canonical_category"],["validate_schema_for_reducto","validate_field_description"],["ValidationError.__init__","ExtractionService.__init__"],["prepare_citation_metadata","build_audit_url"],["ResourceNotFoundError.__init__","ExternalServiceError.__init__"],["NotFoundError.__init__","ElasticsearchMCPService.__init__"],["PaperbaseException.__init__","CacheService.__init__"],["ReductoService.extract_structured","_parse_extraction_with_complex_types"],["ExtractionValidator._validate_business_rules","ExtractionValidator._validate_receipt_field"],["OrganizationContext.check_document_access","OrganizationContext.get_document"],["FieldNormalizer.build_canonical_document","FieldNormalizer.get_canonical_name"],["ClaudeService.analyze_sample_documents","_build_schema_generation_prompt"],["ReductoError.__init__","__init__"],["NotFoundError.__init__","ProcessingError.__init__"],["QueryFieldExtractor.extract_fields","_reset"],["ElasticsearchError.__init__","FieldNormalizer.__init__"],["delete_setting","delete_setting"],["QueryOptimizer.understand_query_intent","QueryOptimizer._extract_text_filters"],["downgrade","drop_column"],["SchemaError.__init__","ElasticsearchMCPService.__init__"],["ExportService.export_to_excel","_create_array_of_objects_sheet"],["get_extraction_stats","ExtractionService.get_extraction_stats"],["ConfigurationError.__init__","ClaudeError.__init__"],["ValidationError.__init__","PostgresServiceEnhanced.__init__"],["ValidationError.__init__","ExternalServiceError.__init__"],["call_tool","_search_documents"],["ReductoError.__init__","AnswerCache.__init__"],["ExtractionValidator.validate_extraction","ExtractionValidator._validate_with_dynamic_model"],["ConfigurationError.__init__","PostgresService.__init__"],["PostgresServiceEnhanced.index_document","PostgresServiceEnhanced._build_canonical_fields"],["ValidationError.__init__","FileUploadError.__init__"],["ExtractionValidator._validate_with_dynamic_model","ExtractionValidator._determine_status"],["NotFoundError.__init__","ElasticsearchError.__init__"],["ReductoService.extract_structured","parse_document"],["main","update_claude_config"],["ConfigurationError.__init__","PermissionDeniedError.__init__"],["ClaudeError.__init__","QueryOptimizer.__init__"],["ProcessingError.__init__","ExtractionValidator.__init__"],["FileUploadError.__init__","OrganizationContext.__init__"],["compare_groups","compare_groups"],["compare_periods","ComparisonService.compare_periods"],["get_dashboard_aggregations","ElasticsearchService.get_multi_aggregations"],["ResourceNotFoundError.__init__","ClaudeService.__init__"],["ReductoError.__init__","ExtractionService.__init__"],["normalize_bbox","normalize_bbox"],["SchemaError.__init__","ElasticsearchError.__init__"],["ExtractionValidator._validate_with_dynamic_model","_get_validation_type"],["ExternalServiceError.__init__","PermissionService.__init__"],["PermissionDeniedError.__init__","NotFoundError.__init__"],["QueryFieldExtractor._handle_multi_field_query","QueryFieldExtractor._add_field"],["ConfigurationError.__init__","MockTemplate.__init__"],["QueryOptimizer.build_optimized_query","QueryOptimizer._get_date_range"],["ExtractionValidator.validate_extraction","ExtractionValidator._validate_field"],["check_dependencies","print_info"],["SchemaRegistry.get_field_context","_get_standard_field_type"],["get_recent_documents","DatabaseService.search_documents"],["run_integration_tests","test_audit_metadata"],["PermissionService.grant_document_access","_audit_log"],["FolderService._tree_to_list","FolderService._tree_to_list"],["ElasticsearchService.index_document","_build_canonical_fields"],["FileUploadError.__init__","MockDocument.__init__"],["ProcessingError.__init__","ResourceNotFoundError.__init__"],["ResourceNotFoundError.__init__","OAuthService.__init__"],["ReductoService.extract_field_from_chunks","ReductoService._extract_value_after_hint"],["ReductoError.__init__","PostgresServiceEnhanced.__init__"],["ReductoError.__init__","ExternalServiceError.__init__"],["get_audit_stats","DatabaseService.get_audit_queue"],["ElasticsearchService.close","ElasticsearchService.close"],["ExportService.export_by_template","ExportService.export_to_json"],["ElasticsearchError.__init__","ElasticsearchService.__init__"],["PermissionService.revoke_document_access","PermissionService._audit_log"],["PaperbaseException.__init__","ValidationError.__init__"],["PostgresService.close","ElasticsearchService.close"],["get_organization_context","query"],["ResourceNotFoundError.__init__","ReductoValidationWarning.__init__"],["PostgresServiceEnhanced._translate_es_query","_translate_es_clause"],["ReductoError.__init__","FileUploadError.__init__"],["SchemaError.__init__","ConfigurationError.__init__"],["ElasticsearchMCPService.search_with_context","build_optimized_query"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_aggregations"],["PostgresService._apply_custom_query","PostgresServiceEnhanced._translate_es_query"],["SchemaError.__init__","QueryFieldExtractor.__init__"],["cached","decorator"],["get_recent_documents","get_recent_documents"],["main","run_server"],["PaperbaseException.__init__","SchemaError.__init__"],["ConfigurationError.__init__","FileService.__init__"],["SchemaError.__init__","SettingsService.__init__"],["SchemaRegistry.get_field_context","_generate_typical_queries"],["get_organization","get_organization_members"],["ProcessingError.__init__","FieldExtractionService.__init__"],["FolderService.get_folder_tree","FolderService._tree_to_list"],["ExportService.export_multi_template_merged","ExportService.export_to_excel"],["delete_setting","SettingsService.delete_setting"],["ResourceNotFoundError.__init__","MockField.__init__"],["OrganizationService.transfer_ownership","transfer_ownership"],["PermissionDeniedError.__init__","ComparisonService.__init__"],["main","test_audit_stats_response"],["FileUploadError.__init__","PostgresServiceEnhanced.__init__"],["ResourceNotFoundError.__init__","ElasticsearchMCPService.__init__"],["cached","AnswerCache.get"],["OAuthService.get_authorization_url","OAuthService.generate_pkce_pair"],["ElasticsearchMCPService.get_document","PostgresService.get_document"],["update_user","PermissionService.get_user_permissions"],["ElasticsearchMCPService.search_with_context","_get_available_fields"],["FileService.upload_multiple","FileService.upload_file"],["delete_organization","OrganizationService.delete_organization"],["FileUploadError.__init__","FileUploadError.__init__"],["deactivate_user","PermissionService.require_permission"],["ExternalServiceError.__init__","__init__"],["ResourceNotFoundError.__init__","ProcessingError.__init__"],["ExportService.export_multi_template_merged","ExportService.export_to_csv"],["ExportService.export_multi_template_merged","build_export_query"],["FieldNormalizer._expand_canonical_fields","FieldNormalizer.get_field_names"],["PaperbaseException.__init__","DatabaseService.__init__"],["ClaudeError.__init__","SchemaError.__init__"],["ValidationError.__init__","MockField.__init__"],["quick_comparison","compare_periods"],["ElasticsearchMCPService.get_aggregations","PostgresServiceEnhanced.get_aggregations"],["PermissionService.create_share_link","PermissionService._audit_log"],["ValidationError.__init__","ElasticsearchMCPService.__init__"],["FieldExtractionService.extract_field_from_all_docs","FieldExtractionService._extract_field_background"],["ProcessingError.__init__","PermissionService.__init__"],["run_integration_tests","test_error_handling"],["ExtractionValidator._validate_with_dynamic_model","_determine_status"],["ExtractionValidator.validate_extraction","_validate_cross_field_rules"],["OrganizationContext.organization","query"],["ValidationError.__init__","ProcessingError.__init__"],["NotFoundError.__init__","SchemaRegistry.__init__"],["FileUploadError.__init__","CacheService.__init__"],["ElasticsearchError.__init__","__init__"],["ResourceNotFoundError.__init__","ElasticsearchError.__init__"],["PermissionService.require_document_access","OrganizationContext.check_document_access"],["SettingsService.get_all_settings","_deserialize_value"],["NotFoundError.__init__","NotFoundError.__init__"],["ElasticsearchService.cluster_uploaded_documents","ElasticsearchService._calculate_text_similarity"],["ElasticsearchMCPService.search_with_context","QueryOptimizerLegacy.build_optimized_query"],["PermissionDeniedError.__init__","ResourceNotFoundError.__init__"],["PaperbaseException.__init__","PaperbaseException.__init__"],["ExportService.export_to_excel","_create_table_sheet"],["PermissionService.revoke_share_link","_audit_log"],["ConfigurationError.__init__","OrganizationContext.__init__"],["ExternalServiceError.__init__","QueryExpansionService.__init__"],["ExternalServiceError.__init__","ExtractionService.__init__"],["ReductoError.__init__","ReductoValidationWarning.__init__"],["require_permission","PermissionService.require_permission"],["ReductoService.extract_structured","ReductoService._parse_citations"],["main","test_mcp_server"],["ElasticsearchError.__init__","AnswerCache.__init__"],["ExtractionValidator.validate_extraction","ExtractionValidator._validate_cross_field_rules"],["ValidationError.__init__","ElasticsearchError.__init__"],["SettingsService.initialize_defaults","SettingsService.set_setting"],["get_organization_context","get_documents"],["cached","make_key"],["ProcessingError.__init__","ReductoService.__init__"],["search_documents","search_documents"],["get_query_suggestions","_get_context_suggestions"],["QueryFieldExtractor._extract_fields_recursive","_handle_bool_query"],["ReductoError.__init__","MockField.__init__"],["ResourceNotFoundError.__init__","ConfigurationError.__init__"],["ElasticsearchError.__init__","QueryExpansionService.__init__"],["ElasticsearchError.__init__","ExtractionService.__init__"],["ExternalServiceError.__init__","ExternalServiceError.__init__"],["ReductoError.__init__","ElasticsearchMCPService.__init__"],["ResourceNotFoundError.__init__","QueryFieldExtractor.__init__"],["ConfigurationError.__init__","MockDocument.__init__"],["prepare_citation_metadata","prepare_citation_metadata"],["FieldNormalizer.normalize_query_fields","_expand_canonical_fields"],["ElasticsearchService.get_multi_aggregations","ElasticsearchService.search"],["ResourceNotFoundError.__init__","SettingsService.__init__"],["NotFoundError.__init__","ComparisonService.__init__"],["accept_invite","accept_invite"],["ElasticsearchService.get_aggregations","search"],["ReductoError.__init__","ProcessingError.__init__"],["hybrid_match_document","_no_match_result"],["test_mcp_server","print_info"],["ComparisonService._format_period_name","_is_quarter"],["get_dashboard_aggregations","get_multi_aggregations"],["get_low_confidence_fields","get_audit_queue"],["extract_fields_from_es_query","extract_fields_from_es_query"],["main","migrate_documents_to_physical_files"],["get_user_permissions","PermissionService.require_permission"],["ElasticsearchError.__init__","ExternalServiceError.__init__"],["FileUploadError.__init__","MockField.__init__"],["OAuthService.get_authorization_url","generate_pkce_pair"],["PermissionDeniedError.__init__","PermissionService.__init__"],["PostgresService.get_nested_aggregations","PostgresServiceEnhanced.get_aggregations"],["PostgresService.get_nested_aggregations","get_aggregations"],["ProcessingError.__init__","QueryOptimizerLegacy.__init__"],["decrypt_oauth_tokens","EncryptionService.decrypt_dict"],["PaperbaseException.__init__","SchemaRegistry.__init__"],["ExportService.export_multi_template_separated","ExportService.documents_to_records"],["SchemaError.__init__","ExtractionValidator.__init__"],["remove_member","remove_member"],["ReductoService.extract_structured","ReductoService._convert_to_reducto_schema"],["ElasticsearchError.__init__","FileUploadError.__init__"],["ReductoError.__init__","ElasticsearchError.__init__"],["decrypt_oauth_tokens","get_encryption_service"],["ClaudeError.__init__","CanonicalFieldService.__init__"],["ConfigurationError.__init__","PostgresServiceEnhanced.__init__"],["create_invite","create_invite"],["FieldNormalizer.normalize_query_fields","FieldNormalizer._expand_canonical_fields"],["FileUploadError.__init__","ValidationError.__init__"],["FileUploadError.__init__","ProcessingError.__init__"],["CacheService.delete","_get_cache_for_category"],["ExternalServiceError.__init__","ClaudeService.__init__"],["create_test_documents","add_field"],["verify_api_key","verify_password"],["FieldNormalizer.get_canonical_name","FieldNormalizer._infer_canonical_category"],["ComparisonService.compare_groups","ComparisonService._merge_filters"],["SettingsService.get_setting","_deserialize_value"],["NotFoundError.__init__","ResourceNotFoundError.__init__"],["ExportService.export_multi_template_separated","ExportService.build_export_query"],["OrganizationContext.get_physical_file","query"],["PostgresServiceEnhanced._translate_es_clause","_apply_field_boosting"],["QueryFieldExtractor._handle_aggregations","_extract_fields_recursive"],["cached","cached"],["ExternalServiceError.__init__","QueryOptimizer.__init__"],["main","run_health_check"],["add_alias","CanonicalFieldService.add_alias"],["ExtractionValidator._validate_field","ExtractionValidator._validate_field_type"],["QueryFieldExtractor._handle_bool_query","QueryFieldExtractor._extract_fields_recursive"],["list_users","PermissionService.require_permission"],["get_settings_by_category","SettingsService.get_all_settings"],["ExternalServiceError.__init__","OAuthService.__init__"],["ConfigurationError.__init__","CacheService.__init__"],["ReductoService.extract_structured","ReductoService.upload_file"],["get_folder_tree","get_folder_tree"],["PaperbaseException.__init__","ComparisonService.__init__"],["ExternalServiceError.__init__","ReductoValidationWarning.__init__"],["cached","wrapper"],["PaperbaseException.__init__","ReductoError.__init__"],["main","create_trigger_function"],["ExportService.export_by_template","ExportService.export_to_csv"],["ExportService.export_by_template","build_export_query"],["QueryOptimizer._extract_numeric_filters","_find_target_field"],["main","print_warning"],["SchemaError.__init__","FieldExtractionService.__init__"],["ValidationError.__init__","NotFoundError.__init__"],["QueryFieldExtractor._extract_fields_recursive","_handle_field_query"],["SchemaError.__init__","PermissionDeniedError.__init__"],["PaperbaseException.__init__","EncryptionService.__init__"],["SchemaRegistry.get_field_context","_get_default_context"],["QueryFieldExtractor._extract_fields_recursive","_handle_multi_field_query"],["ElasticsearchError.__init__","OAuthService.__init__"],["PermissionService.require_document_access","check_document_access"],["ExtractionValidator._validate_business_rules","_validate_invoice_field"],["get_dashboard_stats","_format_dashboard_summary"],["main","create_generated_columns"],["SchemaRegistry.get_canonical_field_mapping","_get_canonical_name"],["cancel_job","FieldExtractionService.cancel_job"],["ElasticsearchError.__init__","ReductoValidationWarning.__init__"],["ExtractionValidator._get_validation_model","_create_validation_model"],["natural_language_query","_handle_aggregation_query"],["accept_invite","get_organization_members"],["PermissionService.grant_document_access","PermissionService._audit_log"],["NotFoundError.__init__","PermissionService.__init__"],["SchemaError.__init__","MockTemplate.__init__"],["transfer_ownership","transfer_ownership"],["PaperbaseException.__init__","FieldNormalizer.__init__"],["CanonicalFieldService.get_aggregation_type","get_mapping"],["CacheService.delete","CacheService._get_cache_for_category"],["ProcessingError.__init__","ClaudeService.__init__"],["PermissionDeniedError.__init__","QueryExpansionService.__init__"],["ClaudeError.__init__","EncryptionService.__init__"],["OAuthService.get_authorization_url","get_authorization_url"],["PermissionService.create_share_link","PermissionService.require_document_access"],["ResourceNotFoundError.__init__","ExtractionValidator.__init__"],["get_organization_members","get_organization_members"],["ElasticsearchError.__init__","MockField.__init__"],["cached","set"],["FieldNormalizer.get_search_fields_for_category","get_field_names"],["ElasticsearchError.__init__","ElasticsearchMCPService.__init__"],["EncryptionService.decrypt_dict","EncryptionService.decrypt_dict"],["refresh_cache","CanonicalFieldService.refresh_cache"],["ExtractionValidator._validate_with_dynamic_model","ExtractionValidator._get_validation_type"],["ValidationError.__init__","ComparisonService.__init__"],["ProcessingError.__init__","QueryOptimizer.__init__"],["ExternalServiceError.__init__","ElasticsearchError.__init__"],["QueryFieldExtractor._handle_field_query","_add_field"],["ElasticsearchError.__init__","ProcessingError.__init__"],["OrganizationContext.get_document","OrganizationContext.query"],["OAuthService.get_tokens_from_user","OAuthService.get_tokens_from_user"],["ClaudeError.__init__","ClaudeError.__init__"],["ReductoError.__init__","NotFoundError.__init__"],["ValidationError.__init__","ExtractionValidator.__init__"],["SchemaError.__init__","FileService.__init__"],["FileService.upload_multiple","ReductoService.upload_file"],["ConfigurationError.__init__","ValidationError.__init__"],["PermissionDeniedError.__init__","ExternalServiceError.__init__"],["get_dashboard_aggregations","PostgresService.get_multi_aggregations"],["ClaudeError.__init__","PostgresService.__init__"],["search_documents","_add_folder_filter"],["ExportService.export_to_excel","ExportService._create_array_of_objects_sheet"],["ConfigurationError.__init__","SchemaError.__init__"],["SchemaError.__init__","ReductoService.__init__"],["ReductoService.parse_document","FileService.upload_file"],["ElasticsearchError.__init__","ElasticsearchError.__init__"],["run_integration_tests","test_elasticsearch"],["ExportService.export_multi_template_merged","export_to_json"],["PermissionService.require_permission","check_permission"],["FileUploadError.__init__","SchemaRegistry.__init__"],["PostgresService.get_nested_aggregations","PostgresService.get_aggregations"],["QueryFieldExtractor._handle_nested_query","_extract_fields_recursive"],["ExternalServiceError.__init__","ConfigurationError.__init__"],["FileUploadError.__init__","NotFoundError.__init__"],["get_preset_aggregation","ElasticsearchService.get_multi_aggregations"],["get_user_permissions","get_user_permissions"],["ExternalServiceError.__init__","QueryFieldExtractor.__init__"],["ValidationError.__init__","ResourceNotFoundError.__init__"],["get_document_by_filename","get_document_by_filename"],["ElasticsearchService.close","ElasticsearchMCPService.close"],["PaperbaseException.__init__","ElasticsearchService.__init__"],["list_extractions","ExtractionService.list_extractions"],["ResourceNotFoundError.__init__","FieldExtractionService.__init__"],["ExternalServiceError.__init__","SettingsService.__init__"],["ResourceNotFoundError.__init__","PermissionDeniedError.__init__"],["ReductoError.__init__","ComparisonService.__init__"],["ExtractionValidator._validate_with_dynamic_model","_get_validation_model"],["ConfigurationError.__init__","DatabaseService.__init__"],["main","test_sql_filtering_optimization"],["OrganizationService.create_invite","generate_invite_code"],["PermissionDeniedError.__init__","ClaudeService.__init__"],["PermissionService.revoke_document_access","_audit_log"],["get_user_permissions","PermissionService.get_user_permissions"],["ElasticsearchService.get_aggregations","ElasticsearchService.search"],["ReductoError.__init__","ExtractionValidator.__init__"],["ElasticsearchError.__init__","ConfigurationError.__init__"],["ElasticsearchError.__init__","QueryFieldExtractor.__init__"],["SchemaError.__init__","QueryOptimizerLegacy.__init__"],["ResourceNotFoundError.__init__","MockTemplate.__init__"],["ValidationError.__init__","FieldExtractionService.__init__"],["get_nested_aggregations","ElasticsearchService.get_nested_aggregations"],["OrganizationService.generate_invite_code","generate_invite_code"],["NotFoundError.__init__","QueryExpansionService.__init__"],["NotFoundError.__init__","ExtractionService.__init__"],["ElasticsearchError.__init__","SettingsService.__init__"],["get_template_document_count","get_template_folder"],["organize_document_file","get_template_folder"],["PermissionDeniedError.__init__","QueryOptimizer.__init__"],["test_debug","upload_file"],["update_member_role","update_member_role"],["ConfigurationError.__init__","PaperbaseException.__init__"],["QueryOptimizerLegacy.understand_query_intent","QueryOptimizerLegacy._resolve_field"],["client","override_get_db"],["FileUploadError.__init__","ComparisonService.__init__"],["PermissionService.revoke_role","require_permission"],["SchemaRegistry.get_all_templates_context","SchemaRegistry.get_field_context"],["PermissionDeniedError.__init__","OAuthService.__init__"],["list_users","get_user_permissions"],["AnswerCache.get","AnswerCache._generate_cache_key"],["remove_member","OrganizationService.remove_member"],["ElasticsearchMCPService.search_with_context","understand_query_intent"],["get_my_organization","get_organization_members"],["ReductoError.__init__","ResourceNotFoundError.__init__"],["PermissionDeniedError.__init__","ReductoValidationWarning.__init__"],["ElasticsearchService.index_document","PostgresServiceEnhanced._build_canonical_fields"],["main","test_url_format"],["ComparisonService.compare_periods","ComparisonService._merge_filters"],["NotFoundError.__init__","ExternalServiceError.__init__"],["QueryOptimizerLegacy.build_optimized_query","QueryOptimizer._get_date_range"],["main","migrate_documents"],["check_database","test_connection"],["ResourceNotFoundError.__init__","FileService.__init__"],["ReductoService.extract_structured","_convert_to_reducto_schema"],["ValidationError.__init__","PermissionService.__init__"],["PostgresServiceEnhanced.index_document","ElasticsearchService._build_canonical_fields"],["QueryFieldExtractor._extract_fields_recursive","_extract_fields_recursive"],["list_users","PermissionService.get_user_permissions"],["PaperbaseException.__init__","__init__"],["natural_language_query","_generate_suggested_actions"],["quick_comparison","ComparisonService.compare_periods"],["get_recent_documents","search_documents"],["auto_match_documents","hybrid_match_document"],["OAuthService.find_or_create_user","OAuthService.store_tokens_on_user"],["ResourceNotFoundError.__init__","ReductoService.__init__"],["CacheService.clear","CacheService.clear"],["ReductoError.__init__","FieldExtractionService.__init__"],["ElasticsearchMCPService.get_aggregations","ElasticsearchService.get_aggregations"],["run_integration_tests","test_search_without_filter"],["CanonicalFieldService.get_all_fields_for_canonical","get_mapping"],["TestMemberManagement.test_cannot_remove_owner","generate_test_token"],["FileUploadError.__init__","ResourceNotFoundError.__init__"],["PaperbaseException.__init__","AnswerCache.__init__"],["PermissionService.check_document_access","PermissionService.check_permission"],["ExportService.export_multi_template_merged","ExportService.build_export_query"],["PermissionService.check_folder_access","check_permission"],["OrganizationService.create_organization","OrganizationService.create_organization"],["create_organization","get_organization_members"],["ExportService.export_multi_template_merged","ExportService.export_to_json"],["ClaudeError.__init__","OrganizationContext.__init__"],["ElasticsearchError.__init__","NotFoundError.__init__"],["TestMultiTenancyIsolation.test_document_isolation","generate_test_token"],["CanonicalFieldService.get_aggregation_type","CanonicalFieldService.get_mapping"],["validate_schema_for_reducto","suggest_enum_fields"],["SettingsService.get_setting","SettingsService._deserialize_value"],["ExtractionValidator._create_validation_model","_get_field_kwargs"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_nested_query"],["update_user","PermissionService.require_permission"],["PaperbaseException.__init__","QueryExpansionService.__init__"],["NotFoundError.__init__","ClaudeService.__init__"],["get_field_insights","_format_insights_summary"],["PaperbaseException.__init__","ExtractionService.__init__"],["ConfigurationError.__init__","SchemaRegistry.__init__"],["test_citations","upload_file"],["compare_groups","ComparisonService.compare_groups"],["ElasticsearchMCPService.search_with_context","QueryOptimizerLegacy.understand_query_intent"],["ReductoError.__init__","PermissionService.__init__"],["get_multi_aggregations","ElasticsearchService.get_multi_aggregations"],["SchemaRegistry.get_field_context","SchemaRegistry._get_default_context"],["ResourceNotFoundError.__init__","QueryOptimizerLegacy.__init__"],["FieldNormalizer.normalize_query_fields","_canonicalize_fields"],["SchemaRegistry.get_all_templates_context","get_field_context"],["update_organization","OrganizationService.get_organization_members"],["ExtractionValidator.validate_extraction","_validate_with_dynamic_model"],["NotFoundError.__init__","QueryOptimizer.__init__"],["ExportService.export_by_template","export_to_csv"],["update_member_role","OrganizationService.update_member_role"],["EncryptionService.encrypt_dict","encrypt_dict"],["ElasticsearchMCPService.get_document","get_document"],["ClaudeError.__init__","MockDocument.__init__"],["ExternalServiceError.__init__","ExtractionValidator.__init__"],["ElasticsearchMCPService.health_check","health_check"],["QueryFieldExtractor.__init__","_reset"],["migrate","rollback"],["encrypt_oauth_tokens","encrypt_dict"],["NotFoundError.__init__","OAuthService.__init__"],["PaperbaseException.__init__","ExternalServiceError.__init__"],["FieldNormalizer.get_aggregation_field","get_field_names"],["SchemaError.__init__","QueryOptimizer.__init__"],["ElasticsearchMCPService.close","PostgresService.close"],["ProcessingError.__init__","CanonicalFieldService.__init__"],["PaperbaseException.__init__","FileUploadError.__init__"],["create_user","PermissionService.require_permission"],["NotFoundError.__init__","ReductoValidationWarning.__init__"],["FileUploadError.__init__","ElasticsearchService.__init__"],["FileUploadError.__init__","PermissionService.__init__"],["list_templates","seed_builtin_templates"],["PermissionDeniedError.__init__","ConfigurationError.__init__"],["CacheService.clear","_get_cache_for_category"],["ReductoError.__init__","ReductoService.__init__"],["ElasticsearchError.__init__","ExtractionValidator.__init__"],["get_preset_aggregation","get_multi_aggregations"],["ConfigurationError.__init__","ComparisonService.__init__"],["validate_schema_for_reducto","detect_embedded_calculations"],["CanonicalFieldService.expand_field_for_template","get_mapping"],["PermissionDeniedError.__init__","QueryFieldExtractor.__init__"],["OrganizationContext.check_schema_access","OrganizationContext.get_schema"],["get_breadcrumbs","get_breadcrumbs"],["ConfigurationError.__init__","ReductoError.__init__"],["validate_field_value","get_validation_schema"],["PermissionDeniedError.__init__","SettingsService.__init__"],["PostgresService.get_nested_aggregations","ElasticsearchService.get_aggregations"],["ValidationError.__init__","QueryExpansionService.__init__"],["ClaudeError.__init__","PostgresServiceEnhanced.__init__"],["get_confidence_distribution","get_confidence_distribution"],["CanonicalFieldService.refresh_cache","CanonicalFieldService._load_cache"],["ConfigurationError.__init__","EncryptionService.__init__"],["ReductoService.extract_field_from_chunks","_extract_value_after_hint"],["ElasticsearchService.get_aggregations","PostgresService.search"],["ClaudeError.__init__","FileUploadError.__init__"],["validate_schema_for_reducto","validate_extraction_hints"],["QueryFieldExtractor._extract_fields_recursive","QueryFieldExtractor._handle_multi_field_query"],["natural_language_query","_format_result"]],"d":{},"deps":{"app/api/canonical_fields.py":["typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.models.canonical_mapping","app.models.settings","app.services.canonical_field_service"],"app/api/comparisons.py":["typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.models.settings","app.services.comparison_service","datetime","dateutil.relativedelta"],"app/models/canonical_mapping.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/services/canonical_field_service.py":["logging","typing","sqlalchemy.orm","app.models.canonical_mapping"],"app/services/comparison_service.py":["logging","datetime","typing","sqlalchemy.orm","app.services.postgres_service"],"app/services/postgres_service_enhanced.py":["logging","datetime","typing","sqlalchemy","sqlalchemy.orm","app.models.document","app.models.search_index"],"app/services/postgres_service_original.py":["logging","datetime","typing","sqlalchemy","sqlalchemy.orm","app.models.document","app.models.search_index"],"app/services/query_expansion_service.py":["logging","re","typing"],"fix_document_indexing.py":["logging","sys","pathlib","sqlalchemy","sqlalchemy.orm","app.core.config","app.models.document","app.models.schema","app.models.search_index","sqlalchemy.orm.attributes"],"migrations/add_canonical_field_mappings.py":["sys","pathlib","sqlalchemy","app.core.config"],"app/api/aggregations.py":["logging","typing","fastapi","pydantic","app.services.postgres_service"],"app/api/analytics.py":["logging","datetime","fastapi","sqlalchemy","sqlalchemy.orm","app.core.database","app.models.document","app.models.schema","app.models.verification"],"app/api/audit.py":["logging","datetime","typing","fastapi","pydantic","sqlalchemy","sqlalchemy.orm","app.core.database","app.models.document","app.models.verification","app.services.claude_service","app.services.postgres_service","app.services.settings_service","app.utils.bbox_utils","app.services.postgres_service","app.services.postgres_service"],"app/api/auth.py":["datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.models.permissions","app.models.settings"],"app/api/bulk_upload.py":["logging","os","collections","datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.database","app.models.document","app.models.physical_file","app.models.schema","app.models.template","app.services.claude_service","app.services.postgres_service","app.services.file_service","app.services.reducto_service","app.utils.file_organization","app.utils.hashing","app.utils.reducto_validation","app.utils.template_matching","app.utils.template_matching","app.utils.file_organization","app.utils.hashing","app.utils.file_organization","app.utils.hashing","app.api.documents","app.utils.file_organization","app.utils.hashing","app.api.documents","app.utils.template_matching","app.models.verification","app.services.postgres_service"],"app/api/documents.py":["logging","os","datetime","typing","fastapi","sqlalchemy.orm","app.core.config","app.core.database","app.models.document","app.models.schema","app.models.template","app.services.postgres_service","app.services.reducto_service","app.utils.bbox_utils","app.core.database","app.services.postgres_service","app.services.validation_service","app.services.validation_service","traceback","app.models.query_history","app.models.physical_file","traceback","app.models.settings"],"app/api/export.py":["logging","datetime","typing","fastapi","fastapi.responses","pydantic","sqlalchemy.orm","app.core.database","app.models.template","app.services.export_service","sqlalchemy","app.models.document"],"app/api/extractions.py":["logging","typing","fastapi","pydantic","sqlalchemy.orm","app.core.database","app.models.extraction","app.models.physical_file","app.services.extraction_service","app.services.file_service"],"app/api/files.py":["logging","os","pathlib","fastapi","fastapi.responses","sqlalchemy.orm","app.core.database","app.models.document"],"app/api/folders.py":["logging","typing","fastapi","pydantic","sqlalchemy.orm","app.core.database","app.services.folder_service"],"app/api/mcp_search.py":["logging","typing","fastapi","pydantic","app.services.claude_service","app.services.postgres_service","app.services.query_optimizer","app.services.schema_registry","app.core.database","app.core.database","app.core.database","app.core.database","app.services.schema_registry","app.core.database","app.models.schema","app.core.database","app.core.database","app.services.schema_registry","app.core.database","app.core.database"],"app/api/nl_query.py":["hashlib","json","logging","datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.database","app.models.extraction","app.models.query_pattern","app.models.schema","app.services.claude_service","app.services.postgres_service","app.services.schema_registry","sqlalchemy"],"app/api/oauth.py":["logging","datetime","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.models.settings","app.services.oauth_service"],"app/api/onboarding.py":["logging","os","tempfile","datetime","typing","fastapi","pydantic","sqlalchemy.orm","sqlalchemy.orm.attributes","app.core.database","app.models.schema","app.services.claude_service","app.services.postgres_service","app.services.reducto_service","app.utils.reducto_validation","app.models.document","app.api.documents","app.models.document","app.models.document","app.services.field_extraction_service","app.services.field_extraction_service","app.services.field_extraction_service"],"app/api/organizations.py":["datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.models.settings","app.services.organization_service"],"app/api/query_suggestions.py":["logging","typing","fastapi","sqlalchemy.orm","app.core.database","app.models.schema","app.services.postgres_service"],"app/api/rematch.py":["logging","typing","fastapi","sqlalchemy","sqlalchemy.orm","app.core.database","app.models.document","app.models.template","app.services.claude_service","app.services.postgres_service","app.utils.template_matching"],"app/api/roles.py":["logging","datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.models.permissions","app.models.settings","app.services.permission_service","sqlalchemy","app.models.permissions","app.models.permissions","app.models.permissions","app.models.permissions"],"app/api/search.py":["logging","typing","fastapi","pydantic","sqlalchemy.orm","app.core.database","app.models.schema","app.services.answer_cache","app.services.claude_service","app.services.postgres_service","app.services.query_expansion_service","app.services.query_optimizer","app.utils.query_field_extractor","hashlib","datetime","app.models.query_pattern","app.services.schema_registry","app.utils.audit_helpers","app.core.config","app.models.query_history","app.services.comparison_service","app.utils.audit_helpers","app.core.config","app.models.query_history","app.models.template","app.models.template"],"app/api/settings.py":["logging","typing","fastapi","pydantic","sqlalchemy.orm","app.core.database","app.models.settings","app.services.settings_service"],"app/api/sharing.py":["logging","datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.config","app.core.database","app.core.exceptions","app.models.document","app.models.permissions","app.models.settings","app.services.permission_service","app.models.permissions","app.models.permissions"],"app/api/templates.py":["logging","fastapi","sqlalchemy.orm","app.core.database","app.data.templates","app.models.schema","app.models.template"],"app/api/users.py":["logging","datetime","typing","fastapi","pydantic","sqlalchemy.orm","app.core.auth","app.core.database","app.core.exceptions","app.models.permissions","app.models.settings","app.services.permission_service","passlib.hash","app.models.permissions","datetime"],"app/api/verification.py":["logging","uuid","datetime","typing","fastapi","sqlalchemy","sqlalchemy.orm","app.core.database","app.models.document","app.models.verification","app.services.postgres_service"],"app/core/auth.py":["secrets","datetime","typing","jwt","fastapi","fastapi.security","passlib.context","sqlalchemy.orm","app.core.config","app.core.database","app.models.permissions","app.models.settings"],"app/core/config.py":["secrets","pydantic_settings"],"app/core/database.py":["sqlalchemy","sqlalchemy.ext.declarative","sqlalchemy.orm","app.core.config"],"app/core/error_handlers.py":["logging","fastapi","fastapi.exceptions","fastapi.responses","starlette.exceptions"],"app/main.py":["logging","fastapi","fastapi.middleware.cors","app.api","app.api","app.core.config","app.core.database","app.core.error_handlers","app.core.config","app.services.postgres_service","app.core.database","app.core.database","app.services.settings_service","app.services.permission_service","app.api.templates","app.mcp"],"app/mcp/server.py":["json","logging","typing","mcp.server","mcp.types","app.core.database","app.services.postgres_service","app.core.database","app.services.postgres_service","app.core.database","app.models.document","datetime","app.core.database","app.models.document","app.models.verification","app.core.database","app.models.template","app.core.database","app.models.document","app.services.postgres_service","app.core.database","app.models.template","asyncio","mcp.server.stdio"],"app/migrations/migrate_settings.py":["sys","pathlib","logging","sqlalchemy.orm","app.core.database","app.models.settings","argparse"],"app/migrations/migrate_to_extractions.py":["sys","pathlib","logging","sqlalchemy.orm","app.core.database","app.models.batch","app.models.document","app.models.extraction","app.models.physical_file","app.utils.hashing","app.models.schema","app.models.template","app.models.template","argparse","traceback"],"app/models/background_job.py":["sqlalchemy","sqlalchemy.sql","app.core.database"],"app/models/batch.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/document.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/extraction.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/extraction_schemas.py":["app.models.extraction_schemas","logging","datetime","decimal","typing","pydantic"],"app/models/permissions.py":["enum","datetime","sqlalchemy","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/physical_file.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/query_history.py":["uuid","datetime","sqlalchemy","app.core.database"],"app/models/query_pattern.py":["datetime","sqlalchemy","app.core.database"],"app/models/query_validation.py":["datetime","sqlalchemy","app.core.database"],"app/models/schema.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/search_index.py":["datetime","sqlalchemy","sqlalchemy.dialects.postgresql","sqlalchemy.orm","app.core.database"],"app/models/settings.py":["datetime","typing","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/models/template.py":["sqlalchemy","sqlalchemy.sql","app.core.database"],"app/models/verification.py":["datetime","sqlalchemy","sqlalchemy.orm","app.core.database"],"app/services/answer_cache.py":["hashlib","logging","datetime","typing"],"app/services/claude_service.py":["calendar","json","logging","datetime","typing","anthropic","app.core.config","app.core.exceptions","traceback","datetime","re"],"app/services/elastic_service.py":["logging","datetime","typing","elasticsearch","app.core.config","datetime"],"app/services/export_service.py":["io","json","logging","datetime","typing","pandas","sqlalchemy","sqlalchemy.orm","app.models.document","app.models.template","sqlalchemy"],"app/services/extraction_service.py":["logging","datetime","typing","sqlalchemy.orm","app.core.exceptions","app.models.document","app.models.extraction","app.models.physical_file","app.models.template","app.services.postgres_service","app.services.reducto_service","app.services.settings_service","app.services.validation_service","app.models.batch","sqlalchemy"],"app/services/field_extraction_service.py":["asyncio","logging","datetime","typing","sqlalchemy.orm","sqlalchemy.orm.attributes","app.models.background_job","app.models.document","app.models.schema","app.models.verification","app.services.claude_service","app.services.postgres_service","app.services.reducto_service","app.core.database"],"app/services/field_normalizer.py":["logging","typing"],"app/services/file_service.py":["logging","os","typing","fastapi","sqlalchemy.orm","app.core.config","app.core.exceptions","app.models.physical_file","app.utils.hashing","sqlalchemy","app.models.extraction"],"app/services/folder_service.py":["logging","typing","sqlalchemy","sqlalchemy.orm","app.models.extraction","app.models.physical_file","app.models.template","datetime"],"app/services/oauth_service.py":["base64","hashlib","logging","os","secrets","datetime","typing","authlib.integrations.starlette_client","sqlalchemy.orm","starlette.config","app.models.settings","app.utils.encryption"],"app/services/organization_service.py":["logging","re","secrets","string","datetime","typing","sqlalchemy","sqlalchemy.orm","app.models.settings","json"],"app/services/permission_service.py":["logging","secrets","datetime","typing","sqlalchemy","sqlalchemy.orm","app.core.exceptions","app.models.document","app.models.permissions","app.models.settings","passlib.hash","json"],"app/services/postgres_service.py":["logging","datetime","typing","sqlalchemy","sqlalchemy.orm","app.models.document","app.models.search_index"],"app/services/query_optimizer.py":["logging","re","typing"],"app/services/reducto_service.py":["asyncio","logging","os","typing","reducto","app.core.config","app.core.exceptions"],"app/services/schema_registry.py":["logging","typing","sqlalchemy.orm","app.models.schema"],"app/services/settings_service.py":["json","logging","typing","sqlalchemy.orm","app.models.settings"],"app/services/validation_service.py":["logging","dataclasses","datetime","typing","pydantic","app.models.extraction_schemas"],"app/utils/audit_helpers.py":["logging","typing","sqlalchemy","sqlalchemy.orm","app.models.document","app.services.settings_service"],"app/utils/bbox_utils.py":["typing"],"app/utils/encryption.py":["cryptography.fernet","json","logging","os","typing","cryptography.fernet"],"app/utils/file_organization.py":["logging","os","shutil","pathlib","typing","app.core.config","datetime","datetime"],"app/utils/hashing.py":["hashlib"],"app/utils/organization_context.py":["typing","fastapi","sqlalchemy.orm","app.core.auth","app.core.database","app.models.document","app.models.physical_file","app.models.schema","app.models.settings"],"app/utils/query_field_extractor.py":["logging","typing"],"app/utils/reducto_validation.py":["logging","re","typing"],"app/utils/template_matching.py":["logging","re","typing","sqlalchemy.orm","app.models.document","app.services.claude_service","app.services.postgres_service","app.services.settings_service"],"create_admin_user.py":["sys","pathlib","sqlalchemy.orm","app.core.database","app.core.auth","app.models.settings"],"diagnose_frontend.js":["puppeteer"],"fix_document_75.py":["asyncio","sys","json","sqlalchemy","sqlalchemy.orm","app.models.document","app.models.physical_file","app.models.schema","app.services.reducto_service","app.services.elastic_service","app.core.config","json","traceback"],"mcp_server/__main__.py":["sys","logging","pathlib","mcp_server.config","mcp_server.setup","mcp_server.health_check","mcp_server.server"],"mcp_server/config.py":["pydantic_settings","typing","os"],"mcp_server/health_check.py":["sys","pathlib","fastmcp","cachetools","mcp","mcp_server.services.db_service","sqlalchemy","asyncio","mcp_server.services.es_service","asyncio","mcp_server.server","mcp_server.config","mcp_server.services.db_service","app.models.schema","sqlalchemy","asyncio","json","pathlib"],"mcp_server/prompts/analysis.py":["typing","logging","mcp_server.services.db_service"],"mcp_server/resources/documents.py":["typing","logging","mcp_server.services.db_service"],"mcp_server/resources/stats.py":["typing","logging","mcp_server.services.db_service","mcp_server.services.es_service","mcp_server.services.cache_service"],"mcp_server/resources/templates.py":["typing","logging","mcp_server.services.db_service"],"mcp_server/server.py":["fastmcp","typing","logging","mcp_server.config","mcp_server.tools","mcp_server.resources","mcp_server.resources","mcp_server.resources","mcp_server.prompts","json","json","json","json","json","json"],"mcp_server/services/cache_service.py":["cachetools","typing","datetime","hashlib","json","logging","functools","mcp_server.config"],"mcp_server/services/db_service.py":["sqlalchemy","sqlalchemy.orm","sqlalchemy.ext.asyncio","typing","datetime","logging","app.core.database","app.models.document","app.models.schema","app.models.verification","mcp_server.config","mcp_server.services.cache_service","mcp_server.config"],"mcp_server/services/es_service.py":["elasticsearch","typing","datetime","logging","json","app.services.elastic_service","app.services.query_optimizer","mcp_server.config","mcp_server.services.cache_service","re","re"],"mcp_server/setup.py":["json","os","sys","shutil","pathlib","typing","fastmcp","cachetools","mcp","shutil","requests","mcp_server.server","mcp_server.config","traceback"],"mcp_server/tools/aggregations.py":["typing","httpx","logging"],"mcp_server/tools/ai_search.py":["typing","httpx","logging","re"],"mcp_server/tools/analytics.py":["typing","datetime","logging","mcp_server.services.db_service","sqlalchemy","app.models.document"],"mcp_server/tools/audit.py":["typing","logging","mcp_server.services.db_service","mcp_server.config"],"mcp_server/tools/documents.py":["typing","datetime","logging","mcp_server.services.db_service","mcp_server.services.es_service","datetime"],"mcp_server/tools/templates.py":["typing","logging","mcp_server.services.db_service"],"migrations/add_background_jobs_table.py":["sys","os","sqlalchemy","app.core.database","app.models.background_job","logging","app.core.database","argparse"],"migrations/add_complex_data_support.py":["sqlite3","os","datetime","sys"],"migrations/add_oauth_and_organizations.py":["sys","os","pathlib","sqlalchemy","sqlalchemy.orm","app.core.database","app.models.settings","app.models.document","app.models.schema","app.models.physical_file","datetime","logging"],"migrations/add_pipeline_fields.py":["sys","pathlib","sqlalchemy","app.core.database","sys"],"migrations/add_query_history.py":["sys","os","pathlib","sqlalchemy","app.core.config","logging","traceback"],"migrations/add_semantic_search_fields.py":["sqlite3","os","datetime","sys"],"migrations/add_validation_metadata.py":["sqlalchemy","sqlalchemy.sql","datetime","sys","app.core.database","sqlalchemy","sqlalchemy"],"migrations/create_postgres_search_tables.py":["sys","pathlib","sqlalchemy","app.core.database","app.models.search_index","traceback"],"migrations/link_documents_to_physical_files.py":["os","sys","argparse","pathlib","sqlalchemy.orm","app.core.database","app.models.document","app.models.physical_file","app.utils.hashing","logging"],"migrations/migrate_es_to_postgres.py":["asyncio","sys","pathlib","sqlalchemy.orm","app.core.database","app.services.elastic_service","app.services.postgres_service","traceback"],"scripts/create_test_user.py":["sys","pathlib","sqlalchemy.orm","app.core.database","app.core.auth","app.models.settings","logging"],"scripts/generate_test_data.py":["sys","os","app.core.database","app.models.document","app.models.schema","datetime","traceback"],"test_aggregation_fix.py":["asyncio","sys","os","app.services.claude_service","app.services.elastic_service","app.core.database","sqlalchemy.orm","app.services.answer_cache","app.utils.audit_helpers"],"test_askai_integration.py":["requests","json","typing"],"test_bbox_conversion.py":["sys","app.utils.bbox_utils"],"test_export_validation.py":["sys","json","io","pandas","openpyxl","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","app.services.export_service","traceback"],"test_mcp_api_responses.py":["requests","json","datetime","traceback"],"test_mcp_structured_urls.py":["asyncio","sys","pathlib","mcp_server.tools.audit","mcp_server.config","datetime","traceback","traceback"],"test_prompt_caching.py":["asyncio","time","datetime","app.services.claude_service","app.core.config"],"test_reducto_citations.py":["asyncio","json","reducto","app.core.config"],"test_reducto_debug.py":["asyncio","json","reducto","app.core.config"],"test_reducto_integration.py":["sys","os","app.utils.reducto_validation","app.data.templates","app.services.claude_service","inspect","app.utils.reducto_validation","app.utils.reducto_validation","traceback"],"test_reducto_simple.py":["asyncio","json","app.services.reducto_service"],"test_reducto_validation.py":["sys","os","app.utils.reducto_validation","traceback"],"test_search_mock.py":["fastapi","fastapi.middleware.cors","pydantic","typing","uvicorn"],"tests/conftest.py":["pytest","fastapi.testclient","sqlalchemy","sqlalchemy.orm","app.core.database","app.main"],"tests/test_analytics.py":["pytest","datetime","app.models.document","app.models.schema","app.models.verification"],"tests/test_api_audit.py":["pytest","unittest.mock","fastapi.testclient","app.main","app.models.document","app.models.schema"],"tests/test_api_search.py":["pytest","unittest.mock","fastapi.testclient","app.main"],"tests/test_audit_helpers.py":["pytest","sqlalchemy.orm","app.utils.audit_helpers","app.models.document","app.models.schema","app.models.settings"],"tests/test_claude_service.py":["pytest","json","unittest.mock","app.services.claude_service","app.core.exceptions","app.services.schema_registry","app.models.schema","unittest.mock","app.services.schema_registry","unittest.mock"],"tests/test_elasticsearch_service.py":["pytest","unittest.mock","app.services.elastic_service"],"tests/test_field_validation.py":["pytest","sys","os","app.api.bulk_upload"],"tests/test_mcp_audit_integration.py":["pytest","fastapi.testclient","sqlalchemy.orm","app.main","app.models.document","app.models.schema"],"tests/test_oauth_integration.py":["pytest","fastapi.testclient","sqlalchemy.orm","app.models.settings","app.models.document","app.models.schema","app.models.physical_file","app.core.auth"],"tests/test_query_field_extraction.py":["pytest","app.utils.query_field_extractor"],"tests/test_query_optimizer.py":["pytest","app.services.query_optimizer"],"tests/test_reducto_service.py":["pytest","unittest.mock","app.services.reducto_service","app.core.exceptions"],"tests/test_template_creation_integration.py":["pytest","httpx","asyncio","sqlalchemy.orm","app.main","app.core.database","app.models.schema","app.models.document","app.models.physical_file","requests"],"tests/test_validation_service.py":["pytest","datetime","app.services.validation_service"],"validate_builtin_templates.py":["sys","os","app.data.templates","app.utils.reducto_validation","traceback"]},"dir_purposes":{"app/api":"API endpoints and route handlers","app/models":"Data models and database schemas","app/services":"Business logic and external service integrations","migrations":"Database migration files","app/migrations":"Database migration files","app/utils":"Shared utility functions and helpers","mcp_server/services":"Business logic and external service integrations","scripts":"Build and utility scripts","tests":"Test files and test utilities"},"staleness":1763086885.455623}